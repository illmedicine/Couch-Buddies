function yC(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qd={exports:{}},po={},Xd={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function vC(){if(Z0)return we;Z0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(R,B,ge){this.props=R,this.context=B,this.refs=S,this.updater=ge||b}C.prototype.isReactComponent={},C.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=C.prototype;function N(R,B,ge){this.props=R,this.context=B,this.refs=S,this.updater=ge||b}var j=N.prototype=new T;j.constructor=N,w(j,C.prototype),j.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,W={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function F(R,B,ge){var ye,ke={},Ee=null,Fe=null;if(B!=null)for(ye in B.ref!==void 0&&(Fe=B.ref),B.key!==void 0&&(Ee=""+B.key),B)L.call(B,ye)&&!z.hasOwnProperty(ye)&&(ke[ye]=B[ye]);var Re=arguments.length-2;if(Re===1)ke.children=ge;else if(1<Re){for(var Ge=Array(Re),Ut=0;Ut<Re;Ut++)Ge[Ut]=arguments[Ut+2];ke.children=Ge}if(R&&R.defaultProps)for(ye in Re=R.defaultProps,Re)ke[ye]===void 0&&(ke[ye]=Re[ye]);return{$$typeof:t,type:R,key:Ee,ref:Fe,props:ke,_owner:W.current}}function X(R,B){return{$$typeof:t,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function ie(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function xe(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ge){return B[ge]})}var $=/\/+/g;function le(R,B){return typeof R=="object"&&R!==null&&R.key!=null?xe(""+R.key):B.toString(36)}function ve(R,B,ge,ye,ke){var Ee=typeof R;(Ee==="undefined"||Ee==="boolean")&&(R=null);var Fe=!1;if(R===null)Fe=!0;else switch(Ee){case"string":case"number":Fe=!0;break;case"object":switch(R.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=R,ke=ke(Fe),R=ye===""?"."+le(Fe,0):ye,D(ke)?(ge="",R!=null&&(ge=R.replace($,"$&/")+"/"),ve(ke,B,ge,"",function(Ut){return Ut})):ke!=null&&(ie(ke)&&(ke=X(ke,ge+(!ke.key||Fe&&Fe.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+R)),B.push(ke)),1;if(Fe=0,ye=ye===""?".":ye+":",D(R))for(var Re=0;Re<R.length;Re++){Ee=R[Re];var Ge=ye+le(Ee,Re);Fe+=ve(Ee,B,ge,Ge,ke)}else if(Ge=y(R),typeof Ge=="function")for(R=Ge.call(R),Re=0;!(Ee=R.next()).done;)Ee=Ee.value,Ge=ye+le(Ee,Re++),Fe+=ve(Ee,B,ge,Ge,ke);else if(Ee==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Fe}function G(R,B,ge){if(R==null)return R;var ye=[],ke=0;return ve(R,ye,"","",function(Ee){return B.call(ge,Ee,ke++)}),ye}function pe(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(ge){(R._status===0||R._status===-1)&&(R._status=1,R._result=ge)},function(ge){(R._status===0||R._status===-1)&&(R._status=2,R._result=ge)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var oe={current:null},Y={transition:null},J={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:W};function Q(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:G,forEach:function(R,B,ge){G(R,function(){B.apply(this,arguments)},ge)},count:function(R){var B=0;return G(R,function(){B++}),B},toArray:function(R){return G(R,function(B){return B})||[]},only:function(R){if(!ie(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},we.Component=C,we.Fragment=n,we.Profiler=o,we.PureComponent=N,we.StrictMode=s,we.Suspense=d,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,we.act=Q,we.cloneElement=function(R,B,ge){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ye=w({},R.props),ke=R.key,Ee=R.ref,Fe=R._owner;if(B!=null){if(B.ref!==void 0&&(Ee=B.ref,Fe=W.current),B.key!==void 0&&(ke=""+B.key),R.type&&R.type.defaultProps)var Re=R.type.defaultProps;for(Ge in B)L.call(B,Ge)&&!z.hasOwnProperty(Ge)&&(ye[Ge]=B[Ge]===void 0&&Re!==void 0?Re[Ge]:B[Ge])}var Ge=arguments.length-2;if(Ge===1)ye.children=ge;else if(1<Ge){Re=Array(Ge);for(var Ut=0;Ut<Ge;Ut++)Re[Ut]=arguments[Ut+2];ye.children=Re}return{$$typeof:t,type:R.type,key:ke,ref:Ee,props:ye,_owner:Fe}},we.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},we.createElement=F,we.createFactory=function(R){var B=F.bind(null,R);return B.type=R,B},we.createRef=function(){return{current:null}},we.forwardRef=function(R){return{$$typeof:h,render:R}},we.isValidElement=ie,we.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:pe}},we.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},we.startTransition=function(R){var B=Y.transition;Y.transition={};try{R()}finally{Y.transition=B}},we.unstable_act=Q,we.useCallback=function(R,B){return oe.current.useCallback(R,B)},we.useContext=function(R){return oe.current.useContext(R)},we.useDebugValue=function(){},we.useDeferredValue=function(R){return oe.current.useDeferredValue(R)},we.useEffect=function(R,B){return oe.current.useEffect(R,B)},we.useId=function(){return oe.current.useId()},we.useImperativeHandle=function(R,B,ge){return oe.current.useImperativeHandle(R,B,ge)},we.useInsertionEffect=function(R,B){return oe.current.useInsertionEffect(R,B)},we.useLayoutEffect=function(R,B){return oe.current.useLayoutEffect(R,B)},we.useMemo=function(R,B){return oe.current.useMemo(R,B)},we.useReducer=function(R,B,ge){return oe.current.useReducer(R,B,ge)},we.useRef=function(R){return oe.current.useRef(R)},we.useState=function(R){return oe.current.useState(R)},we.useSyncExternalStore=function(R,B,ge){return oe.current.useSyncExternalStore(R,B,ge)},we.useTransition=function(){return oe.current.useTransition()},we.version="18.3.1",we}var J0;function la(){return J0||(J0=1,Xd.exports=vC()),Xd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function wC(){if(ex)return po;ex=1;var t=la(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,m){var p,g={},y=null,b=null;m!==void 0&&(y=""+m),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)s.call(d,p)&&!l.hasOwnProperty(p)&&(g[p]=d[p]);if(h&&h.defaultProps)for(p in d=h.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:h,key:y,ref:b,props:g,_owner:o.current}}return po.Fragment=n,po.jsx=u,po.jsxs=u,po}var tx;function bC(){return tx||(tx=1,Qd.exports=wC()),Qd.exports}var a=bC(),E=la();const Me=Vf(E),_C=yC({__proto__:null,default:Me},[E]);var Pl={},Zd={exports:{}},Ft={},Jd={exports:{}},eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function NC(){return nx||(nx=1,(function(t){function e(Y,J){var Q=Y.length;Y.push(J);e:for(;0<Q;){var R=Q-1>>>1,B=Y[R];if(0<o(B,J))Y[R]=J,Y[Q]=B,Q=R;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var J=Y[0],Q=Y.pop();if(Q!==J){Y[0]=Q;e:for(var R=0,B=Y.length,ge=B>>>1;R<ge;){var ye=2*(R+1)-1,ke=Y[ye],Ee=ye+1,Fe=Y[Ee];if(0>o(ke,Q))Ee<B&&0>o(Fe,ke)?(Y[R]=Fe,Y[Ee]=Q,R=Ee):(Y[R]=ke,Y[ye]=Q,R=ye);else if(Ee<B&&0>o(Fe,Q))Y[R]=Fe,Y[Ee]=Q,R=Ee;else break e}}return J}function o(Y,J){var Q=Y.sortIndex-J.sortIndex;return Q!==0?Q:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],p=1,g=null,y=3,b=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var J=n(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=Y)s(m),J.sortIndex=J.expirationTime,e(d,J);else break;J=n(m)}}function D(Y){if(S=!1,j(Y),!w)if(n(d)!==null)w=!0,pe(L);else{var J=n(m);J!==null&&oe(D,J.startTime-Y)}}function L(Y,J){w=!1,S&&(S=!1,T(F),F=-1),b=!0;var Q=y;try{for(j(J),g=n(d);g!==null&&(!(g.expirationTime>J)||Y&&!xe());){var R=g.callback;if(typeof R=="function"){g.callback=null,y=g.priorityLevel;var B=R(g.expirationTime<=J);J=t.unstable_now(),typeof B=="function"?g.callback=B:g===n(d)&&s(d),j(J)}else s(d);g=n(d)}if(g!==null)var ge=!0;else{var ye=n(m);ye!==null&&oe(D,ye.startTime-J),ge=!1}return ge}finally{g=null,y=Q,b=!1}}var W=!1,z=null,F=-1,X=5,ie=-1;function xe(){return!(t.unstable_now()-ie<X)}function $(){if(z!==null){var Y=t.unstable_now();ie=Y;var J=!0;try{J=z(!0,Y)}finally{J?le():(W=!1,z=null)}}else W=!1}var le;if(typeof N=="function")le=function(){N($)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,G=ve.port2;ve.port1.onmessage=$,le=function(){G.postMessage(null)}}else le=function(){C($,0)};function pe(Y){z=Y,W||(W=!0,le())}function oe(Y,J){F=C(function(){Y(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,pe(L))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var Q=y;y=J;try{return Y()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=y;y=Y;try{return J()}finally{y=Q}},t.unstable_scheduleCallback=function(Y,J,Q){var R=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?R+Q:R):Q=R,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,Y={id:p++,callback:J,priorityLevel:Y,startTime:Q,expirationTime:B,sortIndex:-1},Q>R?(Y.sortIndex=Q,e(m,Y),n(d)===null&&Y===n(m)&&(S?(T(F),F=-1):S=!0,oe(D,Q-R))):(Y.sortIndex=B,e(d,Y),w||b||(w=!0,pe(L))),Y},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(Y){var J=y;return function(){var Q=y;y=J;try{return Y.apply(this,arguments)}finally{y=Q}}}})(eh)),eh}var sx;function CC(){return sx||(sx=1,Jd.exports=NC()),Jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function SC(){if(rx)return Ft;rx=1;var t=la(),e=CC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(r){return d.call(g,r)?!0:d.call(p,r)?!1:m.test(r)?g[r]=!0:(p[r]=!0,!1)}function b(r,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,i,c,f){if(i===null||typeof i>"u"||b(r,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,c,f,x,v,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,N);C[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,N);C[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,N);C[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,i,c,f){var x=C.hasOwnProperty(i)?C[i]:null;(x!==null?x.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,c,x,f)&&(c=null),f||x===null?y(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):x.mustUseProperty?r[x.propertyName]=c===null?x.type===3?!1:"":c:(i=x.attributeName,f=x.attributeNamespace,c===null?r.removeAttribute(i):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,f?r.setAttributeNS(f,i,c):r.setAttribute(i,c))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),W=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),xe=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,R;function B(r){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+r}var ge=!1;function ye(r,i){if(!r||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(O){var f=O}Reflect.construct(r,[],i)}else{try{i.call()}catch(O){f=O}r.call(i.prototype)}else{try{throw Error()}catch(O){f=O}r()}}catch(O){if(O&&f&&typeof O.stack=="string"){for(var x=O.stack.split(`
`),v=f.stack.split(`
`),_=x.length-1,k=v.length-1;1<=_&&0<=k&&x[_]!==v[k];)k--;for(;1<=_&&0<=k;_--,k--)if(x[_]!==v[k]){if(_!==1||k!==1)do if(_--,k--,0>k||x[_]!==v[k]){var P=`
`+x[_].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=_&&0<=k);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?B(r):""}function ke(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function Ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case W:return"Portal";case X:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xe:return(r.displayName||"Context")+".Consumer";case ie:return(r._context.displayName||"Context")+".Provider";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return i=r.displayName||null,i!==null?i:Ee(r.type)||"Memo";case pe:i=r._payload,r=r._init;try{return Ee(r(i))}catch{}}return null}function Fe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(i);case 8:return i===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ut(r){var i=Ge(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(_){f=""+_,v.call(this,_)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function wa(r){r._valueTracker||(r._valueTracker=Ut(r))}function rp(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return r&&(f=Ge(r)?r.checked?"true":"false":r.value),r=f,r!==c?(i.setValue(r),!0):!1}function ba(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function su(r,i){var c=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ip(r,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Re(i.value!=null?i.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function op(r,i){i=i.checked,i!=null&&j(r,"checked",i,!1)}function ru(r,i){op(r,i);var c=Re(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?iu(r,i.type,c):i.hasOwnProperty("defaultValue")&&iu(r,i.type,Re(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ap(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function iu(r,i,c){(i!=="number"||ba(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Ti=Array.isArray;function jr(r,i,c,f){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Re(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,f&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function ou(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function lp(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(Ti(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:Re(c)}}function cp(r,i){var c=Re(i.value),f=Re(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function up(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function dp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?dp(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _a,hp=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,x){MSApp.execUnsafeLocalFunction(function(){return r(i,c,f,x)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=_a.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Pi(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_N=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(r){_N.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ii[i]=Ii[r]})});function fp(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Ii.hasOwnProperty(r)&&Ii[r]?(""+i).trim():i+"px"}function mp(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,x=fp(c,i[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,x):r[c]=x}}var NN=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lu(r,i){if(i){if(NN[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function cu(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function du(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hu=null,kr=null,Er=null;function pp(r){if(r=Ji(r)){if(typeof hu!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Ha(i),hu(r.stateNode,r.type,i))}}function gp(r){kr?Er?Er.push(r):Er=[r]:kr=r}function xp(){if(kr){var r=kr,i=Er;if(Er=kr=null,pp(r),i)for(r=0;r<i.length;r++)pp(i[r])}}function yp(r,i){return r(i)}function vp(){}var fu=!1;function wp(r,i,c){if(fu)return r(i,c);fu=!0;try{return yp(r,i,c)}finally{fu=!1,(kr!==null||Er!==null)&&(vp(),xp())}}function Ri(r,i){var c=r.stateNode;if(c===null)return null;var f=Ha(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var mu=!1;if(h)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{mu=!1}function CN(r,i,c,f,x,v,_,k,P){var O=Array.prototype.slice.call(arguments,3);try{i.apply(c,O)}catch(U){this.onError(U)}}var Di=!1,Na=null,Ca=!1,pu=null,SN={onError:function(r){Di=!0,Na=r}};function jN(r,i,c,f,x,v,_,k,P){Di=!1,Na=null,CN.apply(SN,arguments)}function kN(r,i,c,f,x,v,_,k,P){if(jN.apply(this,arguments),Di){if(Di){var O=Na;Di=!1,Na=null}else throw Error(n(198));Ca||(Ca=!0,pu=O)}}function Hs(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function bp(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function _p(r){if(Hs(r)!==r)throw Error(n(188))}function EN(r){var i=r.alternate;if(!i){if(i=Hs(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,f=i;;){var x=c.return;if(x===null)break;var v=x.alternate;if(v===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===c)return _p(x),r;if(v===f)return _p(x),i;v=v.sibling}throw Error(n(188))}if(c.return!==f.return)c=x,f=v;else{for(var _=!1,k=x.child;k;){if(k===c){_=!0,c=x,f=v;break}if(k===f){_=!0,f=x,c=v;break}k=k.sibling}if(!_){for(k=v.child;k;){if(k===c){_=!0,c=v,f=x;break}if(k===f){_=!0,f=v,c=x;break}k=k.sibling}if(!_)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function Np(r){return r=EN(r),r!==null?Cp(r):null}function Cp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Cp(r);if(i!==null)return i;r=r.sibling}return null}var Sp=e.unstable_scheduleCallback,jp=e.unstable_cancelCallback,TN=e.unstable_shouldYield,PN=e.unstable_requestPaint,nt=e.unstable_now,IN=e.unstable_getCurrentPriorityLevel,gu=e.unstable_ImmediatePriority,kp=e.unstable_UserBlockingPriority,Sa=e.unstable_NormalPriority,RN=e.unstable_LowPriority,Ep=e.unstable_IdlePriority,ja=null,Nn=null;function AN(r){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(ja,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:ON,DN=Math.log,MN=Math.LN2;function ON(r){return r>>>=0,r===0?32:31-(DN(r)/MN|0)|0}var ka=64,Ea=4194304;function Mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ta(r,i){var c=r.pendingLanes;if(c===0)return 0;var f=0,x=r.suspendedLanes,v=r.pingedLanes,_=c&268435455;if(_!==0){var k=_&~x;k!==0?f=Mi(k):(v&=_,v!==0&&(f=Mi(v)))}else _=c&~x,_!==0?f=Mi(_):v!==0&&(f=Mi(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&x)===0&&(x=f&-f,v=i&-i,x>=v||x===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)c=31-rn(i),x=1<<c,f|=r[c],i&=~x;return f}function LN(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FN(r,i){for(var c=r.suspendedLanes,f=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes;0<v;){var _=31-rn(v),k=1<<_,P=x[_];P===-1?((k&c)===0||(k&f)!==0)&&(x[_]=LN(k,i)):P<=i&&(r.expiredLanes|=k),v&=~k}}function xu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Tp(){var r=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),r}function yu(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function Oi(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-rn(i),r[i]=c}function BN(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var x=31-rn(c),v=1<<x;i[x]=0,f[x]=-1,r[x]=-1,c&=~v}}function vu(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var f=31-rn(c),x=1<<f;x&i|r[f]&i&&(r[f]|=i),c&=~x}}var Ae=0;function Pp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ip,wu,Rp,Ap,Dp,bu=!1,Pa=[],os=null,as=null,ls=null,Li=new Map,Fi=new Map,cs=[],zN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(r,i){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Li.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(i.pointerId)}}function Bi(r,i,c,f,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[x]},i!==null&&(i=Ji(i),i!==null&&wu(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function VN(r,i,c,f,x){switch(i){case"focusin":return os=Bi(os,r,i,c,f,x),!0;case"dragenter":return as=Bi(as,r,i,c,f,x),!0;case"mouseover":return ls=Bi(ls,r,i,c,f,x),!0;case"pointerover":var v=x.pointerId;return Li.set(v,Bi(Li.get(v)||null,r,i,c,f,x)),!0;case"gotpointercapture":return v=x.pointerId,Fi.set(v,Bi(Fi.get(v)||null,r,i,c,f,x)),!0}return!1}function Op(r){var i=Gs(r.target);if(i!==null){var c=Hs(i);if(c!==null){if(i=c.tag,i===13){if(i=bp(c),i!==null){r.blockedOn=i,Dp(r.priority,function(){Rp(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ia(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Nu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);uu=f,c.target.dispatchEvent(f),uu=null}else return i=Ji(c),i!==null&&wu(i),r.blockedOn=c,!1;i.shift()}return!0}function Lp(r,i,c){Ia(r)&&c.delete(i)}function UN(){bu=!1,os!==null&&Ia(os)&&(os=null),as!==null&&Ia(as)&&(as=null),ls!==null&&Ia(ls)&&(ls=null),Li.forEach(Lp),Fi.forEach(Lp)}function zi(r,i){r.blockedOn===i&&(r.blockedOn=null,bu||(bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UN)))}function Vi(r){function i(x){return zi(x,r)}if(0<Pa.length){zi(Pa[0],r);for(var c=1;c<Pa.length;c++){var f=Pa[c];f.blockedOn===r&&(f.blockedOn=null)}}for(os!==null&&zi(os,r),as!==null&&zi(as,r),ls!==null&&zi(ls,r),Li.forEach(i),Fi.forEach(i),c=0;c<cs.length;c++)f=cs[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<cs.length&&(c=cs[0],c.blockedOn===null);)Op(c),c.blockedOn===null&&cs.shift()}var Tr=D.ReactCurrentBatchConfig,Ra=!0;function WN(r,i,c,f){var x=Ae,v=Tr.transition;Tr.transition=null;try{Ae=1,_u(r,i,c,f)}finally{Ae=x,Tr.transition=v}}function $N(r,i,c,f){var x=Ae,v=Tr.transition;Tr.transition=null;try{Ae=4,_u(r,i,c,f)}finally{Ae=x,Tr.transition=v}}function _u(r,i,c,f){if(Ra){var x=Nu(r,i,c,f);if(x===null)zu(r,i,f,Aa,c),Mp(r,f);else if(VN(x,r,i,c,f))f.stopPropagation();else if(Mp(r,f),i&4&&-1<zN.indexOf(r)){for(;x!==null;){var v=Ji(x);if(v!==null&&Ip(v),v=Nu(r,i,c,f),v===null&&zu(r,i,f,Aa,c),v===x)break;x=v}x!==null&&f.stopPropagation()}else zu(r,i,f,null,c)}}var Aa=null;function Nu(r,i,c,f){if(Aa=null,r=du(f),r=Gs(r),r!==null)if(i=Hs(r),i===null)r=null;else if(c=i.tag,c===13){if(r=bp(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Aa=r,null}function Fp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IN()){case gu:return 1;case kp:return 4;case Sa:case RN:return 16;case Ep:return 536870912;default:return 16}default:return 16}}var us=null,Cu=null,Da=null;function Bp(){if(Da)return Da;var r,i=Cu,c=i.length,f,x="value"in us?us.value:us.textContent,v=x.length;for(r=0;r<c&&i[r]===x[r];r++);var _=c-r;for(f=1;f<=_&&i[c-f]===x[v-f];f++);return Da=x.slice(r,1<f?1-f:void 0)}function Ma(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Oa(){return!0}function zp(){return!1}function Wt(r){function i(c,f,x,v,_){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(c=r[k],this[k]=c?c(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Oa:zp,this.isPropagationStopped=zp,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),i}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=Wt(Pr),Ui=Q({},Pr,{view:0,detail:0}),HN=Wt(Ui),ju,ku,Wi,La=Q({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(ju=r.screenX-Wi.screenX,ku=r.screenY-Wi.screenY):ku=ju=0,Wi=r),ju)},movementY:function(r){return"movementY"in r?r.movementY:ku}}),Vp=Wt(La),GN=Q({},La,{dataTransfer:0}),YN=Wt(GN),qN=Q({},Ui,{relatedTarget:0}),Eu=Wt(qN),KN=Q({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),QN=Wt(KN),XN=Q({},Pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ZN=Wt(XN),JN=Q({},Pr,{data:0}),Up=Wt(JN),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s2(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=n2[r])?!!i[r]:!1}function Tu(){return s2}var r2=Q({},Ui,{key:function(r){if(r.key){var i=e2[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?t2[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(r){return r.type==="keypress"?Ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),i2=Wt(r2),o2=Q({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=Wt(o2),a2=Q({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),l2=Wt(a2),c2=Q({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),u2=Wt(c2),d2=Q({},La,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),h2=Wt(d2),f2=[9,13,27,32],Pu=h&&"CompositionEvent"in window,$i=null;h&&"documentMode"in document&&($i=document.documentMode);var m2=h&&"TextEvent"in window&&!$i,$p=h&&(!Pu||$i&&8<$i&&11>=$i),Hp=" ",Gp=!1;function Yp(r,i){switch(r){case"keyup":return f2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ir=!1;function p2(r,i){switch(r){case"compositionend":return qp(i);case"keypress":return i.which!==32?null:(Gp=!0,Hp);case"textInput":return r=i.data,r===Hp&&Gp?null:r;default:return null}}function g2(r,i){if(Ir)return r==="compositionend"||!Pu&&Yp(r,i)?(r=Bp(),Da=Cu=us=null,Ir=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $p&&i.locale!=="ko"?null:i.data;default:return null}}var x2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!x2[r.type]:i==="textarea"}function Qp(r,i,c,f){gp(f),i=Ua(i,"onChange"),0<i.length&&(c=new Su("onChange","change",null,c,f),r.push({event:c,listeners:i}))}var Hi=null,Gi=null;function y2(r){mg(r,0)}function Fa(r){var i=Or(r);if(rp(i))return r}function v2(r,i){if(r==="change")return i}var Xp=!1;if(h){var Iu;if(h){var Ru="oninput"in document;if(!Ru){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Ru=typeof Zp.oninput=="function"}Iu=Ru}else Iu=!1;Xp=Iu&&(!document.documentMode||9<document.documentMode)}function Jp(){Hi&&(Hi.detachEvent("onpropertychange",eg),Gi=Hi=null)}function eg(r){if(r.propertyName==="value"&&Fa(Gi)){var i=[];Qp(i,Gi,r,du(r)),wp(y2,i)}}function w2(r,i,c){r==="focusin"?(Jp(),Hi=i,Gi=c,Hi.attachEvent("onpropertychange",eg)):r==="focusout"&&Jp()}function b2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fa(Gi)}function _2(r,i){if(r==="click")return Fa(i)}function N2(r,i){if(r==="input"||r==="change")return Fa(i)}function C2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var on=typeof Object.is=="function"?Object.is:C2;function Yi(r,i){if(on(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!d.call(i,x)||!on(r[x],i[x]))return!1}return!0}function tg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ng(r,i){var c=tg(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=i&&f>=i)return{node:c,offset:i-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=tg(c)}}function sg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?sg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function rg(){for(var r=window,i=ba();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=ba(r.document)}return i}function Au(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function S2(r){var i=rg(),c=r.focusedElem,f=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&sg(c.ownerDocument.documentElement,c)){if(f!==null&&Au(c)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var x=c.textContent.length,v=Math.min(f.start,x);f=f.end===void 0?v:Math.min(f.end,x),!r.extend&&v>f&&(x=f,f=v,v=x),x=ng(c,v);var _=ng(c,f);x&&_&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),r.removeAllRanges(),v>f?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var j2=h&&"documentMode"in document&&11>=document.documentMode,Rr=null,Du=null,qi=null,Mu=!1;function ig(r,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Mu||Rr==null||Rr!==ba(f)||(f=Rr,"selectionStart"in f&&Au(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qi&&Yi(qi,f)||(qi=f,f=Ua(Du,"onSelect"),0<f.length&&(i=new Su("onSelect","select",null,i,c),r.push({event:i,listeners:f}),i.target=Rr)))}function Ba(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Ar={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Ou={},og={};h&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function za(r){if(Ou[r])return Ou[r];if(!Ar[r])return r;var i=Ar[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in og)return Ou[r]=i[c];return r}var ag=za("animationend"),lg=za("animationiteration"),cg=za("animationstart"),ug=za("transitionend"),dg=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(r,i){dg.set(r,i),l(i,[r])}for(var Lu=0;Lu<hg.length;Lu++){var Fu=hg[Lu],k2=Fu.toLowerCase(),E2=Fu[0].toUpperCase()+Fu.slice(1);ds(k2,"on"+E2)}ds(ag,"onAnimationEnd"),ds(lg,"onAnimationIteration"),ds(cg,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(ug,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function fg(r,i,c){var f=r.type||"unknown-event";r.currentTarget=c,kN(f,i,void 0,r),r.currentTarget=null}function mg(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],x=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var _=f.length-1;0<=_;_--){var k=f[_],P=k.instance,O=k.currentTarget;if(k=k.listener,P!==v&&x.isPropagationStopped())break e;fg(x,k,O),v=P}else for(_=0;_<f.length;_++){if(k=f[_],P=k.instance,O=k.currentTarget,k=k.listener,P!==v&&x.isPropagationStopped())break e;fg(x,k,O),v=P}}}if(Ca)throw r=pu,Ca=!1,pu=null,r}function We(r,i){var c=i[Gu];c===void 0&&(c=i[Gu]=new Set);var f=r+"__bubble";c.has(f)||(pg(i,r,2,!1),c.add(f))}function Bu(r,i,c){var f=0;i&&(f|=4),pg(c,r,f,i)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Qi(r){if(!r[Va]){r[Va]=!0,s.forEach(function(c){c!=="selectionchange"&&(T2.has(c)||Bu(c,!1,r),Bu(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Va]||(i[Va]=!0,Bu("selectionchange",!1,i))}}function pg(r,i,c,f){switch(Fp(i)){case 1:var x=WN;break;case 4:x=$N;break;default:x=_u}c=x.bind(null,i,c,r),x=void 0,!mu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),f?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function zu(r,i,c,f,x){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var k=f.stateNode.containerInfo;if(k===x||k.nodeType===8&&k.parentNode===x)break;if(_===4)for(_=f.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===x||P.nodeType===8&&P.parentNode===x))return;_=_.return}for(;k!==null;){if(_=Gs(k),_===null)return;if(P=_.tag,P===5||P===6){f=v=_;continue e}k=k.parentNode}}f=f.return}wp(function(){var O=v,U=du(c),H=[];e:{var V=dg.get(r);if(V!==void 0){var Z=Su,te=r;switch(r){case"keypress":if(Ma(c)===0)break e;case"keydown":case"keyup":Z=i2;break;case"focusin":te="focus",Z=Eu;break;case"focusout":te="blur",Z=Eu;break;case"beforeblur":case"afterblur":Z=Eu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=YN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=l2;break;case ag:case lg:case cg:Z=QN;break;case ug:Z=u2;break;case"scroll":Z=HN;break;case"wheel":Z=h2;break;case"copy":case"cut":case"paste":Z=ZN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Wp}var se=(i&4)!==0,st=!se&&r==="scroll",A=se?V!==null?V+"Capture":null:V;se=[];for(var I=O,M;I!==null;){M=I;var q=M.stateNode;if(M.tag===5&&q!==null&&(M=q,A!==null&&(q=Ri(I,A),q!=null&&se.push(Xi(I,q,M)))),st)break;I=I.return}0<se.length&&(V=new Z(V,te,null,c,U),H.push({event:V,listeners:se}))}}if((i&7)===0){e:{if(V=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",V&&c!==uu&&(te=c.relatedTarget||c.fromElement)&&(Gs(te)||te[zn]))break e;if((Z||V)&&(V=U.window===U?U:(V=U.ownerDocument)?V.defaultView||V.parentWindow:window,Z?(te=c.relatedTarget||c.toElement,Z=O,te=te?Gs(te):null,te!==null&&(st=Hs(te),te!==st||te.tag!==5&&te.tag!==6)&&(te=null)):(Z=null,te=O),Z!==te)){if(se=Vp,q="onMouseLeave",A="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(se=Wp,q="onPointerLeave",A="onPointerEnter",I="pointer"),st=Z==null?V:Or(Z),M=te==null?V:Or(te),V=new se(q,I+"leave",Z,c,U),V.target=st,V.relatedTarget=M,q=null,Gs(U)===O&&(se=new se(A,I+"enter",te,c,U),se.target=M,se.relatedTarget=st,q=se),st=q,Z&&te)t:{for(se=Z,A=te,I=0,M=se;M;M=Dr(M))I++;for(M=0,q=A;q;q=Dr(q))M++;for(;0<I-M;)se=Dr(se),I--;for(;0<M-I;)A=Dr(A),M--;for(;I--;){if(se===A||A!==null&&se===A.alternate)break t;se=Dr(se),A=Dr(A)}se=null}else se=null;Z!==null&&gg(H,V,Z,se,!1),te!==null&&st!==null&&gg(H,st,te,se,!0)}}e:{if(V=O?Or(O):window,Z=V.nodeName&&V.nodeName.toLowerCase(),Z==="select"||Z==="input"&&V.type==="file")var ae=v2;else if(Kp(V))if(Xp)ae=N2;else{ae=b2;var ce=w2}else(Z=V.nodeName)&&Z.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(ae=_2);if(ae&&(ae=ae(r,O))){Qp(H,ae,c,U);break e}ce&&ce(r,V,O),r==="focusout"&&(ce=V._wrapperState)&&ce.controlled&&V.type==="number"&&iu(V,"number",V.value)}switch(ce=O?Or(O):window,r){case"focusin":(Kp(ce)||ce.contentEditable==="true")&&(Rr=ce,Du=O,qi=null);break;case"focusout":qi=Du=Rr=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,ig(H,c,U);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":ig(H,c,U)}var ue;if(Pu)e:{switch(r){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ir?Yp(r,c)&&(me="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(me="onCompositionStart");me&&($p&&c.locale!=="ko"&&(Ir||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ir&&(ue=Bp()):(us=U,Cu="value"in us?us.value:us.textContent,Ir=!0)),ce=Ua(O,me),0<ce.length&&(me=new Up(me,r,null,c,U),H.push({event:me,listeners:ce}),ue?me.data=ue:(ue=qp(c),ue!==null&&(me.data=ue)))),(ue=m2?p2(r,c):g2(r,c))&&(O=Ua(O,"onBeforeInput"),0<O.length&&(U=new Up("onBeforeInput","beforeinput",null,c,U),H.push({event:U,listeners:O}),U.data=ue))}mg(H,i)})}function Xi(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Ua(r,i){for(var c=i+"Capture",f=[];r!==null;){var x=r,v=x.stateNode;x.tag===5&&v!==null&&(x=v,v=Ri(r,c),v!=null&&f.unshift(Xi(r,v,x)),v=Ri(r,i),v!=null&&f.push(Xi(r,v,x))),r=r.return}return f}function Dr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gg(r,i,c,f,x){for(var v=i._reactName,_=[];c!==null&&c!==f;){var k=c,P=k.alternate,O=k.stateNode;if(P!==null&&P===f)break;k.tag===5&&O!==null&&(k=O,x?(P=Ri(c,v),P!=null&&_.unshift(Xi(c,P,k))):x||(P=Ri(c,v),P!=null&&_.push(Xi(c,P,k)))),c=c.return}_.length!==0&&r.push({event:i,listeners:_})}var P2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function xg(r){return(typeof r=="string"?r:""+r).replace(P2,`
`).replace(I2,"")}function Wa(r,i,c){if(i=xg(i),xg(r)!==i&&c)throw Error(n(425))}function $a(){}var Vu=null,Uu=null;function Wu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $u=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(r){return yg.resolve(null).then(r).catch(D2)}:$u;function D2(r){setTimeout(function(){throw r})}function Hu(r,i){var c=i,f=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(f===0){r.removeChild(x),Vi(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=x}while(c);Vi(i)}function hs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function vg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Mr,Zi="__reactProps$"+Mr,zn="__reactContainer$"+Mr,Gu="__reactEvents$"+Mr,M2="__reactListeners$"+Mr,O2="__reactHandles$"+Mr;function Gs(r){var i=r[Cn];if(i)return i;for(var c=r.parentNode;c;){if(i=c[zn]||c[Cn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=vg(r);r!==null;){if(c=r[Cn])return c;r=vg(r)}return i}r=c,c=r.parentNode}return null}function Ji(r){return r=r[Cn]||r[zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Or(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ha(r){return r[Zi]||null}var Yu=[],Lr=-1;function fs(r){return{current:r}}function $e(r){0>Lr||(r.current=Yu[Lr],Yu[Lr]=null,Lr--)}function Be(r,i){Lr++,Yu[Lr]=r.current,r.current=i}var ms={},bt=fs(ms),At=fs(!1),Ys=ms;function Fr(r,i){var c=r.type.contextTypes;if(!c)return ms;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var x={},v;for(v in c)x[v]=i[v];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=x),x}function Dt(r){return r=r.childContextTypes,r!=null}function Ga(){$e(At),$e(bt)}function wg(r,i,c){if(bt.current!==ms)throw Error(n(168));Be(bt,i),Be(At,c)}function bg(r,i,c){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var x in f)if(!(x in i))throw Error(n(108,Fe(r)||"Unknown",x));return Q({},c,f)}function Ya(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ms,Ys=bt.current,Be(bt,r),Be(At,At.current),!0}function _g(r,i,c){var f=r.stateNode;if(!f)throw Error(n(169));c?(r=bg(r,i,Ys),f.__reactInternalMemoizedMergedChildContext=r,$e(At),$e(bt),Be(bt,r)):$e(At),Be(At,c)}var Vn=null,qa=!1,qu=!1;function Ng(r){Vn===null?Vn=[r]:Vn.push(r)}function L2(r){qa=!0,Ng(r)}function ps(){if(!qu&&Vn!==null){qu=!0;var r=0,i=Ae;try{var c=Vn;for(Ae=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}Vn=null,qa=!1}catch(x){throw Vn!==null&&(Vn=Vn.slice(r+1)),Sp(gu,ps),x}finally{Ae=i,qu=!1}}return null}var Br=[],zr=0,Ka=null,Qa=0,qt=[],Kt=0,qs=null,Un=1,Wn="";function Ks(r,i){Br[zr++]=Qa,Br[zr++]=Ka,Ka=r,Qa=i}function Cg(r,i,c){qt[Kt++]=Un,qt[Kt++]=Wn,qt[Kt++]=qs,qs=r;var f=Un;r=Wn;var x=32-rn(f)-1;f&=~(1<<x),c+=1;var v=32-rn(i)+x;if(30<v){var _=x-x%5;v=(f&(1<<_)-1).toString(32),f>>=_,x-=_,Un=1<<32-rn(i)+x|c<<x|f,Wn=v+r}else Un=1<<v|c<<x|f,Wn=r}function Ku(r){r.return!==null&&(Ks(r,1),Cg(r,1,0))}function Qu(r){for(;r===Ka;)Ka=Br[--zr],Br[zr]=null,Qa=Br[--zr],Br[zr]=null;for(;r===qs;)qs=qt[--Kt],qt[Kt]=null,Wn=qt[--Kt],qt[Kt]=null,Un=qt[--Kt],qt[Kt]=null}var $t=null,Ht=null,Ye=!1,an=null;function Sg(r,i){var c=Jt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function jg(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,$t=r,Ht=hs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,$t=r,Ht=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=qs!==null?{id:Un,overflow:Wn}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Jt(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,$t=r,Ht=null,!0):!1;default:return!1}}function Xu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Zu(r){if(Ye){var i=Ht;if(i){var c=i;if(!jg(r,i)){if(Xu(r))throw Error(n(418));i=hs(c.nextSibling);var f=$t;i&&jg(r,i)?Sg(f,c):(r.flags=r.flags&-4097|2,Ye=!1,$t=r)}}else{if(Xu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ye=!1,$t=r}}}function kg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;$t=r}function Xa(r){if(r!==$t)return!1;if(!Ye)return kg(r),Ye=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Wu(r.type,r.memoizedProps)),i&&(i=Ht)){if(Xu(r))throw Eg(),Error(n(418));for(;i;)Sg(r,i),i=hs(i.nextSibling)}if(kg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){Ht=hs(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}Ht=null}}else Ht=$t?hs(r.stateNode.nextSibling):null;return!0}function Eg(){for(var r=Ht;r;)r=hs(r.nextSibling)}function Vr(){Ht=$t=null,Ye=!1}function Ju(r){an===null?an=[r]:an.push(r)}var F2=D.ReactCurrentBatchConfig;function eo(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,r));var x=f,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(_){var k=x.refs;_===null?delete k[v]:k[v]=_},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Za(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Tg(r){var i=r._init;return i(r._payload)}function Pg(r){function i(A,I){if(r){var M=A.deletions;M===null?(A.deletions=[I],A.flags|=16):M.push(I)}}function c(A,I){if(!r)return null;for(;I!==null;)i(A,I),I=I.sibling;return null}function f(A,I){for(A=new Map;I!==null;)I.key!==null?A.set(I.key,I):A.set(I.index,I),I=I.sibling;return A}function x(A,I){return A=Ns(A,I),A.index=0,A.sibling=null,A}function v(A,I,M){return A.index=M,r?(M=A.alternate,M!==null?(M=M.index,M<I?(A.flags|=2,I):M):(A.flags|=2,I)):(A.flags|=1048576,I)}function _(A){return r&&A.alternate===null&&(A.flags|=2),A}function k(A,I,M,q){return I===null||I.tag!==6?(I=$d(M,A.mode,q),I.return=A,I):(I=x(I,M),I.return=A,I)}function P(A,I,M,q){var ae=M.type;return ae===z?U(A,I,M.props.children,q,M.key):I!==null&&(I.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===pe&&Tg(ae)===I.type)?(q=x(I,M.props),q.ref=eo(A,I,M),q.return=A,q):(q=_l(M.type,M.key,M.props,null,A.mode,q),q.ref=eo(A,I,M),q.return=A,q)}function O(A,I,M,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=Hd(M,A.mode,q),I.return=A,I):(I=x(I,M.children||[]),I.return=A,I)}function U(A,I,M,q,ae){return I===null||I.tag!==7?(I=sr(M,A.mode,q,ae),I.return=A,I):(I=x(I,M),I.return=A,I)}function H(A,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return I=$d(""+I,A.mode,M),I.return=A,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return M=_l(I.type,I.key,I.props,null,A.mode,M),M.ref=eo(A,null,I),M.return=A,M;case W:return I=Hd(I,A.mode,M),I.return=A,I;case pe:var q=I._init;return H(A,q(I._payload),M)}if(Ti(I)||J(I))return I=sr(I,A.mode,M,null),I.return=A,I;Za(A,I)}return null}function V(A,I,M,q){var ae=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ae!==null?null:k(A,I,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return M.key===ae?P(A,I,M,q):null;case W:return M.key===ae?O(A,I,M,q):null;case pe:return ae=M._init,V(A,I,ae(M._payload),q)}if(Ti(M)||J(M))return ae!==null?null:U(A,I,M,q,null);Za(A,M)}return null}function Z(A,I,M,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(M)||null,k(I,A,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return A=A.get(q.key===null?M:q.key)||null,P(I,A,q,ae);case W:return A=A.get(q.key===null?M:q.key)||null,O(I,A,q,ae);case pe:var ce=q._init;return Z(A,I,M,ce(q._payload),ae)}if(Ti(q)||J(q))return A=A.get(M)||null,U(I,A,q,ae,null);Za(I,q)}return null}function te(A,I,M,q){for(var ae=null,ce=null,ue=I,me=I=0,mt=null;ue!==null&&me<M.length;me++){ue.index>me?(mt=ue,ue=null):mt=ue.sibling;var Te=V(A,ue,M[me],q);if(Te===null){ue===null&&(ue=mt);break}r&&ue&&Te.alternate===null&&i(A,ue),I=v(Te,I,me),ce===null?ae=Te:ce.sibling=Te,ce=Te,ue=mt}if(me===M.length)return c(A,ue),Ye&&Ks(A,me),ae;if(ue===null){for(;me<M.length;me++)ue=H(A,M[me],q),ue!==null&&(I=v(ue,I,me),ce===null?ae=ue:ce.sibling=ue,ce=ue);return Ye&&Ks(A,me),ae}for(ue=f(A,ue);me<M.length;me++)mt=Z(ue,A,me,M[me],q),mt!==null&&(r&&mt.alternate!==null&&ue.delete(mt.key===null?me:mt.key),I=v(mt,I,me),ce===null?ae=mt:ce.sibling=mt,ce=mt);return r&&ue.forEach(function(Cs){return i(A,Cs)}),Ye&&Ks(A,me),ae}function se(A,I,M,q){var ae=J(M);if(typeof ae!="function")throw Error(n(150));if(M=ae.call(M),M==null)throw Error(n(151));for(var ce=ae=null,ue=I,me=I=0,mt=null,Te=M.next();ue!==null&&!Te.done;me++,Te=M.next()){ue.index>me?(mt=ue,ue=null):mt=ue.sibling;var Cs=V(A,ue,Te.value,q);if(Cs===null){ue===null&&(ue=mt);break}r&&ue&&Cs.alternate===null&&i(A,ue),I=v(Cs,I,me),ce===null?ae=Cs:ce.sibling=Cs,ce=Cs,ue=mt}if(Te.done)return c(A,ue),Ye&&Ks(A,me),ae;if(ue===null){for(;!Te.done;me++,Te=M.next())Te=H(A,Te.value,q),Te!==null&&(I=v(Te,I,me),ce===null?ae=Te:ce.sibling=Te,ce=Te);return Ye&&Ks(A,me),ae}for(ue=f(A,ue);!Te.done;me++,Te=M.next())Te=Z(ue,A,me,Te.value,q),Te!==null&&(r&&Te.alternate!==null&&ue.delete(Te.key===null?me:Te.key),I=v(Te,I,me),ce===null?ae=Te:ce.sibling=Te,ce=Te);return r&&ue.forEach(function(xC){return i(A,xC)}),Ye&&Ks(A,me),ae}function st(A,I,M,q){if(typeof M=="object"&&M!==null&&M.type===z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case L:e:{for(var ae=M.key,ce=I;ce!==null;){if(ce.key===ae){if(ae=M.type,ae===z){if(ce.tag===7){c(A,ce.sibling),I=x(ce,M.props.children),I.return=A,A=I;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===pe&&Tg(ae)===ce.type){c(A,ce.sibling),I=x(ce,M.props),I.ref=eo(A,ce,M),I.return=A,A=I;break e}c(A,ce);break}else i(A,ce);ce=ce.sibling}M.type===z?(I=sr(M.props.children,A.mode,q,M.key),I.return=A,A=I):(q=_l(M.type,M.key,M.props,null,A.mode,q),q.ref=eo(A,I,M),q.return=A,A=q)}return _(A);case W:e:{for(ce=M.key;I!==null;){if(I.key===ce)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){c(A,I.sibling),I=x(I,M.children||[]),I.return=A,A=I;break e}else{c(A,I);break}else i(A,I);I=I.sibling}I=Hd(M,A.mode,q),I.return=A,A=I}return _(A);case pe:return ce=M._init,st(A,I,ce(M._payload),q)}if(Ti(M))return te(A,I,M,q);if(J(M))return se(A,I,M,q);Za(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,I!==null&&I.tag===6?(c(A,I.sibling),I=x(I,M),I.return=A,A=I):(c(A,I),I=$d(M,A.mode,q),I.return=A,A=I),_(A)):c(A,I)}return st}var Ur=Pg(!0),Ig=Pg(!1),Ja=fs(null),el=null,Wr=null,ed=null;function td(){ed=Wr=el=null}function nd(r){var i=Ja.current;$e(Ja),r._currentValue=i}function sd(r,i,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===c)break;r=r.return}}function $r(r,i){el=r,ed=Wr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Mt=!0),r.firstContext=null)}function Qt(r){var i=r._currentValue;if(ed!==r)if(r={context:r,memoizedValue:i,next:null},Wr===null){if(el===null)throw Error(n(308));Wr=r,el.dependencies={lanes:0,firstContext:r}}else Wr=Wr.next=r;return i}var Qs=null;function rd(r){Qs===null?Qs=[r]:Qs.push(r)}function Rg(r,i,c,f){var x=i.interleaved;return x===null?(c.next=c,rd(i)):(c.next=x.next,x.next=c),i.interleaved=c,$n(r,f)}function $n(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var gs=!1;function id(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function xs(r,i,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var x=f.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),f.pending=i,$n(r,c)}return x=f.interleaved,x===null?(i.next=i,rd(f)):(i.next=x.next,x.next=i),f.interleaved=i,$n(r,c)}function tl(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,c|=f,i.lanes=c,vu(r,c)}}function Dg(r,i){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?x=v=_:v=v.next=_,c=c.next}while(c!==null);v===null?x=v=i:v=v.next=i}else x=v=i;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function nl(r,i,c,f){var x=r.updateQueue;gs=!1;var v=x.firstBaseUpdate,_=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var P=k,O=P.next;P.next=null,_===null?v=O:_.next=O,_=P;var U=r.alternate;U!==null&&(U=U.updateQueue,k=U.lastBaseUpdate,k!==_&&(k===null?U.firstBaseUpdate=O:k.next=O,U.lastBaseUpdate=P))}if(v!==null){var H=x.baseState;_=0,U=O=P=null,k=v;do{var V=k.lane,Z=k.eventTime;if((f&V)===V){U!==null&&(U=U.next={eventTime:Z,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var te=r,se=k;switch(V=i,Z=c,se.tag){case 1:if(te=se.payload,typeof te=="function"){H=te.call(Z,H,V);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=se.payload,V=typeof te=="function"?te.call(Z,H,V):te,V==null)break e;H=Q({},H,V);break e;case 2:gs=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,V=x.effects,V===null?x.effects=[k]:V.push(k))}else Z={eventTime:Z,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},U===null?(O=U=Z,P=H):U=U.next=Z,_|=V;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;V=k,k=V.next,V.next=null,x.lastBaseUpdate=V,x.shared.pending=null}}while(!0);if(U===null&&(P=H),x.baseState=P,x.firstBaseUpdate=O,x.lastBaseUpdate=U,i=x.shared.interleaved,i!==null){x=i;do _|=x.lane,x=x.next;while(x!==i)}else v===null&&(x.shared.lanes=0);Js|=_,r.lanes=_,r.memoizedState=H}}function Mg(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],x=f.callback;if(x!==null){if(f.callback=null,f=c,typeof x!="function")throw Error(n(191,x));x.call(f)}}}var to={},Sn=fs(to),no=fs(to),so=fs(to);function Xs(r){if(r===to)throw Error(n(174));return r}function od(r,i){switch(Be(so,i),Be(no,r),Be(Sn,to),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:au(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=au(i,r)}$e(Sn),Be(Sn,i)}function Hr(){$e(Sn),$e(no),$e(so)}function Og(r){Xs(so.current);var i=Xs(Sn.current),c=au(i,r.type);i!==c&&(Be(no,r),Be(Sn,c))}function ad(r){no.current===r&&($e(Sn),$e(no))}var qe=fs(0);function sl(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ld=[];function cd(){for(var r=0;r<ld.length;r++)ld[r]._workInProgressVersionPrimary=null;ld.length=0}var rl=D.ReactCurrentDispatcher,ud=D.ReactCurrentBatchConfig,Zs=0,Ke=null,ot=null,ht=null,il=!1,ro=!1,io=0,B2=0;function _t(){throw Error(n(321))}function dd(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!on(r[c],i[c]))return!1;return!0}function hd(r,i,c,f,x,v){if(Zs=v,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rl.current=r===null||r.memoizedState===null?W2:$2,r=c(f,x),ro){v=0;do{if(ro=!1,io=0,25<=v)throw Error(n(301));v+=1,ht=ot=null,i.updateQueue=null,rl.current=H2,r=c(f,x)}while(ro)}if(rl.current=ll,i=ot!==null&&ot.next!==null,Zs=0,ht=ot=Ke=null,il=!1,i)throw Error(n(300));return r}function fd(){var r=io!==0;return io=0,r}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=r:ht=ht.next=r,ht}function Xt(){if(ot===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var i=ht===null?Ke.memoizedState:ht.next;if(i!==null)ht=i,ot=r;else{if(r===null)throw Error(n(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?Ke.memoizedState=ht=r:ht=ht.next=r}return ht}function oo(r,i){return typeof i=="function"?i(r):i}function md(r){var i=Xt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=ot,x=f.baseQueue,v=c.pending;if(v!==null){if(x!==null){var _=x.next;x.next=v.next,v.next=_}f.baseQueue=x=v,c.pending=null}if(x!==null){v=x.next,f=f.baseState;var k=_=null,P=null,O=v;do{var U=O.lane;if((Zs&U)===U)P!==null&&(P=P.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),f=O.hasEagerState?O.eagerState:r(f,O.action);else{var H={lane:U,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};P===null?(k=P=H,_=f):P=P.next=H,Ke.lanes|=U,Js|=U}O=O.next}while(O!==null&&O!==v);P===null?_=f:P.next=k,on(f,i.memoizedState)||(Mt=!0),i.memoizedState=f,i.baseState=_,i.baseQueue=P,c.lastRenderedState=f}if(r=c.interleaved,r!==null){x=r;do v=x.lane,Ke.lanes|=v,Js|=v,x=x.next;while(x!==r)}else x===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function pd(r){var i=Xt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=c.dispatch,x=c.pending,v=i.memoizedState;if(x!==null){c.pending=null;var _=x=x.next;do v=r(v,_.action),_=_.next;while(_!==x);on(v,i.memoizedState)||(Mt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,f]}function Lg(){}function Fg(r,i){var c=Ke,f=Xt(),x=i(),v=!on(f.memoizedState,x);if(v&&(f.memoizedState=x,Mt=!0),f=f.queue,gd(Vg.bind(null,c,f,r),[r]),f.getSnapshot!==i||v||ht!==null&&ht.memoizedState.tag&1){if(c.flags|=2048,ao(9,zg.bind(null,c,f,x,i),void 0,null),ft===null)throw Error(n(349));(Zs&30)!==0||Bg(c,i,x)}return x}function Bg(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function zg(r,i,c,f){i.value=c,i.getSnapshot=f,Ug(i)&&Wg(r)}function Vg(r,i,c){return c(function(){Ug(i)&&Wg(r)})}function Ug(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!on(r,c)}catch{return!0}}function Wg(r){var i=$n(r,1);i!==null&&dn(i,r,1,-1)}function $g(r){var i=jn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:r},i.queue=r,r=r.dispatch=U2.bind(null,Ke,r),[i.memoizedState,r]}function ao(r,i,c,f){return r={tag:r,create:i,destroy:c,deps:f,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,i.lastEffect=r)),r}function Hg(){return Xt().memoizedState}function ol(r,i,c,f){var x=jn();Ke.flags|=r,x.memoizedState=ao(1|i,c,void 0,f===void 0?null:f)}function al(r,i,c,f){var x=Xt();f=f===void 0?null:f;var v=void 0;if(ot!==null){var _=ot.memoizedState;if(v=_.destroy,f!==null&&dd(f,_.deps)){x.memoizedState=ao(i,c,v,f);return}}Ke.flags|=r,x.memoizedState=ao(1|i,c,v,f)}function Gg(r,i){return ol(8390656,8,r,i)}function gd(r,i){return al(2048,8,r,i)}function Yg(r,i){return al(4,2,r,i)}function qg(r,i){return al(4,4,r,i)}function Kg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Qg(r,i,c){return c=c!=null?c.concat([r]):null,al(4,4,Kg.bind(null,i,r),c)}function xd(){}function Xg(r,i){var c=Xt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&dd(i,f[1])?f[0]:(c.memoizedState=[r,i],r)}function Zg(r,i){var c=Xt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&dd(i,f[1])?f[0]:(r=r(),c.memoizedState=[r,i],r)}function Jg(r,i,c){return(Zs&21)===0?(r.baseState&&(r.baseState=!1,Mt=!0),r.memoizedState=c):(on(c,i)||(c=Tp(),Ke.lanes|=c,Js|=c,r.baseState=!0),i)}function z2(r,i){var c=Ae;Ae=c!==0&&4>c?c:4,r(!0);var f=ud.transition;ud.transition={};try{r(!1),i()}finally{Ae=c,ud.transition=f}}function e0(){return Xt().memoizedState}function V2(r,i,c){var f=bs(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},t0(r))n0(i,c);else if(c=Rg(r,i,c,f),c!==null){var x=Tt();dn(c,r,f,x),s0(c,i,f)}}function U2(r,i,c){var f=bs(r),x={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(t0(r))n0(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var _=i.lastRenderedState,k=v(_,c);if(x.hasEagerState=!0,x.eagerState=k,on(k,_)){var P=i.interleaved;P===null?(x.next=x,rd(i)):(x.next=P.next,P.next=x),i.interleaved=x;return}}catch{}finally{}c=Rg(r,i,x,f),c!==null&&(x=Tt(),dn(c,r,f,x),s0(c,i,f))}}function t0(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function n0(r,i){ro=il=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function s0(r,i,c){if((c&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,c|=f,i.lanes=c,vu(r,c)}}var ll={readContext:Qt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},W2={readContext:Qt,useCallback:function(r,i){return jn().memoizedState=[r,i===void 0?null:i],r},useContext:Qt,useEffect:Gg,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,ol(4194308,4,Kg.bind(null,i,r),c)},useLayoutEffect:function(r,i){return ol(4194308,4,r,i)},useInsertionEffect:function(r,i){return ol(4,2,r,i)},useMemo:function(r,i){var c=jn();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var f=jn();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=V2.bind(null,Ke,r),[f.memoizedState,r]},useRef:function(r){var i=jn();return r={current:r},i.memoizedState=r},useState:$g,useDebugValue:xd,useDeferredValue:function(r){return jn().memoizedState=r},useTransition:function(){var r=$g(!1),i=r[0];return r=z2.bind(null,r[1]),jn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var f=Ke,x=jn();if(Ye){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),ft===null)throw Error(n(349));(Zs&30)!==0||Bg(f,i,c)}x.memoizedState=c;var v={value:c,getSnapshot:i};return x.queue=v,Gg(Vg.bind(null,f,v,r),[r]),f.flags|=2048,ao(9,zg.bind(null,f,v,c,i),void 0,null),c},useId:function(){var r=jn(),i=ft.identifierPrefix;if(Ye){var c=Wn,f=Un;c=(f&~(1<<32-rn(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=io++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=B2++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},$2={readContext:Qt,useCallback:Xg,useContext:Qt,useEffect:gd,useImperativeHandle:Qg,useInsertionEffect:Yg,useLayoutEffect:qg,useMemo:Zg,useReducer:md,useRef:Hg,useState:function(){return md(oo)},useDebugValue:xd,useDeferredValue:function(r){var i=Xt();return Jg(i,ot.memoizedState,r)},useTransition:function(){var r=md(oo)[0],i=Xt().memoizedState;return[r,i]},useMutableSource:Lg,useSyncExternalStore:Fg,useId:e0,unstable_isNewReconciler:!1},H2={readContext:Qt,useCallback:Xg,useContext:Qt,useEffect:gd,useImperativeHandle:Qg,useInsertionEffect:Yg,useLayoutEffect:qg,useMemo:Zg,useReducer:pd,useRef:Hg,useState:function(){return pd(oo)},useDebugValue:xd,useDeferredValue:function(r){var i=Xt();return ot===null?i.memoizedState=r:Jg(i,ot.memoizedState,r)},useTransition:function(){var r=pd(oo)[0],i=Xt().memoizedState;return[r,i]},useMutableSource:Lg,useSyncExternalStore:Fg,useId:e0,unstable_isNewReconciler:!1};function ln(r,i){if(r&&r.defaultProps){i=Q({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function yd(r,i,c,f){i=r.memoizedState,c=c(f,i),c=c==null?i:Q({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var cl={isMounted:function(r){return(r=r._reactInternals)?Hs(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var f=Tt(),x=bs(r),v=Hn(f,x);v.payload=i,c!=null&&(v.callback=c),i=xs(r,v,x),i!==null&&(dn(i,r,x,f),tl(i,r,x))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var f=Tt(),x=bs(r),v=Hn(f,x);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=xs(r,v,x),i!==null&&(dn(i,r,x,f),tl(i,r,x))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Tt(),f=bs(r),x=Hn(c,f);x.tag=2,i!=null&&(x.callback=i),i=xs(r,x,f),i!==null&&(dn(i,r,f,c),tl(i,r,f))}};function r0(r,i,c,f,x,v,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,_):i.prototype&&i.prototype.isPureReactComponent?!Yi(c,f)||!Yi(x,v):!0}function i0(r,i,c){var f=!1,x=ms,v=i.contextType;return typeof v=="object"&&v!==null?v=Qt(v):(x=Dt(i)?Ys:bt.current,f=i.contextTypes,v=(f=f!=null)?Fr(r,x):ms),i=new i(c,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cl,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=v),i}function o0(r,i,c,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==r&&cl.enqueueReplaceState(i,i.state,null)}function vd(r,i,c,f){var x=r.stateNode;x.props=c,x.state=r.memoizedState,x.refs={},id(r);var v=i.contextType;typeof v=="object"&&v!==null?x.context=Qt(v):(v=Dt(i)?Ys:bt.current,x.context=Fr(r,v)),x.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(yd(r,i,v,c),x.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&cl.enqueueReplaceState(x,x.state,null),nl(r,c,x,f),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Gr(r,i){try{var c="",f=i;do c+=ke(f),f=f.return;while(f);var x=c}catch(v){x=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:x,digest:null}}function wd(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function bd(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var G2=typeof WeakMap=="function"?WeakMap:Map;function a0(r,i,c){c=Hn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){gl||(gl=!0,Od=f),bd(r,i)},c}function l0(r,i,c){c=Hn(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var x=i.value;c.payload=function(){return f(x)},c.callback=function(){bd(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){bd(r,i),typeof f!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),c}function c0(r,i,c){var f=r.pingCache;if(f===null){f=r.pingCache=new G2;var x=new Set;f.set(i,x)}else x=f.get(i),x===void 0&&(x=new Set,f.set(i,x));x.has(c)||(x.add(c),r=oC.bind(null,r,i,c),i.then(r,r))}function u0(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function d0(r,i,c,f,x){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Hn(-1,1),i.tag=2,xs(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var Y2=D.ReactCurrentOwner,Mt=!1;function Et(r,i,c,f){i.child=r===null?Ig(i,null,c,f):Ur(i,r.child,c,f)}function h0(r,i,c,f,x){c=c.render;var v=i.ref;return $r(i,x),f=hd(r,i,c,f,v,x),c=fd(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,Gn(r,i,x)):(Ye&&c&&Ku(i),i.flags|=1,Et(r,i,f,x),i.child)}function f0(r,i,c,f,x){if(r===null){var v=c.type;return typeof v=="function"&&!Wd(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=v,m0(r,i,v,f,x)):(r=_l(c.type,null,f,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&x)===0){var _=v.memoizedProps;if(c=c.compare,c=c!==null?c:Yi,c(_,f)&&r.ref===i.ref)return Gn(r,i,x)}return i.flags|=1,r=Ns(v,f),r.ref=i.ref,r.return=i,i.child=r}function m0(r,i,c,f,x){if(r!==null){var v=r.memoizedProps;if(Yi(v,f)&&r.ref===i.ref)if(Mt=!1,i.pendingProps=f=v,(r.lanes&x)!==0)(r.flags&131072)!==0&&(Mt=!0);else return i.lanes=r.lanes,Gn(r,i,x)}return _d(r,i,c,f,x)}function p0(r,i,c){var f=i.pendingProps,x=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(qr,Gt),Gt|=c;else{if((c&1073741824)===0)return r=v!==null?v.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Be(qr,Gt),Gt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Be(qr,Gt),Gt|=f}else v!==null?(f=v.baseLanes|c,i.memoizedState=null):f=c,Be(qr,Gt),Gt|=f;return Et(r,i,x,c),i.child}function g0(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function _d(r,i,c,f,x){var v=Dt(c)?Ys:bt.current;return v=Fr(i,v),$r(i,x),c=hd(r,i,c,f,v,x),f=fd(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,Gn(r,i,x)):(Ye&&f&&Ku(i),i.flags|=1,Et(r,i,c,x),i.child)}function x0(r,i,c,f,x){if(Dt(c)){var v=!0;Ya(i)}else v=!1;if($r(i,x),i.stateNode===null)dl(r,i),i0(i,c,f),vd(i,c,f,x),f=!0;else if(r===null){var _=i.stateNode,k=i.memoizedProps;_.props=k;var P=_.context,O=c.contextType;typeof O=="object"&&O!==null?O=Qt(O):(O=Dt(c)?Ys:bt.current,O=Fr(i,O));var U=c.getDerivedStateFromProps,H=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function";H||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==f||P!==O)&&o0(i,_,f,O),gs=!1;var V=i.memoizedState;_.state=V,nl(i,f,_,x),P=i.memoizedState,k!==f||V!==P||At.current||gs?(typeof U=="function"&&(yd(i,c,U,f),P=i.memoizedState),(k=gs||r0(i,c,k,f,V,P,O))?(H||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=P),_.props=f,_.state=P,_.context=O,f=k):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{_=i.stateNode,Ag(r,i),k=i.memoizedProps,O=i.type===i.elementType?k:ln(i.type,k),_.props=O,H=i.pendingProps,V=_.context,P=c.contextType,typeof P=="object"&&P!==null?P=Qt(P):(P=Dt(c)?Ys:bt.current,P=Fr(i,P));var Z=c.getDerivedStateFromProps;(U=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==H||V!==P)&&o0(i,_,f,P),gs=!1,V=i.memoizedState,_.state=V,nl(i,f,_,x);var te=i.memoizedState;k!==H||V!==te||At.current||gs?(typeof Z=="function"&&(yd(i,c,Z,f),te=i.memoizedState),(O=gs||r0(i,c,O,f,V,te,P)||!1)?(U||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,te,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,te,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=te),_.props=f,_.state=te,_.context=P,f=O):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(i.flags|=1024),f=!1)}return Nd(r,i,c,f,v,x)}function Nd(r,i,c,f,x,v){g0(r,i);var _=(i.flags&128)!==0;if(!f&&!_)return x&&_g(i,c,!1),Gn(r,i,v);f=i.stateNode,Y2.current=i;var k=_&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&_?(i.child=Ur(i,r.child,null,v),i.child=Ur(i,null,k,v)):Et(r,i,k,v),i.memoizedState=f.state,x&&_g(i,c,!0),i.child}function y0(r){var i=r.stateNode;i.pendingContext?wg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&wg(r,i.context,!1),od(r,i.containerInfo)}function v0(r,i,c,f,x){return Vr(),Ju(x),i.flags|=256,Et(r,i,c,f),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Sd(r){return{baseLanes:r,cachePool:null,transitions:null}}function w0(r,i,c){var f=i.pendingProps,x=qe.current,v=!1,_=(i.flags&128)!==0,k;if((k=_)||(k=r!==null&&r.memoizedState===null?!1:(x&2)!==0),k?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),Be(qe,x&1),r===null)return Zu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=f.children,r=f.fallback,v?(f=i.mode,v=i.child,_={mode:"hidden",children:_},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=_):v=Nl(_,f,0,null),r=sr(r,f,c,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=Sd(c),i.memoizedState=Cd,r):jd(i,_));if(x=r.memoizedState,x!==null&&(k=x.dehydrated,k!==null))return q2(r,i,_,f,k,x,c);if(v){v=f.fallback,_=i.mode,x=r.child,k=x.sibling;var P={mode:"hidden",children:f.children};return(_&1)===0&&i.child!==x?(f=i.child,f.childLanes=0,f.pendingProps=P,i.deletions=null):(f=Ns(x,P),f.subtreeFlags=x.subtreeFlags&14680064),k!==null?v=Ns(k,v):(v=sr(v,_,c,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,_=r.child.memoizedState,_=_===null?Sd(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},v.memoizedState=_,v.childLanes=r.childLanes&~c,i.memoizedState=Cd,f}return v=r.child,r=v.sibling,f=Ns(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=f,i.memoizedState=null,f}function jd(r,i){return i=Nl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ul(r,i,c,f){return f!==null&&Ju(f),Ur(i,r.child,null,c),r=jd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function q2(r,i,c,f,x,v,_){if(c)return i.flags&256?(i.flags&=-257,f=wd(Error(n(422))),ul(r,i,_,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=f.fallback,x=i.mode,f=Nl({mode:"visible",children:f.children},x,0,null),v=sr(v,x,_,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&Ur(i,r.child,null,_),i.child.memoizedState=Sd(_),i.memoizedState=Cd,v);if((i.mode&1)===0)return ul(r,i,_,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var k=f.dgst;return f=k,v=Error(n(419)),f=wd(v,f,void 0),ul(r,i,_,f)}if(k=(_&r.childLanes)!==0,Mt||k){if(f=ft,f!==null){switch(_&-_){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|_))!==0?0:x,x!==0&&x!==v.retryLane&&(v.retryLane=x,$n(r,x),dn(f,r,x,-1))}return Ud(),f=wd(Error(n(421))),ul(r,i,_,f)}return x.data==="$?"?(i.flags|=128,i.child=r.child,i=aC.bind(null,r),x._reactRetry=i,null):(r=v.treeContext,Ht=hs(x.nextSibling),$t=i,Ye=!0,an=null,r!==null&&(qt[Kt++]=Un,qt[Kt++]=Wn,qt[Kt++]=qs,Un=r.id,Wn=r.overflow,qs=i),i=jd(i,f.children),i.flags|=4096,i)}function b0(r,i,c){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),sd(r.return,i,c)}function kd(r,i,c,f,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=x)}function _0(r,i,c){var f=i.pendingProps,x=f.revealOrder,v=f.tail;if(Et(r,i,f.children,c),f=qe.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&b0(r,c,i);else if(r.tag===19)b0(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Be(qe,f),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&sl(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),kd(i,!1,x,c,v);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&sl(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}kd(i,!0,c,null,v);break;case"together":kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function dl(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Gn(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Js|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=Ns(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=Ns(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function K2(r,i,c){switch(i.tag){case 3:y0(i),Vr();break;case 5:Og(i);break;case 1:Dt(i.type)&&Ya(i);break;case 4:od(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,x=i.memoizedProps.value;Be(Ja,f._currentValue),f._currentValue=x;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Be(qe,qe.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?w0(r,i,c):(Be(qe,qe.current&1),r=Gn(r,i,c),r!==null?r.sibling:null);Be(qe,qe.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(r.flags&128)!==0){if(f)return _0(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Be(qe,qe.current),f)break;return null;case 22:case 23:return i.lanes=0,p0(r,i,c)}return Gn(r,i,c)}var N0,Ed,C0,S0;N0=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ed=function(){},C0=function(r,i,c,f){var x=r.memoizedProps;if(x!==f){r=i.stateNode,Xs(Sn.current);var v=null;switch(c){case"input":x=su(r,x),f=su(r,f),v=[];break;case"select":x=Q({},x,{value:void 0}),f=Q({},f,{value:void 0}),v=[];break;case"textarea":x=ou(r,x),f=ou(r,f),v=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=$a)}lu(c,f);var _;c=null;for(O in x)if(!f.hasOwnProperty(O)&&x.hasOwnProperty(O)&&x[O]!=null)if(O==="style"){var k=x[O];for(_ in k)k.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?v||(v=[]):(v=v||[]).push(O,null));for(O in f){var P=f[O];if(k=x!=null?x[O]:void 0,f.hasOwnProperty(O)&&P!==k&&(P!=null||k!=null))if(O==="style")if(k){for(_ in k)!k.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in P)P.hasOwnProperty(_)&&k[_]!==P[_]&&(c||(c={}),c[_]=P[_])}else c||(v||(v=[]),v.push(O,c)),c=P;else O==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,k=k?k.__html:void 0,P!=null&&k!==P&&(v=v||[]).push(O,P)):O==="children"?typeof P!="string"&&typeof P!="number"||(v=v||[]).push(O,""+P):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(P!=null&&O==="onScroll"&&We("scroll",r),v||k===P||(v=[])):(v=v||[]).push(O,P))}c&&(v=v||[]).push("style",c);var O=v;(i.updateQueue=O)&&(i.flags|=4)}},S0=function(r,i,c,f){c!==f&&(i.flags|=4)};function lo(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Nt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=f,r.childLanes=c,i}function Q2(r,i,c){var f=i.pendingProps;switch(Qu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Dt(i.type)&&Ga(),Nt(i),null;case 3:return f=i.stateNode,Hr(),$e(At),$e(bt),cd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Xa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,an!==null&&(Bd(an),an=null))),Ed(r,i),Nt(i),null;case 5:ad(i);var x=Xs(so.current);if(c=i.type,r!==null&&i.stateNode!=null)C0(r,i,c,f,x),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Nt(i),null}if(r=Xs(Sn.current),Xa(i)){f=i.stateNode,c=i.type;var v=i.memoizedProps;switch(f[Cn]=i,f[Zi]=v,r=(i.mode&1)!==0,c){case"dialog":We("cancel",f),We("close",f);break;case"iframe":case"object":case"embed":We("load",f);break;case"video":case"audio":for(x=0;x<Ki.length;x++)We(Ki[x],f);break;case"source":We("error",f);break;case"img":case"image":case"link":We("error",f),We("load",f);break;case"details":We("toggle",f);break;case"input":ip(f,v),We("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},We("invalid",f);break;case"textarea":lp(f,v),We("invalid",f)}lu(c,v),x=null;for(var _ in v)if(v.hasOwnProperty(_)){var k=v[_];_==="children"?typeof k=="string"?f.textContent!==k&&(v.suppressHydrationWarning!==!0&&Wa(f.textContent,k,r),x=["children",k]):typeof k=="number"&&f.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&Wa(f.textContent,k,r),x=["children",""+k]):o.hasOwnProperty(_)&&k!=null&&_==="onScroll"&&We("scroll",f)}switch(c){case"input":wa(f),ap(f,v,!0);break;case"textarea":wa(f),up(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=$a)}f=x,i.updateQueue=f,f!==null&&(i.flags|=4)}else{_=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dp(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=_.createElement(c,{is:f.is}):(r=_.createElement(c),c==="select"&&(_=r,f.multiple?_.multiple=!0:f.size&&(_.size=f.size))):r=_.createElementNS(r,c),r[Cn]=i,r[Zi]=f,N0(r,i,!1,!1),i.stateNode=r;e:{switch(_=cu(c,f),c){case"dialog":We("cancel",r),We("close",r),x=f;break;case"iframe":case"object":case"embed":We("load",r),x=f;break;case"video":case"audio":for(x=0;x<Ki.length;x++)We(Ki[x],r);x=f;break;case"source":We("error",r),x=f;break;case"img":case"image":case"link":We("error",r),We("load",r),x=f;break;case"details":We("toggle",r),x=f;break;case"input":ip(r,f),x=su(r,f),We("invalid",r);break;case"option":x=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},x=Q({},f,{value:void 0}),We("invalid",r);break;case"textarea":lp(r,f),x=ou(r,f),We("invalid",r);break;default:x=f}lu(c,x),k=x;for(v in k)if(k.hasOwnProperty(v)){var P=k[v];v==="style"?mp(r,P):v==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&hp(r,P)):v==="children"?typeof P=="string"?(c!=="textarea"||P!=="")&&Pi(r,P):typeof P=="number"&&Pi(r,""+P):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?P!=null&&v==="onScroll"&&We("scroll",r):P!=null&&j(r,v,P,_))}switch(c){case"input":wa(r),ap(r,f,!1);break;case"textarea":wa(r),up(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Re(f.value));break;case"select":r.multiple=!!f.multiple,v=f.value,v!=null?jr(r,!!f.multiple,v,!1):f.defaultValue!=null&&jr(r,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=$a)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nt(i),null;case 6:if(r&&i.stateNode!=null)S0(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=Xs(so.current),Xs(Sn.current),Xa(i)){if(f=i.stateNode,c=i.memoizedProps,f[Cn]=i,(v=f.nodeValue!==c)&&(r=$t,r!==null))switch(r.tag){case 3:Wa(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Wa(f.nodeValue,c,(r.mode&1)!==0)}v&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Cn]=i,i.stateNode=f}return Nt(i),null;case 13:if($e(qe),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&Ht!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Eg(),Vr(),i.flags|=98560,v=!1;else if(v=Xa(i),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Cn]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),v=!1}else an!==null&&(Bd(an),an=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(qe.current&1)!==0?at===0&&(at=3):Ud())),i.updateQueue!==null&&(i.flags|=4),Nt(i),null);case 4:return Hr(),Ed(r,i),r===null&&Qi(i.stateNode.containerInfo),Nt(i),null;case 10:return nd(i.type._context),Nt(i),null;case 17:return Dt(i.type)&&Ga(),Nt(i),null;case 19:if($e(qe),v=i.memoizedState,v===null)return Nt(i),null;if(f=(i.flags&128)!==0,_=v.rendering,_===null)if(f)lo(v,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=sl(r),_!==null){for(i.flags|=128,lo(v,!1),f=_.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)v=c,r=f,v.flags&=14680066,_=v.alternate,_===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=_.childLanes,v.lanes=_.lanes,v.child=_.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=_.memoizedProps,v.memoizedState=_.memoizedState,v.updateQueue=_.updateQueue,v.type=_.type,r=_.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Be(qe,qe.current&1|2),i.child}r=r.sibling}v.tail!==null&&nt()>Kr&&(i.flags|=128,f=!0,lo(v,!1),i.lanes=4194304)}else{if(!f)if(r=sl(_),r!==null){if(i.flags|=128,f=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),lo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Ye)return Nt(i),null}else 2*nt()-v.renderingStartTime>Kr&&c!==1073741824&&(i.flags|=128,f=!0,lo(v,!1),i.lanes=4194304);v.isBackwards?(_.sibling=i.child,i.child=_):(c=v.last,c!==null?c.sibling=_:i.child=_,v.last=_)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=nt(),i.sibling=null,c=qe.current,Be(qe,f?c&1|2:c&1),i):(Nt(i),null);case 22:case 23:return Vd(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Gt&1073741824)!==0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function X2(r,i){switch(Qu(i),i.tag){case 1:return Dt(i.type)&&Ga(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Hr(),$e(At),$e(bt),cd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return ad(i),null;case 13:if($e(qe),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Vr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return $e(qe),null;case 4:return Hr(),null;case 10:return nd(i.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var hl=!1,Ct=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Yr(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ze(r,i,f)}else c.current=null}function Td(r,i,c){try{c()}catch(f){Ze(r,i,f)}}var j0=!1;function J2(r,i){if(Vu=Ra,r=rg(),Au(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var _=0,k=-1,P=-1,O=0,U=0,H=r,V=null;t:for(;;){for(var Z;H!==c||x!==0&&H.nodeType!==3||(k=_+x),H!==v||f!==0&&H.nodeType!==3||(P=_+f),H.nodeType===3&&(_+=H.nodeValue.length),(Z=H.firstChild)!==null;)V=H,H=Z;for(;;){if(H===r)break t;if(V===c&&++O===x&&(k=_),V===v&&++U===f&&(P=_),(Z=H.nextSibling)!==null)break;H=V,V=H.parentNode}H=Z}c=k===-1||P===-1?null:{start:k,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Uu={focusedElem:r,selectionRange:c},Ra=!1,ee=i;ee!==null;)if(i=ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ee=r;else for(;ee!==null;){i=ee;try{var te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var se=te.memoizedProps,st=te.memoizedState,A=i.stateNode,I=A.getSnapshotBeforeUpdate(i.elementType===i.type?se:ln(i.type,se),st);A.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Ze(i,i.return,q)}if(r=i.sibling,r!==null){r.return=i.return,ee=r;break}ee=i.return}return te=j0,j0=!1,te}function co(r,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&r)===r){var v=x.destroy;x.destroy=void 0,v!==void 0&&Td(i,c,v)}x=x.next}while(x!==f)}}function fl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Pd(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function k0(r){var i=r.alternate;i!==null&&(r.alternate=null,k0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Cn],delete i[Zi],delete i[Gu],delete i[M2],delete i[O2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function E0(r){return r.tag===5||r.tag===3||r.tag===4}function T0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||E0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Id(r,i,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=$a));else if(f!==4&&(r=r.child,r!==null))for(Id(r,i,c),r=r.sibling;r!==null;)Id(r,i,c),r=r.sibling}function Rd(r,i,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Rd(r,i,c),r=r.sibling;r!==null;)Rd(r,i,c),r=r.sibling}var yt=null,cn=!1;function ys(r,i,c){for(c=c.child;c!==null;)P0(r,i,c),c=c.sibling}function P0(r,i,c){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(ja,c)}catch{}switch(c.tag){case 5:Ct||Yr(c,i);case 6:var f=yt,x=cn;yt=null,ys(r,i,c),yt=f,cn=x,yt!==null&&(cn?(r=yt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):yt.removeChild(c.stateNode));break;case 18:yt!==null&&(cn?(r=yt,c=c.stateNode,r.nodeType===8?Hu(r.parentNode,c):r.nodeType===1&&Hu(r,c),Vi(r)):Hu(yt,c.stateNode));break;case 4:f=yt,x=cn,yt=c.stateNode.containerInfo,cn=!0,ys(r,i,c),yt=f,cn=x;break;case 0:case 11:case 14:case 15:if(!Ct&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var v=x,_=v.destroy;v=v.tag,_!==void 0&&((v&2)!==0||(v&4)!==0)&&Td(c,i,_),x=x.next}while(x!==f)}ys(r,i,c);break;case 1:if(!Ct&&(Yr(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(k){Ze(c,i,k)}ys(r,i,c);break;case 21:ys(r,i,c);break;case 22:c.mode&1?(Ct=(f=Ct)||c.memoizedState!==null,ys(r,i,c),Ct=f):ys(r,i,c);break;default:ys(r,i,c)}}function I0(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Z2),i.forEach(function(f){var x=lC.bind(null,r,f);c.has(f)||(c.add(f),f.then(x,x))})}}function un(r,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];try{var v=r,_=i,k=_;e:for(;k!==null;){switch(k.tag){case 5:yt=k.stateNode,cn=!1;break e;case 3:yt=k.stateNode.containerInfo,cn=!0;break e;case 4:yt=k.stateNode.containerInfo,cn=!0;break e}k=k.return}if(yt===null)throw Error(n(160));P0(v,_,x),yt=null,cn=!1;var P=x.alternate;P!==null&&(P.return=null),x.return=null}catch(O){Ze(x,i,O)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)R0(i,r),i=i.sibling}function R0(r,i){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(un(i,r),kn(r),f&4){try{co(3,r,r.return),fl(3,r)}catch(se){Ze(r,r.return,se)}try{co(5,r,r.return)}catch(se){Ze(r,r.return,se)}}break;case 1:un(i,r),kn(r),f&512&&c!==null&&Yr(c,c.return);break;case 5:if(un(i,r),kn(r),f&512&&c!==null&&Yr(c,c.return),r.flags&32){var x=r.stateNode;try{Pi(x,"")}catch(se){Ze(r,r.return,se)}}if(f&4&&(x=r.stateNode,x!=null)){var v=r.memoizedProps,_=c!==null?c.memoizedProps:v,k=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&op(x,v),cu(k,_);var O=cu(k,v);for(_=0;_<P.length;_+=2){var U=P[_],H=P[_+1];U==="style"?mp(x,H):U==="dangerouslySetInnerHTML"?hp(x,H):U==="children"?Pi(x,H):j(x,U,H,O)}switch(k){case"input":ru(x,v);break;case"textarea":cp(x,v);break;case"select":var V=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!v.multiple;var Z=v.value;Z!=null?jr(x,!!v.multiple,Z,!1):V!==!!v.multiple&&(v.defaultValue!=null?jr(x,!!v.multiple,v.defaultValue,!0):jr(x,!!v.multiple,v.multiple?[]:"",!1))}x[Zi]=v}catch(se){Ze(r,r.return,se)}}break;case 6:if(un(i,r),kn(r),f&4){if(r.stateNode===null)throw Error(n(162));x=r.stateNode,v=r.memoizedProps;try{x.nodeValue=v}catch(se){Ze(r,r.return,se)}}break;case 3:if(un(i,r),kn(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Vi(i.containerInfo)}catch(se){Ze(r,r.return,se)}break;case 4:un(i,r),kn(r);break;case 13:un(i,r),kn(r),x=r.child,x.flags&8192&&(v=x.memoizedState!==null,x.stateNode.isHidden=v,!v||x.alternate!==null&&x.alternate.memoizedState!==null||(Md=nt())),f&4&&I0(r);break;case 22:if(U=c!==null&&c.memoizedState!==null,r.mode&1?(Ct=(O=Ct)||U,un(i,r),Ct=O):un(i,r),kn(r),f&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!U&&(r.mode&1)!==0)for(ee=r,U=r.child;U!==null;){for(H=ee=U;ee!==null;){switch(V=ee,Z=V.child,V.tag){case 0:case 11:case 14:case 15:co(4,V,V.return);break;case 1:Yr(V,V.return);var te=V.stateNode;if(typeof te.componentWillUnmount=="function"){f=V,c=V.return;try{i=f,te.props=i.memoizedProps,te.state=i.memoizedState,te.componentWillUnmount()}catch(se){Ze(f,c,se)}}break;case 5:Yr(V,V.return);break;case 22:if(V.memoizedState!==null){M0(H);continue}}Z!==null?(Z.return=V,ee=Z):M0(H)}U=U.sibling}e:for(U=null,H=r;;){if(H.tag===5){if(U===null){U=H;try{x=H.stateNode,O?(v=x.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=H.stateNode,P=H.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,k.style.display=fp("display",_))}catch(se){Ze(r,r.return,se)}}}else if(H.tag===6){if(U===null)try{H.stateNode.nodeValue=O?"":H.memoizedProps}catch(se){Ze(r,r.return,se)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===r)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===r)break e;for(;H.sibling===null;){if(H.return===null||H.return===r)break e;U===H&&(U=null),H=H.return}U===H&&(U=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:un(i,r),kn(r),f&4&&I0(r);break;case 21:break;default:un(i,r),kn(r)}}function kn(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(E0(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(Pi(x,""),f.flags&=-33);var v=T0(r);Rd(r,v,x);break;case 3:case 4:var _=f.stateNode.containerInfo,k=T0(r);Id(r,k,_);break;default:throw Error(n(161))}}catch(P){Ze(r,r.return,P)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function eC(r,i,c){ee=r,A0(r)}function A0(r,i,c){for(var f=(r.mode&1)!==0;ee!==null;){var x=ee,v=x.child;if(x.tag===22&&f){var _=x.memoizedState!==null||hl;if(!_){var k=x.alternate,P=k!==null&&k.memoizedState!==null||Ct;k=hl;var O=Ct;if(hl=_,(Ct=P)&&!O)for(ee=x;ee!==null;)_=ee,P=_.child,_.tag===22&&_.memoizedState!==null?O0(x):P!==null?(P.return=_,ee=P):O0(x);for(;v!==null;)ee=v,A0(v),v=v.sibling;ee=x,hl=k,Ct=O}D0(r)}else(x.subtreeFlags&8772)!==0&&v!==null?(v.return=x,ee=v):D0(r)}}function D0(r){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ct||fl(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!Ct)if(c===null)f.componentDidMount();else{var x=i.elementType===i.type?c.memoizedProps:ln(i.type,c.memoizedProps);f.componentDidUpdate(x,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Mg(i,v,f);break;case 3:var _=i.updateQueue;if(_!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Mg(i,_,c)}break;case 5:var k=i.stateNode;if(c===null&&i.flags&4){c=k;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&c.focus();break;case"img":P.src&&(c.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var O=i.alternate;if(O!==null){var U=O.memoizedState;if(U!==null){var H=U.dehydrated;H!==null&&Vi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ct||i.flags&512&&Pd(i)}catch(V){Ze(i,i.return,V)}}if(i===r){ee=null;break}if(c=i.sibling,c!==null){c.return=i.return,ee=c;break}ee=i.return}}function M0(r){for(;ee!==null;){var i=ee;if(i===r){ee=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ee=c;break}ee=i.return}}function O0(r){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{fl(4,i)}catch(P){Ze(i,c,P)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var x=i.return;try{f.componentDidMount()}catch(P){Ze(i,x,P)}}var v=i.return;try{Pd(i)}catch(P){Ze(i,v,P)}break;case 5:var _=i.return;try{Pd(i)}catch(P){Ze(i,_,P)}}}catch(P){Ze(i,i.return,P)}if(i===r){ee=null;break}var k=i.sibling;if(k!==null){k.return=i.return,ee=k;break}ee=i.return}}var tC=Math.ceil,ml=D.ReactCurrentDispatcher,Ad=D.ReactCurrentOwner,Zt=D.ReactCurrentBatchConfig,je=0,ft=null,rt=null,vt=0,Gt=0,qr=fs(0),at=0,uo=null,Js=0,pl=0,Dd=0,ho=null,Ot=null,Md=0,Kr=1/0,Yn=null,gl=!1,Od=null,vs=null,xl=!1,ws=null,yl=0,fo=0,Ld=null,vl=-1,wl=0;function Tt(){return(je&6)!==0?nt():vl!==-1?vl:vl=nt()}function bs(r){return(r.mode&1)===0?1:(je&2)!==0&&vt!==0?vt&-vt:F2.transition!==null?(wl===0&&(wl=Tp()),wl):(r=Ae,r!==0||(r=window.event,r=r===void 0?16:Fp(r.type)),r)}function dn(r,i,c,f){if(50<fo)throw fo=0,Ld=null,Error(n(185));Oi(r,c,f),((je&2)===0||r!==ft)&&(r===ft&&((je&2)===0&&(pl|=c),at===4&&_s(r,vt)),Lt(r,f),c===1&&je===0&&(i.mode&1)===0&&(Kr=nt()+500,qa&&ps()))}function Lt(r,i){var c=r.callbackNode;FN(r,i);var f=Ta(r,r===ft?vt:0);if(f===0)c!==null&&jp(c),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(c!=null&&jp(c),i===1)r.tag===0?L2(F0.bind(null,r)):Ng(F0.bind(null,r)),A2(function(){(je&6)===0&&ps()}),c=null;else{switch(Pp(f)){case 1:c=gu;break;case 4:c=kp;break;case 16:c=Sa;break;case 536870912:c=Ep;break;default:c=Sa}c=G0(c,L0.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function L0(r,i){if(vl=-1,wl=0,(je&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Qr()&&r.callbackNode!==c)return null;var f=Ta(r,r===ft?vt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=bl(r,f);else{i=f;var x=je;je|=2;var v=z0();(ft!==r||vt!==i)&&(Yn=null,Kr=nt()+500,tr(r,i));do try{rC();break}catch(k){B0(r,k)}while(!0);td(),ml.current=v,je=x,rt!==null?i=0:(ft=null,vt=0,i=at)}if(i!==0){if(i===2&&(x=xu(r),x!==0&&(f=x,i=Fd(r,x))),i===1)throw c=uo,tr(r,0),_s(r,f),Lt(r,nt()),c;if(i===6)_s(r,f);else{if(x=r.current.alternate,(f&30)===0&&!nC(x)&&(i=bl(r,f),i===2&&(v=xu(r),v!==0&&(f=v,i=Fd(r,v))),i===1))throw c=uo,tr(r,0),_s(r,f),Lt(r,nt()),c;switch(r.finishedWork=x,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:nr(r,Ot,Yn);break;case 3:if(_s(r,f),(f&130023424)===f&&(i=Md+500-nt(),10<i)){if(Ta(r,0)!==0)break;if(x=r.suspendedLanes,(x&f)!==f){Tt(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=$u(nr.bind(null,r,Ot,Yn),i);break}nr(r,Ot,Yn);break;case 4:if(_s(r,f),(f&4194240)===f)break;for(i=r.eventTimes,x=-1;0<f;){var _=31-rn(f);v=1<<_,_=i[_],_>x&&(x=_),f&=~v}if(f=x,f=nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*tC(f/1960))-f,10<f){r.timeoutHandle=$u(nr.bind(null,r,Ot,Yn),f);break}nr(r,Ot,Yn);break;case 5:nr(r,Ot,Yn);break;default:throw Error(n(329))}}}return Lt(r,nt()),r.callbackNode===c?L0.bind(null,r):null}function Fd(r,i){var c=ho;return r.current.memoizedState.isDehydrated&&(tr(r,i).flags|=256),r=bl(r,i),r!==2&&(i=Ot,Ot=c,i!==null&&Bd(i)),r}function Bd(r){Ot===null?Ot=r:Ot.push.apply(Ot,r)}function nC(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var x=c[f],v=x.getSnapshot;x=x.value;try{if(!on(v(),x))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _s(r,i){for(i&=~Dd,i&=~pl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-rn(i),f=1<<c;r[c]=-1,i&=~f}}function F0(r){if((je&6)!==0)throw Error(n(327));Qr();var i=Ta(r,0);if((i&1)===0)return Lt(r,nt()),null;var c=bl(r,i);if(r.tag!==0&&c===2){var f=xu(r);f!==0&&(i=f,c=Fd(r,f))}if(c===1)throw c=uo,tr(r,0),_s(r,i),Lt(r,nt()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,nr(r,Ot,Yn),Lt(r,nt()),null}function zd(r,i){var c=je;je|=1;try{return r(i)}finally{je=c,je===0&&(Kr=nt()+500,qa&&ps())}}function er(r){ws!==null&&ws.tag===0&&(je&6)===0&&Qr();var i=je;je|=1;var c=Zt.transition,f=Ae;try{if(Zt.transition=null,Ae=1,r)return r()}finally{Ae=f,Zt.transition=c,je=i,(je&6)===0&&ps()}}function Vd(){Gt=qr.current,$e(qr)}function tr(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,R2(c)),rt!==null)for(c=rt.return;c!==null;){var f=c;switch(Qu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ga();break;case 3:Hr(),$e(At),$e(bt),cd();break;case 5:ad(f);break;case 4:Hr();break;case 13:$e(qe);break;case 19:$e(qe);break;case 10:nd(f.type._context);break;case 22:case 23:Vd()}c=c.return}if(ft=r,rt=r=Ns(r.current,null),vt=Gt=i,at=0,uo=null,Dd=pl=Js=0,Ot=ho=null,Qs!==null){for(i=0;i<Qs.length;i++)if(c=Qs[i],f=c.interleaved,f!==null){c.interleaved=null;var x=f.next,v=c.pending;if(v!==null){var _=v.next;v.next=x,f.next=_}c.pending=f}Qs=null}return r}function B0(r,i){do{var c=rt;try{if(td(),rl.current=ll,il){for(var f=Ke.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}il=!1}if(Zs=0,ht=ot=Ke=null,ro=!1,io=0,Ad.current=null,c===null||c.return===null){at=1,uo=i,rt=null;break}e:{var v=r,_=c.return,k=c,P=i;if(i=vt,k.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var O=P,U=k,H=U.tag;if((U.mode&1)===0&&(H===0||H===11||H===15)){var V=U.alternate;V?(U.updateQueue=V.updateQueue,U.memoizedState=V.memoizedState,U.lanes=V.lanes):(U.updateQueue=null,U.memoizedState=null)}var Z=u0(_);if(Z!==null){Z.flags&=-257,d0(Z,_,k,v,i),Z.mode&1&&c0(v,O,i),i=Z,P=O;var te=i.updateQueue;if(te===null){var se=new Set;se.add(P),i.updateQueue=se}else te.add(P);break e}else{if((i&1)===0){c0(v,O,i),Ud();break e}P=Error(n(426))}}else if(Ye&&k.mode&1){var st=u0(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),d0(st,_,k,v,i),Ju(Gr(P,k));break e}}v=P=Gr(P,k),at!==4&&(at=2),ho===null?ho=[v]:ho.push(v),v=_;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var A=a0(v,P,i);Dg(v,A);break e;case 1:k=P;var I=v.type,M=v.stateNode;if((v.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(vs===null||!vs.has(M)))){v.flags|=65536,i&=-i,v.lanes|=i;var q=l0(v,k,i);Dg(v,q);break e}}v=v.return}while(v!==null)}U0(c)}catch(ae){i=ae,rt===c&&c!==null&&(rt=c=c.return);continue}break}while(!0)}function z0(){var r=ml.current;return ml.current=ll,r===null?ll:r}function Ud(){(at===0||at===3||at===2)&&(at=4),ft===null||(Js&268435455)===0&&(pl&268435455)===0||_s(ft,vt)}function bl(r,i){var c=je;je|=2;var f=z0();(ft!==r||vt!==i)&&(Yn=null,tr(r,i));do try{sC();break}catch(x){B0(r,x)}while(!0);if(td(),je=c,ml.current=f,rt!==null)throw Error(n(261));return ft=null,vt=0,at}function sC(){for(;rt!==null;)V0(rt)}function rC(){for(;rt!==null&&!TN();)V0(rt)}function V0(r){var i=H0(r.alternate,r,Gt);r.memoizedProps=r.pendingProps,i===null?U0(r):rt=i,Ad.current=null}function U0(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=Q2(c,i,Gt),c!==null){rt=c;return}}else{if(c=X2(c,i),c!==null){c.flags&=32767,rt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{at=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=r}while(i!==null);at===0&&(at=5)}function nr(r,i,c){var f=Ae,x=Zt.transition;try{Zt.transition=null,Ae=1,iC(r,i,c,f)}finally{Zt.transition=x,Ae=f}return null}function iC(r,i,c,f){do Qr();while(ws!==null);if((je&6)!==0)throw Error(n(327));c=r.finishedWork;var x=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=c.lanes|c.childLanes;if(BN(r,v),r===ft&&(rt=ft=null,vt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||xl||(xl=!0,G0(Sa,function(){return Qr(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Zt.transition,Zt.transition=null;var _=Ae;Ae=1;var k=je;je|=4,Ad.current=null,J2(r,c),R0(c,r),S2(Uu),Ra=!!Vu,Uu=Vu=null,r.current=c,eC(c),PN(),je=k,Ae=_,Zt.transition=v}else r.current=c;if(xl&&(xl=!1,ws=r,yl=x),v=r.pendingLanes,v===0&&(vs=null),AN(c.stateNode),Lt(r,nt()),i!==null)for(f=r.onRecoverableError,c=0;c<i.length;c++)x=i[c],f(x.value,{componentStack:x.stack,digest:x.digest});if(gl)throw gl=!1,r=Od,Od=null,r;return(yl&1)!==0&&r.tag!==0&&Qr(),v=r.pendingLanes,(v&1)!==0?r===Ld?fo++:(fo=0,Ld=r):fo=0,ps(),null}function Qr(){if(ws!==null){var r=Pp(yl),i=Zt.transition,c=Ae;try{if(Zt.transition=null,Ae=16>r?16:r,ws===null)var f=!1;else{if(r=ws,ws=null,yl=0,(je&6)!==0)throw Error(n(331));var x=je;for(je|=4,ee=r.current;ee!==null;){var v=ee,_=v.child;if((ee.flags&16)!==0){var k=v.deletions;if(k!==null){for(var P=0;P<k.length;P++){var O=k[P];for(ee=O;ee!==null;){var U=ee;switch(U.tag){case 0:case 11:case 15:co(8,U,v)}var H=U.child;if(H!==null)H.return=U,ee=H;else for(;ee!==null;){U=ee;var V=U.sibling,Z=U.return;if(k0(U),U===O){ee=null;break}if(V!==null){V.return=Z,ee=V;break}ee=Z}}}var te=v.alternate;if(te!==null){var se=te.child;if(se!==null){te.child=null;do{var st=se.sibling;se.sibling=null,se=st}while(se!==null)}}ee=v}}if((v.subtreeFlags&2064)!==0&&_!==null)_.return=v,ee=_;else e:for(;ee!==null;){if(v=ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:co(9,v,v.return)}var A=v.sibling;if(A!==null){A.return=v.return,ee=A;break e}ee=v.return}}var I=r.current;for(ee=I;ee!==null;){_=ee;var M=_.child;if((_.subtreeFlags&2064)!==0&&M!==null)M.return=_,ee=M;else e:for(_=I;ee!==null;){if(k=ee,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:fl(9,k)}}catch(ae){Ze(k,k.return,ae)}if(k===_){ee=null;break e}var q=k.sibling;if(q!==null){q.return=k.return,ee=q;break e}ee=k.return}}if(je=x,ps(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(ja,r)}catch{}f=!0}return f}finally{Ae=c,Zt.transition=i}}return!1}function W0(r,i,c){i=Gr(c,i),i=a0(r,i,1),r=xs(r,i,1),i=Tt(),r!==null&&(Oi(r,1,i),Lt(r,i))}function Ze(r,i,c){if(r.tag===3)W0(r,r,c);else for(;i!==null;){if(i.tag===3){W0(i,r,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))){r=Gr(c,r),r=l0(i,r,1),i=xs(i,r,1),r=Tt(),i!==null&&(Oi(i,1,r),Lt(i,r));break}}i=i.return}}function oC(r,i,c){var f=r.pingCache;f!==null&&f.delete(i),i=Tt(),r.pingedLanes|=r.suspendedLanes&c,ft===r&&(vt&c)===c&&(at===4||at===3&&(vt&130023424)===vt&&500>nt()-Md?tr(r,0):Dd|=c),Lt(r,i)}function $0(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ea,Ea<<=1,(Ea&130023424)===0&&(Ea=4194304)));var c=Tt();r=$n(r,i),r!==null&&(Oi(r,i,c),Lt(r,c))}function aC(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),$0(r,c)}function lC(r,i){var c=0;switch(r.tag){case 13:var f=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),$0(r,c)}var H0;H0=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||At.current)Mt=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return Mt=!1,K2(r,i,c);Mt=(r.flags&131072)!==0}else Mt=!1,Ye&&(i.flags&1048576)!==0&&Cg(i,Qa,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;dl(r,i),r=i.pendingProps;var x=Fr(i,bt.current);$r(i,c),x=hd(null,i,f,r,x,c);var v=fd();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Dt(f)?(v=!0,Ya(i)):v=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,id(i),x.updater=cl,i.stateNode=x,x._reactInternals=i,vd(i,f,r,c),i=Nd(null,i,f,!0,v,c)):(i.tag=0,Ye&&v&&Ku(i),Et(null,i,x,c),i=i.child),i;case 16:f=i.elementType;e:{switch(dl(r,i),r=i.pendingProps,x=f._init,f=x(f._payload),i.type=f,x=i.tag=uC(f),r=ln(f,r),x){case 0:i=_d(null,i,f,r,c);break e;case 1:i=x0(null,i,f,r,c);break e;case 11:i=h0(null,i,f,r,c);break e;case 14:i=f0(null,i,f,ln(f.type,r),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:ln(f,x),_d(r,i,f,x,c);case 1:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:ln(f,x),x0(r,i,f,x,c);case 3:e:{if(y0(i),r===null)throw Error(n(387));f=i.pendingProps,v=i.memoizedState,x=v.element,Ag(r,i),nl(i,f,null,c);var _=i.memoizedState;if(f=_.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){x=Gr(Error(n(423)),i),i=v0(r,i,f,c,x);break e}else if(f!==x){x=Gr(Error(n(424)),i),i=v0(r,i,f,c,x);break e}else for(Ht=hs(i.stateNode.containerInfo.firstChild),$t=i,Ye=!0,an=null,c=Ig(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vr(),f===x){i=Gn(r,i,c);break e}Et(r,i,f,c)}i=i.child}return i;case 5:return Og(i),r===null&&Zu(i),f=i.type,x=i.pendingProps,v=r!==null?r.memoizedProps:null,_=x.children,Wu(f,x)?_=null:v!==null&&Wu(f,v)&&(i.flags|=32),g0(r,i),Et(r,i,_,c),i.child;case 6:return r===null&&Zu(i),null;case 13:return w0(r,i,c);case 4:return od(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Ur(i,null,f,c):Et(r,i,f,c),i.child;case 11:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:ln(f,x),h0(r,i,f,x,c);case 7:return Et(r,i,i.pendingProps,c),i.child;case 8:return Et(r,i,i.pendingProps.children,c),i.child;case 12:return Et(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,x=i.pendingProps,v=i.memoizedProps,_=x.value,Be(Ja,f._currentValue),f._currentValue=_,v!==null)if(on(v.value,_)){if(v.children===x.children&&!At.current){i=Gn(r,i,c);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var k=v.dependencies;if(k!==null){_=v.child;for(var P=k.firstContext;P!==null;){if(P.context===f){if(v.tag===1){P=Hn(-1,c&-c),P.tag=2;var O=v.updateQueue;if(O!==null){O=O.shared;var U=O.pending;U===null?P.next=P:(P.next=U.next,U.next=P),O.pending=P}}v.lanes|=c,P=v.alternate,P!==null&&(P.lanes|=c),sd(v.return,c,i),k.lanes|=c;break}P=P.next}}else if(v.tag===10)_=v.type===i.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(n(341));_.lanes|=c,k=_.alternate,k!==null&&(k.lanes|=c),sd(_,c,i),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===i){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Et(r,i,x.children,c),i=i.child}return i;case 9:return x=i.type,f=i.pendingProps.children,$r(i,c),x=Qt(x),f=f(x),i.flags|=1,Et(r,i,f,c),i.child;case 14:return f=i.type,x=ln(f,i.pendingProps),x=ln(f.type,x),f0(r,i,f,x,c);case 15:return m0(r,i,i.type,i.pendingProps,c);case 17:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:ln(f,x),dl(r,i),i.tag=1,Dt(f)?(r=!0,Ya(i)):r=!1,$r(i,c),i0(i,f,x),vd(i,f,x,c),Nd(null,i,f,!0,r,c);case 19:return _0(r,i,c);case 22:return p0(r,i,c)}throw Error(n(156,i.tag))};function G0(r,i){return Sp(r,i)}function cC(r,i,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(r,i,c,f){return new cC(r,i,c,f)}function Wd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function uC(r){if(typeof r=="function")return Wd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===G)return 14}return 2}function Ns(r,i){var c=r.alternate;return c===null?(c=Jt(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function _l(r,i,c,f,x,v){var _=2;if(f=r,typeof r=="function")Wd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case z:return sr(c.children,x,v,i);case F:_=8,x|=8;break;case X:return r=Jt(12,c,i,x|2),r.elementType=X,r.lanes=v,r;case le:return r=Jt(13,c,i,x),r.elementType=le,r.lanes=v,r;case ve:return r=Jt(19,c,i,x),r.elementType=ve,r.lanes=v,r;case oe:return Nl(c,x,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ie:_=10;break e;case xe:_=9;break e;case $:_=11;break e;case G:_=14;break e;case pe:_=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Jt(_,c,i,x),i.elementType=r,i.type=f,i.lanes=v,i}function sr(r,i,c,f){return r=Jt(7,r,f,i),r.lanes=c,r}function Nl(r,i,c,f){return r=Jt(22,r,f,i),r.elementType=oe,r.lanes=c,r.stateNode={isHidden:!1},r}function $d(r,i,c){return r=Jt(6,r,null,i),r.lanes=c,r}function Hd(r,i,c){return i=Jt(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function dC(r,i,c,f,x){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Gd(r,i,c,f,x,v,_,k,P){return r=new dC(r,i,c,k,P),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Jt(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(v),r}function hC(r,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:f==null?null:""+f,children:r,containerInfo:i,implementation:c}}function Y0(r){if(!r)return ms;r=r._reactInternals;e:{if(Hs(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Dt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Dt(c))return bg(r,c,i)}return i}function q0(r,i,c,f,x,v,_,k,P){return r=Gd(c,f,!0,r,x,v,_,k,P),r.context=Y0(null),c=r.current,f=Tt(),x=bs(c),v=Hn(f,x),v.callback=i??null,xs(c,v,x),r.current.lanes=x,Oi(r,x,f),Lt(r,f),r}function Cl(r,i,c,f){var x=i.current,v=Tt(),_=bs(x);return c=Y0(c),i.context===null?i.context=c:i.pendingContext=c,i=Hn(v,_),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=xs(x,i,_),r!==null&&(dn(r,x,_,v),tl(r,x,_)),_}function Sl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function K0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Yd(r,i){K0(r,i),(r=r.alternate)&&K0(r,i)}function fC(){return null}var Q0=typeof reportError=="function"?reportError:function(r){console.error(r)};function qd(r){this._internalRoot=r}jl.prototype.render=qd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Cl(r,i,null,null)},jl.prototype.unmount=qd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;er(function(){Cl(null,r,null,null)}),i[zn]=null}};function jl(r){this._internalRoot=r}jl.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ap();r={blockedOn:null,target:r,priority:i};for(var c=0;c<cs.length&&i!==0&&i<cs[c].priority;c++);cs.splice(c,0,r),c===0&&Op(r)}};function Kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function kl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function X0(){}function mC(r,i,c,f,x){if(x){if(typeof f=="function"){var v=f;f=function(){var O=Sl(_);v.call(O)}}var _=q0(i,f,r,0,null,!1,!1,"",X0);return r._reactRootContainer=_,r[zn]=_.current,Qi(r.nodeType===8?r.parentNode:r),er(),_}for(;x=r.lastChild;)r.removeChild(x);if(typeof f=="function"){var k=f;f=function(){var O=Sl(P);k.call(O)}}var P=Gd(r,0,!1,null,null,!1,!1,"",X0);return r._reactRootContainer=P,r[zn]=P.current,Qi(r.nodeType===8?r.parentNode:r),er(function(){Cl(i,P,c,f)}),P}function El(r,i,c,f,x){var v=c._reactRootContainer;if(v){var _=v;if(typeof x=="function"){var k=x;x=function(){var P=Sl(_);k.call(P)}}Cl(i,_,r,x)}else _=mC(c,i,r,x,f);return Sl(_)}Ip=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=Mi(i.pendingLanes);c!==0&&(vu(i,c|1),Lt(i,nt()),(je&6)===0&&(Kr=nt()+500,ps()))}break;case 13:er(function(){var f=$n(r,1);if(f!==null){var x=Tt();dn(f,r,1,x)}}),Yd(r,1)}},wu=function(r){if(r.tag===13){var i=$n(r,134217728);if(i!==null){var c=Tt();dn(i,r,134217728,c)}Yd(r,134217728)}},Rp=function(r){if(r.tag===13){var i=bs(r),c=$n(r,i);if(c!==null){var f=Tt();dn(c,r,i,f)}Yd(r,i)}},Ap=function(){return Ae},Dp=function(r,i){var c=Ae;try{return Ae=r,i()}finally{Ae=c}},hu=function(r,i,c){switch(i){case"input":if(ru(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==r&&f.form===r.form){var x=Ha(f);if(!x)throw Error(n(90));rp(f),ru(f,x)}}}break;case"textarea":cp(r,c);break;case"select":i=c.value,i!=null&&jr(r,!!c.multiple,i,!1)}},yp=zd,vp=er;var pC={usingClientEntryPoint:!1,Events:[Ji,Or,Ha,gp,xp,zd]},mo={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gC={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Np(r),r===null?null:r.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ja=Tl.inject(gC),Nn=Tl}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC,Ft.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(i))throw Error(n(200));return hC(r,i,null,c)},Ft.createRoot=function(r,i){if(!Kd(r))throw Error(n(299));var c=!1,f="",x=Q0;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=Gd(r,1,!1,null,null,c,!1,f,x),r[zn]=i.current,Qi(r.nodeType===8?r.parentNode:r),new qd(i)},Ft.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Np(i),r=r===null?null:r.stateNode,r},Ft.flushSync=function(r){return er(r)},Ft.hydrate=function(r,i,c){if(!kl(i))throw Error(n(200));return El(null,r,i,!0,c)},Ft.hydrateRoot=function(r,i,c){if(!Kd(r))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,x=!1,v="",_=Q0;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),i=q0(i,null,r,1,c??null,x,!1,v,_),r[zn]=i.current,Qi(r),f)for(r=0;r<f.length;r++)c=f[r],x=c._getVersion,x=x(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,x]:i.mutableSourceEagerHydrationData.push(c,x);return new jl(i)},Ft.render=function(r,i,c){if(!kl(i))throw Error(n(200));return El(null,r,i,!1,c)},Ft.unmountComponentAtNode=function(r){if(!kl(r))throw Error(n(40));return r._reactRootContainer?(er(function(){El(null,null,r,!1,function(){r._reactRootContainer=null,r[zn]=null})}),!0):!1},Ft.unstable_batchedUpdates=zd,Ft.unstable_renderSubtreeIntoContainer=function(r,i,c,f){if(!kl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return El(r,i,c,!1,f)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var ix;function ew(){if(ix)return Zd.exports;ix=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zd.exports=SC(),Zd.exports}var ox;function jC(){if(ox)return Pl;ox=1;var t=ew();return Pl.createRoot=t.createRoot,Pl.hydrateRoot=t.hydrateRoot,Pl}var kC=jC();const EC=Vf(kC);ew();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Lo.apply(this,arguments)}var Ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ts||(Ts={}));const ax="popstate";function TC(t){t===void 0&&(t={});function e(o,l){let{pathname:u="/",search:h="",hash:d=""}=_r(o.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Bh("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=o.location.href,m=d.indexOf("#");h=m===-1?d:d.slice(0,m)}return h+"#"+(typeof l=="string"?l:Ql(l))}function s(o,l){Pc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return IC(e,n,s,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PC(){return Math.random().toString(36).substr(2,8)}function lx(t,e){return{usr:t.state,key:t.key,idx:e}}function Bh(t,e,n,s){return n===void 0&&(n=null),Lo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_r(e):e,{state:n,key:e&&e.key||s||PC()})}function Ql(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function _r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function IC(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,h=Ts.Pop,d=null,m=p();m==null&&(m=0,u.replaceState(Lo({},u.state,{idx:m}),""));function p(){return(u.state||{idx:null}).idx}function g(){h=Ts.Pop;let C=p(),T=C==null?null:C-m;m=C,d&&d({action:h,location:S.location,delta:T})}function y(C,T){h=Ts.Push;let N=Bh(S.location,C,T);n&&n(N,C),m=p()+1;let j=lx(N,m),D=S.createHref(N);try{u.pushState(j,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(D)}l&&d&&d({action:h,location:S.location,delta:1})}function b(C,T){h=Ts.Replace;let N=Bh(S.location,C,T);n&&n(N,C),m=p();let j=lx(N,m),D=S.createHref(N);u.replaceState(j,"",D),l&&d&&d({action:h,location:S.location,delta:0})}function w(C){let T=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof C=="string"?C:Ql(C);return N=N.replace(/ $/,"%20"),Xe(T,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,T)}let S={get action(){return h},get location(){return t(o,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(ax,g),d=C,()=>{o.removeEventListener(ax,g),d=null}},createHref(C){return e(o,C)},createURL:w,encodeLocation(C){let T=w(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:b,go(C){return u.go(C)}};return S}var cx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cx||(cx={}));function RC(t,e,n){return n===void 0&&(n="/"),AC(t,e,n)}function AC(t,e,n,s){let o=typeof e=="string"?_r(e):e,l=di(o.pathname||"/",n);if(l==null)return null;let u=tw(t);DC(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=HC(l);h=WC(u[d],m)}return h}function tw(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(Xe(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let m=Is([s,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),tw(l.children,e,p,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:VC(m,l.index),routesMeta:p})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,u);else for(let d of nw(l.path))o(l,u,d)}),e}function nw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=nw(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function DC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const MC=/^:[\w-]+$/,OC=3,LC=2,FC=1,BC=10,zC=-2,ux=t=>t==="*";function VC(t,e){let n=t.split("/"),s=n.length;return n.some(ux)&&(s+=zC),e&&(s+=LC),n.filter(o=>!ux(o)).reduce((o,l)=>o+(MC.test(l)?OC:l===""?FC:BC),s)}function UC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function WC(t,e,n){let{routesMeta:s}=t,o={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=zh({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p),y=d.route;if(!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:Is([l,g.pathname]),pathnameBase:QC(Is([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Is([l,g.pathnameBase]))}return u}function zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$C(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,p,g)=>{let{paramName:y,isOptional:b}=p;if(y==="*"){let S=h[g]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[g];return b&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function $C(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const GC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=t=>GC.test(t);function qC(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?_r(t):t,l;if(n)if(YC(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Pc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?l=dx(n.substring(1),"/"):l=dx(n,e)}else l=e;return{pathname:l,search:XC(s),hash:ZC(o)}}function dx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function th(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uf(t,e){let n=KC(t);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Wf(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=_r(t):(o=Lo({},t),Xe(!o.pathname||!o.pathname.includes("?"),th("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),th("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),th("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=n;else{let g=e.length-1;if(!s&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}h=g>=0?e[g]:"/"}let d=qC(o,h),m=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||p)&&(d.pathname+="/"),d}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),QC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sw=["post","put","patch","delete"];new Set(sw);const eS=["get",...sw];new Set(eS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fo.apply(this,arguments)}const Ic=E.createContext(null),rw=E.createContext(null),ss=E.createContext(null),Rc=E.createContext(null),Ln=E.createContext({outlet:null,matches:[],isDataRoute:!1}),iw=E.createContext(null);function tS(t,e){let{relative:n}=e===void 0?{}:e;wi()||Xe(!1);let{basename:s,navigator:o}=E.useContext(ss),{hash:l,pathname:u,search:h}=Ac(t,{relative:n}),d=u;return s!=="/"&&(d=u==="/"?s:Is([s,u])),o.createHref({pathname:d,search:h,hash:l})}function wi(){return E.useContext(Rc)!=null}function Nr(){return wi()||Xe(!1),E.useContext(Rc).location}function ow(t){E.useContext(ss).static||E.useLayoutEffect(t)}function Fn(){let{isDataRoute:t}=E.useContext(Ln);return t?gS():nS()}function nS(){wi()||Xe(!1);let t=E.useContext(Ic),{basename:e,future:n,navigator:s}=E.useContext(ss),{matches:o}=E.useContext(Ln),{pathname:l}=Nr(),u=JSON.stringify(Uf(o,n.v7_relativeSplatPath)),h=E.useRef(!1);return ow(()=>{h.current=!0}),E.useCallback(function(m,p){if(p===void 0&&(p={}),!h.current)return;if(typeof m=="number"){s.go(m);return}let g=Wf(m,JSON.parse(u),l,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Is([e,g.pathname])),(p.replace?s.replace:s.push)(g,p.state,p)},[e,s,u,l,t])}const sS=E.createContext(null);function rS(t){let e=E.useContext(Ln).outlet;return e&&E.createElement(sS.Provider,{value:t},e)}function aw(){let{matches:t}=E.useContext(Ln),e=t[t.length-1];return e?e.params:{}}function Ac(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=E.useContext(ss),{matches:o}=E.useContext(Ln),{pathname:l}=Nr(),u=JSON.stringify(Uf(o,s.v7_relativeSplatPath));return E.useMemo(()=>Wf(t,JSON.parse(u),l,n==="path"),[t,u,l,n])}function iS(t,e){return oS(t,e)}function oS(t,e,n,s){wi()||Xe(!1);let{navigator:o}=E.useContext(ss),{matches:l}=E.useContext(Ln),u=l[l.length-1],h=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let m=Nr(),p;if(e){var g;let C=typeof e=="string"?_r(e):e;d==="/"||(g=C.pathname)!=null&&g.startsWith(d)||Xe(!1),p=C}else p=m;let y=p.pathname||"/",b=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=RC(t,{pathname:b}),S=dS(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Is([d,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Is([d,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,s);return e&&S?E.createElement(Rc.Provider,{value:{location:Fo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ts.Pop}},S):S}function aS(){let t=pS(),e=JC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,null)}const lS=E.createElement(aS,null);class cS extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Ln.Provider,{value:this.props.routeContext},E.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uS(t){let{routeContext:e,match:n,children:s}=t,o=E.useContext(Ic);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ln.Provider,{value:e},s)}function dS(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(o=n)==null?void 0:o.errors;if(h!=null){let p=u.findIndex(g=>g.route.id&&(h==null?void 0:h[g.route.id])!==void 0);p>=0||Xe(!1),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<u.length;p++){let g=u[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:y,errors:b}=n,w=g.route.loader&&y[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((p,g,y)=>{let b,w=!1,S=null,C=null;n&&(b=h&&g.route.id?h[g.route.id]:void 0,S=g.route.errorElement||lS,d&&(m<0&&y===0?(xS("route-fallback"),w=!0,C=null):m===y&&(w=!0,C=g.route.hydrateFallbackElement||null)));let T=e.concat(u.slice(0,y+1)),N=()=>{let j;return b?j=S:w?j=C:g.route.Component?j=E.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,E.createElement(uS,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?E.createElement(cS,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}var lw=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(lw||{}),cw=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(cw||{});function hS(t){let e=E.useContext(Ic);return e||Xe(!1),e}function fS(t){let e=E.useContext(rw);return e||Xe(!1),e}function mS(t){let e=E.useContext(Ln);return e||Xe(!1),e}function uw(t){let e=mS(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function pS(){var t;let e=E.useContext(iw),n=fS(),s=uw();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function gS(){let{router:t}=hS(lw.UseNavigateStable),e=uw(cw.UseNavigateStable),n=E.useRef(!1);return ow(()=>{n.current=!0}),E.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Fo({fromRouteId:e},l)))},[t,e])}const hx={};function xS(t,e,n){hx[t]||(hx[t]=!0)}function yS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dw(t){let{to:e,replace:n,state:s,relative:o}=t;wi()||Xe(!1);let{future:l,static:u}=E.useContext(ss),{matches:h}=E.useContext(Ln),{pathname:d}=Nr(),m=Fn(),p=Wf(e,Uf(h,l.v7_relativeSplatPath),d,o==="path"),g=JSON.stringify(p);return E.useEffect(()=>m(JSON.parse(g),{replace:n,state:s,relative:o}),[m,g,o,n,s]),null}function hw(t){return rS(t.context)}function Oe(t){Xe(!1)}function vS(t){let{basename:e="/",children:n=null,location:s,navigationType:o=Ts.Pop,navigator:l,static:u=!1,future:h}=t;wi()&&Xe(!1);let d=e.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:d,navigator:l,static:u,future:Fo({v7_relativeSplatPath:!1},h)}),[d,h,l,u]);typeof s=="string"&&(s=_r(s));let{pathname:p="/",search:g="",hash:y="",state:b=null,key:w="default"}=s,S=E.useMemo(()=>{let C=di(p,d);return C==null?null:{location:{pathname:C,search:g,hash:y,state:b,key:w},navigationType:o}},[d,p,g,y,b,w,o]);return S==null?null:E.createElement(ss.Provider,{value:m},E.createElement(Rc.Provider,{children:n,value:S}))}function wS(t){let{children:e,location:n}=t;return iS(Vh(e),n)}new Promise(()=>{});function Vh(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(s,o)=>{if(!E.isValidElement(s))return;let l=[...e,o];if(s.type===E.Fragment){n.push.apply(n,Vh(s.props.children,l));return}s.type!==Oe&&Xe(!1),!s.props.index||!s.props.children||Xe(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Vh(s.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xl.apply(this,arguments)}function fw(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function bS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _S(t,e){return t.button===0&&(!e||e==="_self")&&!bS(t)}function Uh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function NS(t,e){let n=Uh(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}const CS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jS="6";try{window.__reactRouterVersion=jS}catch{}const kS=E.createContext({isTransitioning:!1}),ES="startTransition",fx=_C[ES];function TS(t){let{basename:e,children:n,future:s,window:o}=t,l=E.useRef();l.current==null&&(l.current=TC({window:o,v5Compat:!0}));let u=l.current,[h,d]=E.useState({action:u.action,location:u.location}),{v7_startTransition:m}=s||{},p=E.useCallback(g=>{m&&fx?fx(()=>d(g)):d(g)},[d,m]);return E.useLayoutEffect(()=>u.listen(p),[u,p]),E.useEffect(()=>yS(s),[s]),E.createElement(vS,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:s})}const PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=E.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:p,viewTransition:g}=e,y=fw(e,CS),{basename:b}=E.useContext(ss),w,S=!1;if(typeof m=="string"&&IS.test(m)&&(w=m,PS))try{let j=new URL(window.location.href),D=m.startsWith("//")?new URL(j.protocol+m):new URL(m),L=di(D.pathname,b);D.origin===j.origin&&L!=null?m=L+D.search+D.hash:S=!0}catch{}let C=tS(m,{relative:o}),T=AS(m,{replace:u,state:h,target:d,preventScrollReset:p,relative:o,viewTransition:g});function N(j){s&&s(j),j.defaultPrevented||T(j)}return E.createElement("a",Xl({},y,{href:w||C,onClick:S||l?s:N,ref:n,target:d}))}),mw=E.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:d,viewTransition:m,children:p}=e,g=fw(e,SS),y=Ac(d,{relative:g.relative}),b=Nr(),w=E.useContext(rw),{navigator:S,basename:C}=E.useContext(ss),T=w!=null&&MS(y)&&m===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,j=b.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(j=j.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&C&&(D=di(D,C)||D);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let W=j===N||!u&&j.startsWith(N)&&j.charAt(L)==="/",z=D!=null&&(D===N||!u&&D.startsWith(N)&&D.charAt(N.length)==="/"),F={isActive:W,isPending:z,isTransitioning:T},X=W?s:void 0,ie;typeof l=="function"?ie=l(F):ie=[l,W?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let xe=typeof h=="function"?h(F):h;return E.createElement(he,Xl({},g,{"aria-current":X,className:ie,ref:n,style:xe,to:d,viewTransition:m}),typeof p=="function"?p(F):p)});var Wh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wh||(Wh={}));var mx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mx||(mx={}));function RS(t){let e=E.useContext(Ic);return e||Xe(!1),e}function AS(t,e){let{target:n,replace:s,state:o,preventScrollReset:l,relative:u,viewTransition:h}=e===void 0?{}:e,d=Fn(),m=Nr(),p=Ac(t,{relative:u});return E.useCallback(g=>{if(_S(g,n)){g.preventDefault();let y=s!==void 0?s:Ql(m)===Ql(p);d(t,{replace:y,state:o,preventScrollReset:l,relative:u,viewTransition:h})}},[m,d,p,s,o,n,t,l,u,h])}function DS(t){let e=E.useRef(Uh(t)),n=E.useRef(!1),s=Nr(),o=E.useMemo(()=>NS(s.search,n.current?null:e.current),[s.search]),l=Fn(),u=E.useCallback((h,d)=>{const m=Uh(typeof h=="function"?h(o):h);n.current=!0,l("?"+m,d)},[l,o]);return[o,u]}function MS(t,e){e===void 0&&(e={});let n=E.useContext(kS);n==null&&Xe(!1);let{basename:s}=RS(Wh.useViewTransitionState),o=Ac(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=di(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=di(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zh(o.pathname,u)!=null||zh(o.pathname,l)!=null}const OS={},px=t=>{let e;const n=new Set,s=(p,g)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const b=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,b))}},o=()=>e,d={setState:s,getState:o,getInitialState:()=>m,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(OS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=e=t(s,o,d);return d},LS=t=>t?px(t):px;var nh={exports:{}},sh={},rh={exports:{}},ih={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function FS(){if(gx)return ih;gx=1;var t=la();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function h(g,y){var b=y(),w=s({inst:{value:b,getSnapshot:y}}),S=w[0].inst,C=w[1];return l(function(){S.value=b,S.getSnapshot=y,d(S)&&C({inst:S})},[g,b,y]),o(function(){return d(S)&&C({inst:S}),g(function(){d(S)&&C({inst:S})})},[g]),u(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function m(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return ih.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ih}var xx;function BS(){return xx||(xx=1,rh.exports=FS()),rh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function zS(){if(yx)return sh;yx=1;var t=la(),e=BS();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var s=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,l=t.useRef,u=t.useEffect,h=t.useMemo,d=t.useDebugValue;return sh.useSyncExternalStoreWithSelector=function(m,p,g,y,b){var w=l(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=h(function(){function T(W){if(!N){if(N=!0,j=W,W=y(W),b!==void 0&&S.hasValue){var z=S.value;if(b(z,W))return D=z}return D=W}if(z=D,s(j,W))return z;var F=y(W);return b!==void 0&&b(z,F)?(j=W,z):(j=W,D=F)}var N=!1,j,D,L=g===void 0?null:g;return[function(){return T(p())},L===null?void 0:function(){return T(L())}]},[p,g,y,b]);var C=o(m,w[0],w[1]);return u(function(){S.hasValue=!0,S.value=C},[C]),d(C),C},sh}var vx;function VS(){return vx||(vx=1,nh.exports=zS()),nh.exports}var US=VS();const WS=Vf(US),pw={},{useDebugValue:$S}=Me,{useSyncExternalStoreWithSelector:HS}=WS;let wx=!1;const GS=t=>t;function YS(t,e=GS,n){(pw?"production":void 0)!=="production"&&n&&!wx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wx=!0);const s=HS(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return $S(s),s}const bx=t=>{(pw?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?LS(t):t,n=(s,o)=>YS(e,s,o);return Object.assign(n,e),n},qS=t=>t?bx(t):bx,KS={};function QS(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=d=>d===null?null:JSON.parse(d,void 0),h=(l=n.getItem(o))!=null?l:null;return h instanceof Promise?h.then(u):u(h)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const Bo=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return Bo(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Bo(s)(n)}}}},XS=(t,e)=>(n,s,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,T)=>({...T,...C}),...e},u=!1;const h=new Set,d=new Set;let m;try{m=l.getStorage()}catch{}if(!m)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...C)},s,o);const p=Bo(l.serialize),g=()=>{const C=l.partialize({...s()});let T;const N=p({state:C,version:l.version}).then(j=>m.setItem(l.name,j)).catch(j=>{T=j});if(T)throw T;return N},y=o.setState;o.setState=(C,T)=>{y(C,T),g()};const b=t((...C)=>{n(...C),g()},s,o);let w;const S=()=>{var C;if(!m)return;u=!1,h.forEach(N=>N(s()));const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,s()))||void 0;return Bo(m.getItem.bind(m))(l.name).then(N=>{if(N)return l.deserialize(N)}).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return l.migrate(N.state,N.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return N.state}).then(N=>{var j;return w=l.merge(N,(j=s())!=null?j:b),n(w,!0),g()}).then(()=>{T==null||T(w,void 0),u=!0,d.forEach(N=>N(w))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:C=>{l={...l,...C},C.getStorage&&(m=C.getStorage())},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>u,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(d.add(C),()=>{d.delete(C)})},S(),w||b},ZS=(t,e)=>(n,s,o)=>{let l={storage:QS(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...e},u=!1;const h=new Set,d=new Set;let m=l.storage;if(!m)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...S)},s,o);const p=()=>{const S=l.partialize({...s()});return m.setItem(l.name,{state:S,version:l.version})},g=o.setState;o.setState=(S,C)=>{g(S,C),p()};const y=t((...S)=>{n(...S),p()},s,o);o.getInitialState=()=>y;let b;const w=()=>{var S,C;if(!m)return;u=!1,h.forEach(N=>{var j;return N((j=s())!=null?j:y)});const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(S=s())!=null?S:y))||void 0;return Bo(m.getItem.bind(m))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return[!0,l.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[D,L]=N;if(b=l.merge(L,(j=s())!=null?j:y),n(b,!0),D)return p()}).then(()=>{T==null||T(b,void 0),b=s(),u=!0,d.forEach(N=>N(b))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:S=>{l={...l,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>u,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(d.add(S),()=>{d.delete(S)})},l.skipHydration||w(),b||y},JS=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((KS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),XS(t,e)):ZS(t,e),ej=JS;var _x={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw bi(e)},bi=function(t){return new Error("Firebase Database ("+gw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],h=t[n++],d=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,h=u?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,p=l>>2,g=(l&3)<<4|h>>4;let y=(h&15)<<2|m>>6,b=m&63;d||(b=64,u||(y=64)),s.push(n[p],n[g],n[y],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const g=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||g==null)throw new nj;const y=l<<2|h>>4;if(s.push(y),m!==64){const b=h<<4&240|m>>2;if(s.push(b),g!==64){const w=m<<6&192|g;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(t){const e=xw(t);return $f.encodeByteArray(e,!0)},Zl=function(t){return yw(t).replace(/\./g,"")},$h=function(t){try{return $f.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return vw(void 0,t)}function vw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rj(n)||(t[n]=vw(t[n],e[n]));return t}function rj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=()=>ij().__FIREBASE_DEFAULTS__,aj=()=>{if(typeof process>"u"||typeof _x>"u")return;const t=_x.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$h(t[1]);return e&&JSON.parse(e)},ww=()=>{try{return oj()||aj()||lj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cj=t=>{var e,n;return(n=(e=ww())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bw=t=>{const e=cj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_w=()=>{var t;return(t=ww())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uj())}function dj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hj(){return gw.NODE_ADMIN===!0}function fj(){try{return typeof indexedDB=="object"}catch{return!1}}function mj(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="FirebaseError";class _i extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pj,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sw.prototype.create)}}class Sw{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?gj(l,s):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new _i(o,h,s)}}function gj(t,e){return t.replace(xj,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){return JSON.parse(t)}function ut(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=function(t){let e={},n={},s={},o="";try{const l=t.split(".");e=zo($h(l[0])||""),n=zo($h(l[1])||""),o=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},yj=function(t){const e=jw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vj=function(t){const e=jw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jl(t,e,n){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e.call(n,t[o],o,t));return s}function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],u=e[o];if(Cx(l)&&Cx(u)){if(!Hh(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)s[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)s[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const y=s[g-3]^s[g-8]^s[g-14]^s[g-16];s[g]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,p;for(let g=0;g<80;g++){g<40?g<20?(m=h^l&(u^h),p=1518500249):(m=l^u^h,p=1859775393):g<60?(m=l&u|h&(l|u),p=2400959708):(m=l^u^h,p=3395469782);const y=(o<<5|o>>>27)+m+d+p+s[g]&4294967295;d=h,h=u,u=(l<<30|l>>>2)&4294967295,l=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[o]>>l&255,++s;return e}}function Hf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=55296&&o<=56319){const l=o-55296;s++,K(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mc=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Dc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sj(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ir){return this.instances.has(e)}getOptions(e=ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cj(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ir){return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cj(t){return t===ir?void 0:t}function Sj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const kj={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Ej=ze.INFO,Tj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Pj=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=Tj[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kw{constructor(e){this.name=e,this._logLevel=Ej,this._logHandler=Pj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Ij=(t,e)=>e.some(n=>t instanceof n);let Sx,jx;function Rj(){return Sx||(Sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aj(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,Gh=new WeakMap,Tw=new WeakMap,oh=new WeakMap,Gf=new WeakMap;function Dj(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Rs(t.result)),o()},u=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Ew.set(n,t)}).catch(()=>{}),Gf.set(e,t),e}function Mj(t){if(Gh.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Gh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Oj(t){Yh=t(Yh)}function Lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ah(this),e,...n);return Tw.set(s,e.sort?e.sort():[e]),Rs(s)}:Aj().includes(t)?function(...e){return t.apply(ah(this),e),Rs(Ew.get(this))}:function(...e){return Rs(t.apply(ah(this),e))}}function Fj(t){return typeof t=="function"?Lj(t):(t instanceof IDBTransaction&&Mj(t),Ij(t,Rj())?new Proxy(t,Yh):t)}function Rs(t){if(t instanceof IDBRequest)return Dj(t);if(oh.has(t))return oh.get(t);const e=Fj(t);return e!==t&&(oh.set(t,e),Gf.set(e,t)),e}const ah=t=>Gf.get(t);function Bj(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),h=Rs(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Rs(u.result),d.oldVersion,d.newVersion,Rs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const zj=["get","getKey","getAll","getAllKeys","count"],Vj=["put","add","delete","clear"],lh=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lh.get(e))return lh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Vj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zj.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&d.done]))[0]};return lh.set(e,l),l}Oj(t=>({...t,get:(e,n,s)=>kx(e,n)||t.get(e,n,s),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wj(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Wj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qh="@firebase/app",Ex="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new kw("@firebase/app"),$j="@firebase/app-compat",Hj="@firebase/analytics-compat",Gj="@firebase/analytics",Yj="@firebase/app-check-compat",qj="@firebase/app-check",Kj="@firebase/auth",Qj="@firebase/auth-compat",Xj="@firebase/database",Zj="@firebase/data-connect",Jj="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",sk="@firebase/installations-compat",rk="@firebase/messaging",ik="@firebase/messaging-compat",ok="@firebase/performance",ak="@firebase/performance-compat",lk="@firebase/remote-config",ck="@firebase/remote-config-compat",uk="@firebase/storage",dk="@firebase/storage-compat",hk="@firebase/firestore",fk="@firebase/vertexai-preview",mk="@firebase/firestore-compat",pk="firebase",gk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="[DEFAULT]",xk={[qh]:"fire-core",[$j]:"fire-core-compat",[Gj]:"fire-analytics",[Hj]:"fire-analytics-compat",[qj]:"fire-app-check",[Yj]:"fire-app-check-compat",[Kj]:"fire-auth",[Qj]:"fire-auth-compat",[Xj]:"fire-rtdb",[Zj]:"fire-data-connect",[Jj]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[sk]:"fire-iid-compat",[rk]:"fire-fcm",[ik]:"fire-fcm-compat",[ok]:"fire-perf",[ak]:"fire-perf-compat",[lk]:"fire-rc",[ck]:"fire-rc-compat",[uk]:"fire-gcs",[dk]:"fire-gcs-compat",[hk]:"fire-fst",[mk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[pk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,yk=new Map,Qh=new Map;function Tx(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Qh.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Qh.set(e,t);for(const n of ec.values())Tx(n,t);for(const n of yk.values())Tx(n,t);return!0}function Pw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Sw("app","Firebase",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=gk;function Rw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(n||(n=_w()),!n)throw As.create("no-options");const l=ec.get(o);if(l){if(Hh(n,l.options)&&Hh(s,l.config))return l;throw As.create("duplicate-app",{appName:o})}const u=new jj(o);for(const d of Qh.values())u.addComponent(d);const h=new wk(n,s,u);return ec.set(o,h),h}function Aw(t=Kh){const e=ec.get(t);if(!e&&t===Kh&&_w())return Rw();if(!e)throw As.create("no-app",{appName:t});return e}function Ds(t,e,n){var s;let o=(s=xk[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(h.join(" "));return}Vo(new fi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebase-heartbeat-database",_k=1,Uo="firebase-heartbeat-store";let ch=null;function Dw(){return ch||(ch=Bj(bk,_k,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),ch}async function Nk(t){try{const n=(await Dw()).transaction(Uo),s=await n.objectStore(Uo).get(Mw(t));return await n.done,s}catch(e){if(e instanceof _i)Zn.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Px(t,e){try{const s=(await Dw()).transaction(Uo,"readwrite");await s.objectStore(Uo).put(e,Mw(t)),await s.done}catch(n){if(n instanceof _i)Zn.warn(n.message);else{const s=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(s.message)}}}function Mw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1024,Sk=720*60*60*1e3;class jk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ek(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ix();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=Sk}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Zn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ix(),{heartbeatsToSend:s,unsentEntries:o}=kk(this._heartbeatsCache.heartbeats),l=Zl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Zn.warn(n),""}}}function Ix(){return new Date().toISOString().substring(0,10)}function kk(t,e=Ck){const n=[];let s=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Rx(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fj()?mj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){Vo(new fi("platform-logger",e=>new Uj(e),"PRIVATE")),Vo(new fi("heartbeat",e=>new jk(e),"PRIVATE")),Ds(qh,Ex,t),Ds(qh,Ex,"esm2017"),Ds("fire-js","")}Tk("");var Ax={};const Dx="@firebase/database",Mx="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow="";function Pk(t){Ow=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return rs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ik(e)}}catch{}return new Rk},ur=Lw("localStorage"),Ak=Lw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new kw("@firebase/database"),Dk=(function(){let t=1;return function(){return t++}})(),Fw=function(t){const e=_j(t),n=new bj;n.update(e);const s=n.digest();return $f.encodeByteArray(s)},ca=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ca.apply(null,s):typeof s=="object"?e+=ut(s):e+=s,e+=" "}return e};let ko=null,Ox=!0;const Mk=function(t,e){K(!0,"Can't turn on custom loggers persistently."),li.logLevel=ze.VERBOSE,ko=li.log.bind(li)},St=function(...t){if(Ox===!0&&(Ox=!1,ko===null&&Ak.get("logging_enabled")===!0&&Mk()),ko){const e=ca.apply(null,t);ko(e)}},ua=function(t){return function(...e){St(t,...e)}},Xh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ca(...t);li.error(e)},Jn=function(...t){const e=`FIREBASE FATAL ERROR: ${ca(...t)}`;throw li.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+ca(...t);li.warn(e)},Ok=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Lk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mi="[MIN_NAME]",gr="[MAX_NAME]",Ni=function(t,e){if(t===e)return 0;if(t===mi||e===gr)return-1;if(e===mi||t===gr)return 1;{const n=Lx(t),s=Lx(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Fk=function(t,e){return t===e?0:t<e?-1:1},go=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ut(e))},Yf=function(t){if(typeof t!="object"||t===null)return ut(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=ut(e[s]),n+=":",n+=Yf(t[e[s]]);return n+="}",n},zw=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(t.substring(o,n)):s.push(t.substring(o,o+e));return s};function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vw=function(t){K(!Bw(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,l,u,h,d;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=h+s,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const p=m.join("");let g="";for(d=0;d<64;d+=8){let y=parseInt(p.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},Bk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Vk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Uk=new RegExp("^-?(0*)\\d{1,10}$"),Wk=-2147483648,$k=2147483647,Lx=function(t){if(Uk.test(t)){const e=Number(t);if(e>=Wk&&e<=$k)return e}return null},Ci=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw zt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Hk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Eo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class zl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="5",Uw="v",Ww="s",$w="r",Hw="f",Gw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yw="ls",qw="p",Zh="ac",Kw="websocket",Qw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,s,o,l=!1,u="",h=!1,d=!1){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zw(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let s;if(e===Kw)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qw)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qk(t)&&(n.ns=t.namespace);const o=[];return Vt(n,(l,u)=>{o.push(l+"="+u)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.counters_={}}incrementCounter(e,n=1){rs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={},dh={};function Kf(t){const e=t.toString();return uh[e]||(uh[e]=new Kk),uh[e]}function Qk(t,e){const n=t.toString();return dh[n]||(dh[n]=e()),dh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Ci(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="start",Zk="close",Jk="pLPCommand",eE="pRTLPCB",Jw="id",e1="pw",t1="ser",tE="cb",nE="seg",sE="ts",rE="d",iE="dframe",n1=1870,s1=30,oE=n1-s1,aE=25e3,lE=3e4;class ti{constructor(e,n,s,o,l,u,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ua(e),this.stats_=Kf(n),this.urlFn=d=>(this.appCheckToken&&(d[Zh]=this.appCheckToken),Zw(n,Qw,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lE)),Lk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qf((...l)=>{const[u,h,d,m,p]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Fx)this.id=h,this.password=d;else if(u===Zk)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Fx]="t",s[t1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[tE]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Uw]=qf,this.transportSessionId&&(s[Ww]=this.transportSessionId),this.lastSessionId&&(s[Yw]=this.lastSessionId),this.applicationId&&(s[qw]=this.applicationId),this.appCheckToken&&(s[Zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gw.test(location.hostname)&&(s[$w]=Hw);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ti.forceAllow_=!0}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){return ti.forceAllow_?!0:!ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Bk()&&!zk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yw(n),o=zw(s,oE);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[iE]="t",s[Jw]=e,s[e1]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qf{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Dk(),window[Jk+this.uniqueCallbackIdentifier]=e,window[eE+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){St("frame writing exception"),h.stack&&St(h.stack),St(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Jw]=this.myID,e[e1]=this.myPW,e[t1]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+s1+s.length<=n1;){const u=this.pendingSegs.shift();s=s+"&"+nE+o+"="+u.seg+"&"+sE+o+"="+u.ts+"&"+rE+o+"="+u.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(aE)),l=()=>{clearTimeout(o),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=16384,uE=45e3;let tc=null;typeof MozWebSocket<"u"?tc=MozWebSocket:typeof WebSocket<"u"&&(tc=WebSocket);class mn{constructor(e,n,s,o,l,u,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ua(this.connId),this.stats_=Kf(n),this.connURL=mn.connectionURL_(n,u,h,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,l){const u={};return u[Uw]=qf,typeof location<"u"&&location.hostname&&Gw.test(location.hostname)&&(u[$w]=Hw),n&&(u[Ww]=n),s&&(u[Yw]=s),o&&(u[Zh]=o),l&&(u[qw]=l),Zw(e,Kw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let s;hj(),this.mySock=new tc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&tc!==null&&!mn.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=zo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=zw(n,cE);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uE))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ti,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=mn&&mn.isAvailable();let s=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[mn];else{const o=this.transports_=[];for(const l of Wo.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Wo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=6e4,hE=5e3,fE=10*1024,mE=100*1024,hh="t",Bx="d",pE="s",zx="r",gE="e",Vx="o",Ux="a",Wx="n",$x="p",xE="h";class yE{constructor(e,n,s,o,l,u,h,d,m,p){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ua("c:"+this.id+":"),this.transportManager_=new Wo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(hh in e){const n=e[hh];n===Ux?this.upgradeIfSecondaryHealthy_():n===zx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Vx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=go("t",e),s=go("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$x,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ux,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=go("t",e),s=go("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=go(hh,e);if(Bx in e){const s=e[Bx];if(n===xE){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Wx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pE?this.onConnectionShutdown_(s):n===zx?this.onReset_(s):n===gE?Xh("Server Error: "+s):n===Vx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qf!==s&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dE))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$x,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!s||s===o[l].context)){o.splice(l,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends i1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nc}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=32,Gx=768;class Le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Pe(){return new Le("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fs(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Le(t.pieces_,e)}function o1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vE(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function a1(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function l1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Le(e,0)}function dt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Le)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new Le(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=be(t),s=be(e);if(n===null)return e;if(n===s)return Pt(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Xf(t,e){if(Fs(t)!==Fs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function pn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Fs(t)>Fs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class wE{constructor(e,n){this.errorPrefix_=n,this.parts_=a1(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Mc(this.parts_[s]);c1(this)}}function bE(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mc(e),c1(t)}function _E(t){const e=t.parts_.pop();t.byteLength_-=Mc(e),t.parts_.length>0&&(t.byteLength_-=1)}function c1(t){if(t.byteLength_>Gx)throw new Error(t.errorPrefix_+"has a key path longer than "+Gx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Hx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hx+") or object contains a cycle "+or(t))}function or(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends i1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Zf}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=1e3,NE=300*1e3,Yx=30*1e3,CE=1.3,SE=3e4,jE="server_kill",qx=3;class Xn extends r1{constructor(e,n,s,o,l,u,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Xn.nextPersistentConnectionId_++,this.log_=ua("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xo,this.maxReconnectDelay_=NE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(ut(l)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new Dc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,h=>{const d=h.d,m=h.s;Xn.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&rs(e,"w")){const s=hi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=yj(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=s,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ut(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xh("Unrecognized action received from server: "+ut(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SE&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Xn.nextConnectionId_++,l=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},m=function(g){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(g)};this.realtime_={close:d,sendRequest:m};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);u?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,h=new yE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,b=>{zt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(jE)},l))}catch(g){this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&zt(g),d())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nx(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>Yf(l)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new Le(e).toString();let o;if(this.listens.has(s)){const l=this.listens.get(s);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){St("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qx&&(this.reconnectDelay_=Yx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){St("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ow.replace(/\./g,"-")]=1,Cw()?e["framework.cordova"]=1:dj()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nc.getInstance().currentlyOnline();return Nx(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(mi,e),o=new _e(mi,n);return this.compare(s,o)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class u1 extends Oc{static get __EMPTY_NODE(){return Il}static set __EMPTY_NODE(e){Il=e}compare(e,n){return Ni(e.name,n.name)}isDefinedOn(e){throw bi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(gr,Il)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Il)}toString(){return".key"}}const ci=new u1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,s,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??gt.RED,this.left=o??Bt.EMPTY_NODE,this.right=l??Bt.EMPTY_NODE}copy(e,n,s,o,l){return new gt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gt.RED=!0;gt.BLACK=!1;class kE{copy(e,n,s,o,l){return this}insert(e,n,s){return new gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gt.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rl(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new kE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){return Ni(t.name,e.name)}function Jf(t,e){return Ni(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;function TE(t){Jh=t}const d1=function(t){return typeof t=="number"?"number:"+Vw(t):"string:"+t},h1=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&rs(e,".sv"),"Priority must be a string or number.")}else K(t===Jh||t.isEmpty(),"priority of unexpected type.");K(t===Jh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kx;class pt{constructor(e,n=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),h1(this.priorityNode_)}static set __childrenNodeConstructor(e){Kx=e}static get __childrenNodeConstructor(){return Kx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:be(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=be(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(K(s!==".priority"||Fs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+d1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vw(this.value_):e+=this.value_,this.lazyHash_=Fw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=pt.VALUE_TYPE_ORDER.indexOf(n),l=pt.VALUE_TYPE_ORDER.indexOf(s);return K(o>=0,"Unknown leaf type: "+n),K(l>=0,"Unknown leaf type: "+s),o===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1,m1;function PE(t){f1=t}function IE(t){m1=t}class RE extends Oc{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),l=s.compareTo(o);return l===0?Ni(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(gr,new pt("[PRIORITY-POST]",m1))}makePost(e,n){const s=f1(e);return new _e(n,new pt("[PRIORITY-POST]",s))}toString(){return".priority"}}const tt=new RE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=Math.log(2);class DE{constructor(e){const n=l=>parseInt(Math.log(l)/AE,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sc=function(t,e,n,s){t.sort(e);const o=function(d,m){const p=m-d;let g,y;if(p===0)return null;if(p===1)return g=t[d],y=n?n(g):g,new gt(y,g.node,gt.BLACK,null,null);{const b=parseInt(p/2,10)+d,w=o(d,b),S=o(b+1,m);return g=t[b],y=n?n(g):g,new gt(y,g.node,gt.BLACK,w,S)}},l=function(d){let m=null,p=null,g=t.length;const y=function(w,S){const C=g-w,T=g;g-=w;const N=o(C+1,T),j=t[C],D=n?n(j):j;b(new gt(D,j.node,S,null,N))},b=function(w){m?(m.left=w,m=w):(p=w,m=w)};for(let w=0;w<d.count;++w){const S=d.nextBitIsOne(),C=Math.pow(2,d.count-(w+1));S?y(C,gt.BLACK):(y(C,gt.BLACK),y(C,gt.RED))}return p},u=new DE(t.length),h=l(u);return new Bt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh;const Xr={};class Kn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return K(Xr&&tt,"ChildrenNode.ts has not been loaded"),fh=fh||new Kn({".priority":Xr},{".priority":tt}),fh}get(e){const n=hi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return rs(this.indexSet_,e.toString())}addIndex(e,n){K(e!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const l=n.getIterator(_e.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let h;o?h=sc(s,e.getCompare()):h=Xr;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const p=Object.assign({},this.indexes_);return p[d]=h,new Kn(p,m)}addToIndexes(e,n){const s=Jl(this.indexes_,(o,l)=>{const u=hi(this.indexSet_,l);if(K(u,"Missing index implementation for "+l),o===Xr)if(u.isDefinedOn(e.node)){const h=[],d=n.getIterator(_e.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),sc(h,u.getCompare())}else return Xr;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new _e(e.name,h))),d.insert(e,e.node)}});return new Kn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Jl(this.indexes_,o=>{if(o===Xr)return o;{const l=n.get(e.name);return l?o.remove(new _e(e.name,l)):o}});return new Kn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo;class fe{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&h1(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yo||(yo=new fe(new Bt(Jf),null,Kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yo}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yo:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=o.isEmpty()?yo:this.priorityNode_;return new fe(o,u,l)}}updateChild(e,n){const s=be(e);if(s===null)return n;{K(be(e)!==".priority"||Fs(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(Ve(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,l=!0;if(this.forEachChild(tt,(u,h)=>{n[u]=h.val(e),s++,l&&fe.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*s){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+d1(this.getPriority().val())+":"),this.forEachChild(tt,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":Fw(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const l=o.getPredecessorKey(new _e(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,_e.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===da?-1:0}withIndex(e){if(e===ci||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(tt),o=n.getIterator(tt);let l=s.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ci?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ME extends fe{constructor(){super(new Bt(Jf),fe.EMPTY_NODE,Kn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const da=new ME;Object.defineProperties(_e,{MIN:{value:new _e(mi,fe.EMPTY_NODE)},MAX:{value:new _e(gr,da)}});u1.__EMPTY_NODE=fe.EMPTY_NODE;pt.__childrenNodeConstructor=fe;TE(da);IE(da);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=!0;function xt(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pt(n,xt(e))}if(!(t instanceof Array)&&OE){const n=[];let s=!1;if(Vt(t,(u,h)=>{if(u.substring(0,1)!=="."){const d=xt(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new _e(u,d)))}}),n.length===0)return fe.EMPTY_NODE;const l=sc(n,EE,u=>u.name,Jf);if(s){const u=sc(n,tt.getCompare());return new fe(l,xt(e),new Kn({".priority":u},{".priority":tt}))}else return new fe(l,xt(e),Kn.Default)}else{let n=fe.EMPTY_NODE;return Vt(t,(s,o)=>{if(rs(t,s)&&s.substring(0,1)!=="."){const l=xt(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(xt(e))}}PE(xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Oc{constructor(e){super(),this.indexPath_=e,K(!Ce(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),l=s.compareTo(o);return l===0?Ni(e.name,n.name):l}makePost(e,n){const s=xt(e),o=fe.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,o)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,da);return new _e(gr,e)}toString(){return a1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Oc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ni(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=xt(e);return new _e(n,s)}toString(){return".value"}}const BE=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){return{type:"value",snapshotNode:t}}function pi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $o(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ho(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.index_=e}updateChild(e,n,s,o,l,u){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange($o(n,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(pi(n,s)):u.trackChildChange(Ho(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(tt,(o,l)=>{n.hasChild(o)||s.trackChildChange($o(o,l))}),n.isLeafNode()||n.forEachChild(tt,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||s.trackChildChange(Ho(o,l,u))}else s.trackChildChange(pi(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.indexedFilter_=new em(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Go.getStartPost_(e),this.endPost_=Go.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,l,u){return this.matches(new _e(n,s))||(s=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=fe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(fe.EMPTY_NODE);const l=this;return n.forEachChild(tt,(u,h)=>{l.matches(new _e(u,h))||(o=o.updateImmediateChild(u,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Go(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,l,u){return this.rangedFilter_.matches(new _e(n,s))||(s=fe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=fe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(fe.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const h=l.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:o=o.updateImmediateChild(h.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,l){let u;if(this.reverse_){const g=this.index_.getCompare();u=(y,b)=>g(b,y)}else u=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const d=new _e(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(h.hasChild(n)){const g=h.getImmediateChild(n);let y=o.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===n||h.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:u(y,d);if(p&&!s.isEmpty()&&b>=0)return l!=null&&l.trackChildChange(Ho(n,s,g)),h.updateImmediateChild(n,s);{l!=null&&l.trackChildChange($o(n,g));const S=h.updateImmediateChild(n,fe.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(pi(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}}else return s.isEmpty()?e:p&&u(m,d)>=0?(l!=null&&(l.trackChildChange($o(m.name,m.node)),l.trackChildChange(pi(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mi}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new tm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UE(t){return t.loadsAllData()?new em(t.getIndex()):t.hasLimit()?new VE(t):new Go(t)}function Qx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===BE?n="$value":t.index_===ci?n="$key":(K(t.index_ instanceof LE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ut(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=ut(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+ut(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=ut(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends r1{constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=ua("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=rc.getListenId_(e,s),h={};this.listens_[u]=h;const d=Qx(e._queryParams);this.restRequest_(l+".json",d,(m,p)=>{let g=p;if(m===404&&(g=null,m=null),m===null&&this.onDataUpdate_(l,g,!1,s),hi(this.listens_,u)===h){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",o(y,null)}})}unlisten(e,n){const s=rc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Qx(e._queryParams),s=e._path.toString(),o=new Dc;return this.restRequest_(s+".json",n,(l,u)=>{let h=u;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wj(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=zo(h.responseText)}catch{zt("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&zt("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(){return{value:null,children:new Map}}function g1(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=be(e);t.children.has(s)||t.children.set(s,ic());const o=t.children.get(s);e=Ve(e),g1(o,e,n)}}function ef(t,e,n){t.value!==null?n(e,t.value):$E(t,(s,o)=>{const l=new Le(e.toString()+"/"+s);ef(o,l,n)})}function $E(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vt(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=10*1e3,GE=30*1e3,YE=300*1e3;class qE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new HE(e);const s=Zx+(GE-Zx)*Math.random();Eo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Vt(e,(o,l)=>{l>0&&rs(this.statsToReport_,o)&&(n[o]=l,s=!0)}),s&&this.server_.reportStats(n),Eo(this.reportStats_.bind(this),Math.floor(Math.random()*2*YE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function x1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=gn.ACK_USER_WRITE,this.source=x1()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Le(e));return new oc(Pe(),n,this.revert)}}else return K(be(this.path)===e,"operationForChild called for unrelated child."),new oc(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.source=e,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Yo(this.source,Pe()):new Yo(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=gn.OVERWRITE}operationForChild(e){return Ce(this.path)?new xr(this.source,Pe(),this.snap.getImmediateChild(e)):new xr(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=gn.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Le(e));return n.isEmpty()?null:n.value?new xr(this.source,Pe(),n.value):new qo(this.source,Pe(),n)}else return K(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qo(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function QE(t,e,n,s){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(zE(u.childName,u.snapshotNode))}),vo(t,o,"child_removed",e,s,n),vo(t,o,"child_added",e,s,n),vo(t,o,"child_moved",l,s,n),vo(t,o,"child_changed",e,s,n),vo(t,o,"value",e,s,n),o}function vo(t,e,n,s,o,l){const u=s.filter(h=>h.type===n);u.sort((h,d)=>ZE(t,h,d)),u.forEach(h=>{const d=XE(t,h,l);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,t.query_))})})}function XE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZE(t,e,n){if(e.childName==null||n.childName==null)throw bi("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),o=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e){return{eventCache:t,serverCache:e}}function To(t,e,n,s){return Lc(new Bs(e,n,s),t.serverCache)}function y1(t,e,n,s){return Lc(t.eventCache,new Bs(e,n,s))}function ac(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh;const JE=()=>(mh||(mh=new Bt(Fk)),mh);class He{constructor(e,n=JE()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Vt(e,(s,o)=>{n=n.set(new Le(s),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Pe(),value:this.value};if(Ce(e))return null;{const s=be(e),o=this.children.get(s);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ve(e),n);return l!=null?{path:dt(new Le(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=be(e),s=this.children.get(n);return s!==null?s.subtree(Ve(e)):new He(null)}}set(e,n){if(Ce(e))return new He(n,this.children);{const s=be(e),l=(this.children.get(s)||new He(null)).set(Ve(e),n),u=this.children.insert(s,l);return new He(this.value,u)}}remove(e){if(Ce(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=be(e),s=this.children.get(n);if(s){const o=s.remove(Ve(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new He(null):new He(this.value,l)}else return this}}get(e){if(Ce(e))return this.value;{const n=be(e),s=this.children.get(n);return s?s.get(Ve(e)):null}}setTree(e,n){if(Ce(e))return n;{const s=be(e),l=(this.children.get(s)||new He(null)).setTree(Ve(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new He(this.value,u)}}fold(e){return this.fold_(Pe(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,l)=>{s[o]=l.fold_(dt(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Pe(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(Ce(e))return null;{const l=be(e),u=this.children.get(l);return u?u.findOnPath_(Ve(e),dt(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Pe(),n)}foreachOnPath_(e,n,s){if(Ce(e))return this;{this.value&&s(n,this.value);const o=be(e),l=this.children.get(o);return l?l.foreachOnPath_(Ve(e),dt(n,o),s):new He(null)}}foreach(e){this.foreach_(Pe(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_(dt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new He(null))}}function Po(t,e,n){if(Ce(e))return new yn(new He(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let l=s.value;const u=Pt(o,e);return l=l.updateChild(u,n),new yn(t.writeTree_.set(o,l))}else{const o=new He(n),l=t.writeTree_.setTree(e,o);return new yn(l)}}}function Jx(t,e,n){let s=t;return Vt(n,(o,l)=>{s=Po(s,dt(e,o),l)}),s}function ey(t,e){if(Ce(e))return yn.empty();{const n=t.writeTree_.setTree(e,new He(null));return new yn(n)}}function tf(t,e){return Sr(t,e)!=null}function Sr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function ty(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(s,o)=>{e.push(new _e(s,o))}):t.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new _e(s,o.value))}),e}function Ms(t,e){if(Ce(e))return t;{const n=Sr(t,e);return n!=null?new yn(new He(n)):new yn(t.writeTree_.subtree(e))}}function nf(t){return t.writeTree_.isEmpty()}function gi(t,e){return v1(Pe(),t.writeTree_,e)}function v1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(K(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=v1(dt(t,o),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(dt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e){return N1(e,t)}function eT(t,e,n,s,o){K(s>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(t.visibleWrites=Po(t.visibleWrites,e,n)),t.lastWriteId=s}function tT(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function nT(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let o=s.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&sT(h,s.path)?o=!1:pn(s.path,h.path)&&(l=!0)),u--}if(o){if(l)return rT(t),!0;if(s.snap)t.visibleWrites=ey(t.visibleWrites,s.path);else{const h=s.children;Vt(h,d=>{t.visibleWrites=ey(t.visibleWrites,dt(s.path,d))})}return!0}else return!1}function sT(t,e){if(t.snap)return pn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pn(dt(t.path,n),e))return!0;return!1}function rT(t){t.visibleWrites=w1(t.allWrites,iT,Pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iT(t){return t.visible}function w1(t,e,n){let s=yn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let h;if(l.snap)pn(n,u)?(h=Pt(n,u),s=Po(s,h,l.snap)):pn(u,n)&&(h=Pt(u,n),s=Po(s,Pe(),l.snap.getChild(h)));else if(l.children){if(pn(n,u))h=Pt(n,u),s=Jx(s,h,l.children);else if(pn(u,n))if(h=Pt(u,n),Ce(h))s=Jx(s,Pe(),l.children);else{const d=hi(l.children,be(h));if(d){const m=d.getChild(Ve(h));s=Po(s,Pe(),m)}}}else throw bi("WriteRecord should have .snap or .children")}}return s}function b1(t,e,n,s,o){if(!s&&!o){const l=Sr(t.visibleWrites,e);if(l!=null)return l;{const u=Ms(t.visibleWrites,e);if(nf(u))return n;if(n==null&&!tf(u,Pe()))return null;{const h=n||fe.EMPTY_NODE;return gi(u,h)}}}else{const l=Ms(t.visibleWrites,e);if(!o&&nf(l))return n;if(!o&&n==null&&!tf(l,Pe()))return null;{const u=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(pn(m.path,e)||pn(e,m.path))},h=w1(t.allWrites,u,e),d=n||fe.EMPTY_NODE;return gi(h,d)}}}function oT(t,e,n){let s=fe.EMPTY_NODE;const o=Sr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(tt,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=Ms(t.visibleWrites,e);return n.forEachChild(tt,(u,h)=>{const d=gi(Ms(l,new Le(u)),h);s=s.updateImmediateChild(u,d)}),ty(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=Ms(t.visibleWrites,e);return ty(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function aT(t,e,n,s,o){K(s||o,"Either existingEventSnap or existingServerSnap must exist");const l=dt(e,n);if(tf(t.visibleWrites,l))return null;{const u=Ms(t.visibleWrites,l);return nf(u)?o.getChild(n):gi(u,o.getChild(n))}}function lT(t,e,n,s){const o=dt(e,n),l=Sr(t.visibleWrites,o);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=Ms(t.visibleWrites,o);return gi(u,s.getNode().getImmediateChild(n))}else return null}function cT(t,e){return Sr(t.visibleWrites,e)}function uT(t,e,n,s,o,l,u){let h;const d=Ms(t.visibleWrites,e),m=Sr(d,Pe());if(m!=null)h=m;else if(n!=null)h=gi(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const p=[],g=u.getCompare(),y=l?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let b=y.getNext();for(;b&&p.length<o;)g(b,s)!==0&&p.push(b),b=y.getNext();return p}else return[]}function dT(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function lc(t,e,n,s){return b1(t.writeTree,t.treePath,e,n,s)}function rm(t,e){return oT(t.writeTree,t.treePath,e)}function ny(t,e,n,s){return aT(t.writeTree,t.treePath,e,n,s)}function cc(t,e){return cT(t.writeTree,dt(t.treePath,e))}function hT(t,e,n,s,o,l){return uT(t.writeTree,t.treePath,e,n,s,o,l)}function im(t,e,n){return lT(t.writeTree,t.treePath,e,n)}function _1(t,e){return N1(dt(t.treePath,e),t.writeTree)}function N1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,Ho(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,$o(s,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,pi(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,Ho(s,e.snapshotNode,o.oldSnap));else throw bi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const C1=new mT;class om{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return im(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yr(this.viewCache_),l=hT(this.writes_,o,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){return{filter:t}}function gT(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xT(t,e,n,s,o){const l=new fT;let u,h;if(n.type===gn.OVERWRITE){const m=n;m.source.fromUser?u=sf(t,e,m.path,m.snap,s,o,l):(K(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ce(m.path),u=uc(t,e,m.path,m.snap,s,o,h,l))}else if(n.type===gn.MERGE){const m=n;m.source.fromUser?u=vT(t,e,m.path,m.children,s,o,l):(K(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),u=rf(t,e,m.path,m.children,s,o,h,l))}else if(n.type===gn.ACK_USER_WRITE){const m=n;m.revert?u=_T(t,e,m.path,s,o,l):u=wT(t,e,m.path,m.affectedTree,s,o,l)}else if(n.type===gn.LISTEN_COMPLETE)u=bT(t,e,n.path,s,l);else throw bi("Unknown operation type: "+n.type);const d=l.getChanges();return yT(e,u,d),{viewCache:u,changes:d}}function yT(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=ac(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(p1(ac(e)))}}function S1(t,e,n,s,o,l){const u=e.eventCache;if(cc(s,n)!=null)return e;{let h,d;if(Ce(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=yr(e),p=m instanceof fe?m:fe.EMPTY_NODE,g=rm(s,p);h=t.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const m=lc(s,yr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=be(n);if(m===".priority"){K(Fs(n)===1,"Can't have a priority with additional path components");const p=u.getNode();d=e.serverCache.getNode();const g=ny(s,n,p,d);g!=null?h=t.filter.updatePriority(p,g):h=u.getNode()}else{const p=Ve(n);let g;if(u.isCompleteForChild(m)){d=e.serverCache.getNode();const y=ny(s,n,u.getNode(),d);y!=null?g=u.getNode().getImmediateChild(m).updateChild(p,y):g=u.getNode().getImmediateChild(m)}else g=im(s,m,e.serverCache);g!=null?h=t.filter.updateChild(u.getNode(),m,g,p,o,l):h=u.getNode()}}return To(e,h,u.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function uc(t,e,n,s,o,l,u,h){const d=e.serverCache;let m;const p=u?t.filter:t.filter.getIndexedFilter();if(Ce(n))m=p.updateFullNode(d.getNode(),s,null);else if(p.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(n,s);m=p.updateFullNode(d.getNode(),b,null)}else{const b=be(n);if(!d.isCompleteForPath(n)&&Fs(n)>1)return e;const w=Ve(n),C=d.getNode().getImmediateChild(b).updateChild(w,s);b===".priority"?m=p.updatePriority(d.getNode(),C):m=p.updateChild(d.getNode(),b,C,w,C1,null)}const g=y1(e,m,d.isFullyInitialized()||Ce(n),p.filtersNodes()),y=new om(o,g,l);return S1(t,g,n,o,y,h)}function sf(t,e,n,s,o,l,u){const h=e.eventCache;let d,m;const p=new om(o,e,l);if(Ce(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),d=To(e,m,!0,t.filter.filtersNodes());else{const g=be(n);if(g===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),d=To(e,m,h.isFullyInitialized(),h.isFiltered());else{const y=Ve(n),b=h.getNode().getImmediateChild(g);let w;if(Ce(y))w=s;else{const S=p.getCompleteChild(g);S!=null?o1(y)===".priority"&&S.getChild(l1(y)).isEmpty()?w=S:w=S.updateChild(y,s):w=fe.EMPTY_NODE}if(b.equals(w))d=e;else{const S=t.filter.updateChild(h.getNode(),g,w,y,p,u);d=To(e,S,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function sy(t,e){return t.eventCache.isCompleteForChild(e)}function vT(t,e,n,s,o,l,u){let h=e;return s.foreach((d,m)=>{const p=dt(n,d);sy(e,be(p))&&(h=sf(t,h,p,m,o,l,u))}),s.foreach((d,m)=>{const p=dt(n,d);sy(e,be(p))||(h=sf(t,h,p,m,o,l,u))}),h}function ry(t,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function rf(t,e,n,s,o,l,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;Ce(n)?m=s:m=new He(null).setTree(n,s);const p=e.serverCache.getNode();return m.children.inorderTraversal((g,y)=>{if(p.hasChild(g)){const b=e.serverCache.getNode().getImmediateChild(g),w=ry(t,b,y);d=uc(t,d,new Le(g),w,o,l,u,h)}}),m.children.inorderTraversal((g,y)=>{const b=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!p.hasChild(g)&&!b){const w=e.serverCache.getNode().getImmediateChild(g),S=ry(t,w,y);d=uc(t,d,new Le(g),S,o,l,u,h)}}),d}function wT(t,e,n,s,o,l,u){if(cc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(Ce(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return uc(t,e,n,d.getNode().getChild(n),o,l,h,u);if(Ce(n)){let m=new He(null);return d.getNode().forEachChild(ci,(p,g)=>{m=m.set(new Le(p),g)}),rf(t,e,n,m,o,l,h,u)}else return e}else{let m=new He(null);return s.foreach((p,g)=>{const y=dt(n,p);d.isCompleteForPath(y)&&(m=m.set(p,d.getNode().getChild(y)))}),rf(t,e,n,m,o,l,h,u)}}function bT(t,e,n,s,o){const l=e.serverCache,u=y1(e,l.getNode(),l.isFullyInitialized()||Ce(n),l.isFiltered());return S1(t,u,n,s,C1,o)}function _T(t,e,n,s,o,l){let u;if(cc(s,n)!=null)return e;{const h=new om(s,e,o),d=e.eventCache.getNode();let m;if(Ce(n)||be(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=lc(s,yr(e));else{const g=e.serverCache.getNode();K(g instanceof fe,"serverChildren would be complete if leaf node"),p=rm(s,g)}p=p,m=t.filter.updateFullNode(d,p,l)}else{const p=be(n);let g=im(s,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=d.getImmediateChild(p)),g!=null?m=t.filter.updateChild(d,p,g,Ve(n),h,l):e.eventCache.getNode().hasChild(p)?m=t.filter.updateChild(d,p,fe.EMPTY_NODE,Ve(n),h,l):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=lc(s,yr(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||cc(s,Pe())!=null,To(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new em(s.getIndex()),l=UE(s);this.processor_=pT(l);const u=n.serverCache,h=n.eventCache,d=o.updateFullNode(fe.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(fe.EMPTY_NODE,h.getNode(),null),p=new Bs(d,u.isFullyInitialized(),o.filtersNodes()),g=new Bs(m,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=Lc(g,p),this.eventGenerator_=new KE(this.query_)}get query(){return this.query_}}function CT(t){return t.viewCache_.serverCache.getNode()}function ST(t){return ac(t.viewCache_)}function jT(t,e){const n=yr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function iy(t){return t.eventRegistrations_.length===0}function kT(t,e){t.eventRegistrations_.push(e)}function oy(t,e,n){const s=[];if(n){K(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&s.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return s}function ay(t,e,n,s){e.type===gn.MERGE&&e.source.queryId!==null&&(K(yr(t.viewCache_),"We should always have a full cache before handling merges"),K(ac(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=xT(t.processor_,o,e,n,s);return gT(t.processor_,l.viewCache),K(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,j1(t,l.changes,l.viewCache.eventCache.getNode(),null)}function ET(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(l,u)=>{s.push(pi(l,u))}),n.isFullyInitialized()&&s.push(p1(n.getNode())),j1(t,s,n.getNode(),e)}function j1(t,e,n,s){const o=s?[s]:t.eventRegistrations_;return QE(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc;class k1{constructor(){this.views=new Map}}function TT(t){K(!dc,"__referenceConstructor has already been defined"),dc=t}function PT(){return K(dc,"Reference.ts has not been loaded"),dc}function IT(t){return t.views.size===0}function am(t,e,n,s){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return K(l!=null,"SyncTree gave us an op for an invalid query."),ay(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(ay(u,e,n,s));return l}}function E1(t,e,n,s,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let h=lc(n,o?s:null),d=!1;h?d=!0:s instanceof fe?(h=rm(n,s),d=!1):(h=fe.EMPTY_NODE,d=!1);const m=Lc(new Bs(h,d,!1),new Bs(s,o,!1));return new NT(e,m)}return u}function RT(t,e,n,s,o,l){const u=E1(t,e,s,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),kT(u,n),ET(u,n)}function AT(t,e,n,s){const o=e._queryIdentifier,l=[];let u=[];const h=zs(t);if(o==="default")for(const[d,m]of t.views.entries())u=u.concat(oy(m,n,s)),iy(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||l.push(m.query));else{const d=t.views.get(o);d&&(u=u.concat(oy(d,n,s)),iy(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||l.push(d.query)))}return h&&!zs(t)&&l.push(new(PT())(e._repo,e._path)),{removed:l,events:u}}function T1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Os(t,e){let n=null;for(const s of t.views.values())n=n||jT(s,e);return n}function P1(t,e){if(e._queryParams.loadsAllData())return Bc(t);{const s=e._queryIdentifier;return t.views.get(s)}}function I1(t,e){return P1(t,e)!=null}function zs(t){return Bc(t)!=null}function Bc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;function DT(t){K(!hc,"__referenceConstructor has already been defined"),hc=t}function MT(){return K(hc,"Reference.ts has not been loaded"),hc}let OT=1;class ly{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=dT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R1(t,e,n,s,o){return eT(t.pendingWriteTree_,e,n,s,o),o?fa(t,new xr(x1(),e,n)):[]}function dr(t,e,n=!1){const s=tT(t.pendingWriteTree_,e);if(nT(t.pendingWriteTree_,e)){let l=new He(null);return s.snap!=null?l=l.set(Pe(),!0):Vt(s.children,u=>{l=l.set(new Le(u),!0)}),fa(t,new oc(s.path,l,n))}else return[]}function ha(t,e,n){return fa(t,new xr(nm(),e,n))}function LT(t,e,n){const s=He.fromObject(n);return fa(t,new qo(nm(),e,s))}function FT(t,e){return fa(t,new Yo(nm(),e))}function BT(t,e,n){const s=cm(t,n);if(s){const o=um(s),l=o.path,u=o.queryId,h=Pt(l,e),d=new Yo(sm(u),h);return dm(t,l,d)}else return[]}function fc(t,e,n,s,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let h=[];if(u&&(e._queryIdentifier==="default"||I1(u,e))){const d=AT(u,e,n,s);IT(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=d.removed;if(h=d.events,!o){const p=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(l,(y,b)=>zs(b));if(p&&!g){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const b=UT(y);for(let w=0;w<b.length;++w){const S=b[w],C=S.query,T=O1(t,S);t.listenProvider_.startListening(Io(C),Ko(t,C),T.hashFn,T.onComplete)}}}!g&&m.length>0&&!s&&(p?t.listenProvider_.stopListening(Io(e),null):m.forEach(y=>{const b=t.queryToTagMap.get(zc(y));t.listenProvider_.stopListening(Io(y),b)}))}WT(t,m)}return h}function A1(t,e,n,s){const o=cm(t,s);if(o!=null){const l=um(o),u=l.path,h=l.queryId,d=Pt(u,e),m=new xr(sm(h),d,n);return dm(t,u,m)}else return[]}function zT(t,e,n,s){const o=cm(t,s);if(o){const l=um(o),u=l.path,h=l.queryId,d=Pt(u,e),m=He.fromObject(n),p=new qo(sm(h),d,m);return dm(t,u,p)}else return[]}function of(t,e,n,s=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(y,b)=>{const w=Pt(y,o);l=l||Os(b,w),u=u||zs(b)});let h=t.syncPointTree_.get(o);h?(u=u||zs(h),l=l||Os(h,Pe())):(h=new k1,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;l!=null?d=!0:(d=!1,l=fe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,w)=>{const S=Os(w,Pe());S&&(l=l.updateImmediateChild(b,S))}));const m=I1(h,e);if(!m&&!e._queryParams.loadsAllData()){const y=zc(e);K(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=$T();t.queryToTagMap.set(y,b),t.tagToQueryMap.set(b,y)}const p=Fc(t.pendingWriteTree_,o);let g=RT(h,e,n,p,l,d);if(!m&&!u&&!s){const y=P1(h,e);g=g.concat(HT(t,e,y))}return g}function lm(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,h)=>{const d=Pt(u,e),m=Os(h,d);if(m)return m});return b1(o,e,l,n,!0)}function VT(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(m,p)=>{const g=Pt(m,n);s=s||Os(p,g)});let o=t.syncPointTree_.get(n);o?s=s||Os(o,Pe()):(o=new k1,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=s!=null,u=l?new Bs(s,!0,!1):null,h=Fc(t.pendingWriteTree_,e._path),d=E1(o,e,h,l?u.getNode():fe.EMPTY_NODE,l);return ST(d)}function fa(t,e){return D1(e,t.syncPointTree_,null,Fc(t.pendingWriteTree_,Pe()))}function D1(t,e,n,s){if(Ce(t.path))return M1(t,e,n,s);{const o=e.get(Pe());n==null&&o!=null&&(n=Os(o,Pe()));let l=[];const u=be(t.path),h=t.operationForChild(u),d=e.children.get(u);if(d&&h){const m=n?n.getImmediateChild(u):null,p=_1(s,u);l=l.concat(D1(h,d,m,p))}return o&&(l=l.concat(am(o,t,s,n))),l}}function M1(t,e,n,s){const o=e.get(Pe());n==null&&o!=null&&(n=Os(o,Pe()));let l=[];return e.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,m=_1(s,u),p=t.operationForChild(u);p&&(l=l.concat(M1(p,h,d,m)))}),o&&(l=l.concat(am(o,t,s,n))),l}function O1(t,e){const n=e.query,s=Ko(t,n);return{hashFn:()=>(CT(e)||fe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?BT(t,n._path,s):FT(t,n._path);{const l=Vk(o,n);return fc(t,n,null,l)}}}}function Ko(t,e){const n=zc(e);return t.queryToTagMap.get(n)}function zc(t){return t._path.toString()+"$"+t._queryIdentifier}function cm(t,e){return t.tagToQueryMap.get(e)}function um(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Le(t.substr(0,e))}}function dm(t,e,n){const s=t.syncPointTree_.get(e);K(s,"Missing sync point for query tag that we're tracking");const o=Fc(t.pendingWriteTree_,e);return am(s,n,o,null)}function UT(t){return t.fold((e,n,s)=>{if(n&&zs(n))return[Bc(n)];{let o=[];return n&&(o=T1(n)),Vt(s,(l,u)=>{o=o.concat(u)}),o}})}function Io(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(MT())(t._repo,t._path):t}function WT(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=zc(s),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function $T(){return OT++}function HT(t,e,n){const s=e._path,o=Ko(t,e),l=O1(t,n),u=t.listenProvider_.startListening(Io(e),o,l.hashFn,l.onComplete),h=t.syncPointTree_.subtree(s);if(o)K(!zs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,p,g)=>{if(!Ce(m)&&p&&zs(p))return[Bc(p).query];{let y=[];return p&&(y=y.concat(T1(p).map(b=>b.query))),Vt(g,(b,w)=>{y=y.concat(w)}),y}});for(let m=0;m<d.length;++m){const p=d[m];t.listenProvider_.stopListening(Io(p),Ko(t,p))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hm(n)}node(){return this.node_}}class fm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=dt(this.path_,e);return new fm(this.syncTree_,n)}node(){return lm(this.syncTree_,this.path_)}}const GT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cy=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qT(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},qT=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&K(!1,"Unexpected increment value: "+s);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const u=o.getValue();return typeof u!="number"?s:u+s},KT=function(t,e,n,s){return mm(e,new fm(n,t),s)},L1=function(t,e,n){return mm(t,new hm(e),n)};function mm(t,e,n){const s=t.getPriority().val(),o=cy(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,h=cy(u.getValue(),e,n);return h!==u.getValue()||o!==u.getPriority().val()?new pt(h,xt(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new pt(o))),u.forEachChild(tt,(h,d)=>{const m=mm(d,e.getImmediateChild(h),n);m!==d&&(l=l.updateImmediateChild(h,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function gm(t,e){let n=e instanceof Le?e:new Le(e),s=t,o=be(n);for(;o!==null;){const l=hi(s.node.children,o)||{children:{},childCount:0};s=new pm(o,s,l),n=Ve(n),o=be(n)}return s}function Si(t){return t.node.value}function F1(t,e){t.node.value=e,af(t)}function B1(t){return t.node.childCount>0}function QT(t){return Si(t)===void 0&&!B1(t)}function Vc(t,e){Vt(t.node.children,(n,s)=>{e(new pm(n,t,s))})}function z1(t,e,n,s){n&&e(t),Vc(t,o=>{z1(o,e,!0)})}function XT(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ma(t){return new Le(t.parent===null?t.name:ma(t.parent)+"/"+t.name)}function af(t){t.parent!==null&&ZT(t.parent,t.name,t)}function ZT(t,e,n){const s=QT(n),o=rs(t.node.children,e);s&&o?(delete t.node.children[e],t.node.childCount--,af(t)):!s&&!o&&(t.node.children[e]=n.node,t.node.childCount++,af(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=/[\[\].#$\/\u0000-\u001F\u007F]/,eP=/[\[\].#$\u0000-\u001F\u007F]/,ph=10*1024*1024,V1=function(t){return typeof t=="string"&&t.length!==0&&!JT.test(t)},U1=function(t){return typeof t=="string"&&t.length!==0&&!eP.test(t)},tP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),U1(t)},nP=function(t,e,n,s){xm(Hf(t,"value"),e,n)},xm=function(t,e,n){const s=n instanceof Le?new wE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+or(s));if(typeof e=="function")throw new Error(t+"contains a function "+or(s)+" with contents = "+e.toString());if(Bw(e))throw new Error(t+"contains "+e.toString()+" "+or(s));if(typeof e=="string"&&e.length>ph/3&&Mc(e)>ph)throw new Error(t+"contains a string greater than "+ph+" utf8 bytes "+or(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(Vt(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!V1(u)))throw new Error(t+" contains an invalid key ("+u+") "+or(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bE(s,u),xm(t,h,s),_E(s)}),o&&l)throw new Error(t+' contains ".value" child '+or(s)+" in addition to actual children.")}},W1=function(t,e,n,s){if(!U1(n))throw new Error(Hf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sP=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),W1(t,e,n)},rP=function(t,e){if(be(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},iP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!V1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tP(n))throw new Error(Hf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ym(t,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],l=o.getPath();n!==null&&!Xf(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function $1(t,e,n){ym(t,n),H1(t,s=>Xf(s,e))}function In(t,e,n){ym(t,n),H1(t,s=>pn(s,e)||pn(e,s))}function H1(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const o=t.eventLists_[s];if(o){const l=o.path;e(l)?(aP(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function aP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();ko&&St("event: "+n.toString()),Ci(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="repo_interrupt",cP=25;class uP{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ic(),this.transactionQueueTree_=new pm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dP(t,e,n){if(t.stats_=Kf(t.repoInfo_),t.forceRestClient_||Hk())t.server_=new rc(t.repoInfo_,(s,o,l,u)=>{uy(t,s,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Xn(t.repoInfo_,e,(s,o,l,u)=>{uy(t,s,o,l,u)},s=>{dy(t,s)},s=>{fP(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Qk(t.repoInfo_,()=>new qE(t.stats_,t.server_)),t.infoData_=new WE,t.infoSyncTree_=new ly({startListening:(s,o,l,u)=>{let h=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(h=ha(t.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),wm(t,"connected",!1),t.serverSyncTree_=new ly({startListening:(s,o,l,u)=>(t.server_.listen(s,l,o,(h,d)=>{const m=u(h,d);In(t.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{t.server_.unlisten(s,o)}})}function hP(t){const n=t.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vm(t){return GT({timestamp:hP(t)})}function uy(t,e,n,s,o){t.dataUpdateCount++;const l=new Le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(s){const d=Jl(n,m=>xt(m));u=zT(t.serverSyncTree_,l,d,o)}else{const d=xt(n);u=A1(t.serverSyncTree_,l,d,o)}else if(s){const d=Jl(n,m=>xt(m));u=LT(t.serverSyncTree_,l,d)}else{const d=xt(n);u=ha(t.serverSyncTree_,l,d)}let h=l;u.length>0&&(h=Wc(t,l)),In(t.eventQueue_,h,u)}function dy(t,e){wm(t,"connected",e),e===!1&&gP(t)}function fP(t,e){Vt(e,(n,s)=>{wm(t,n,s)})}function wm(t,e,n){const s=new Le("/.info/"+e),o=xt(n);t.infoData_.updateSnapshot(s,o);const l=ha(t.infoSyncTree_,s,o);In(t.eventQueue_,s,l)}function G1(t){return t.nextWriteId_++}function mP(t,e,n){const s=VT(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(o=>{const l=xt(o).withIndex(e._queryParams.getIndex());of(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=ha(t.serverSyncTree_,e._path,l);else{const h=Ko(t.serverSyncTree_,e);u=A1(t.serverSyncTree_,e._path,l,h)}return In(t.eventQueue_,e._path,u),fc(t.serverSyncTree_,e,n,null,!0),l},o=>(Uc(t,"get for query "+ut(e)+" failed: "+o),Promise.reject(new Error(o))))}function pP(t,e,n,s,o){Uc(t,"set",{path:e.toString(),value:n,priority:s});const l=vm(t),u=xt(n,s),h=lm(t.serverSyncTree_,e),d=L1(u,h,l),m=G1(t),p=R1(t.serverSyncTree_,e,d,m,!0);ym(t.eventQueue_,p),t.server_.put(e.toString(),u.val(!0),(y,b)=>{const w=y==="ok";w||zt("set at "+e+" failed: "+y);const S=dr(t.serverSyncTree_,m,!w);In(t.eventQueue_,e,S),vP(t,o,y,b)});const g=X1(t,e);Wc(t,g),In(t.eventQueue_,g,[])}function gP(t){Uc(t,"onDisconnectEvents");const e=vm(t),n=ic();ef(t.onDisconnect_,Pe(),(o,l)=>{const u=KT(o,l,t.serverSyncTree_,e);g1(n,o,u)});let s=[];ef(n,Pe(),(o,l)=>{s=s.concat(ha(t.serverSyncTree_,o,l));const u=X1(t,o);Wc(t,u)}),t.onDisconnect_=ic(),In(t.eventQueue_,Pe(),s)}function xP(t,e,n){let s;be(e._path)===".info"?s=of(t.infoSyncTree_,e,n):s=of(t.serverSyncTree_,e,n),$1(t.eventQueue_,e._path,s)}function hy(t,e,n){let s;be(e._path)===".info"?s=fc(t.infoSyncTree_,e,n):s=fc(t.serverSyncTree_,e,n),$1(t.eventQueue_,e._path,s)}function yP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lP)}function Uc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),St(n,...e)}function vP(t,e,n,s){e&&Ci(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;s&&(l+=": "+s);const u=new Error(l);u.code=o,e(u)}})}function Y1(t,e,n){return lm(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function bm(t,e=t.transactionQueueTree_){if(e||$c(t,e),Si(e)){const n=K1(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&wP(t,ma(e),n)}else B1(e)&&Vc(e,n=>{bm(t,n)})}function wP(t,e,n){const s=n.map(m=>m.currentWriteId),o=Y1(t,e,s);let l=o;const u=o.hash();for(let m=0;m<n.length;m++){const p=n[m];K(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=Pt(e,p.path);l=l.updateChild(g,p.currentOutputSnapshotRaw)}const h=l.val(!0),d=e;t.server_.put(d.toString(),h,m=>{Uc(t,"transaction put response",{path:d.toString(),status:m});let p=[];if(m==="ok"){const g=[];for(let y=0;y<n.length;y++)n[y].status=2,p=p.concat(dr(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&g.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();$c(t,gm(t.transactionQueueTree_,e)),bm(t,t.transactionQueueTree_),In(t.eventQueue_,e,p);for(let y=0;y<g.length;y++)Ci(g[y])}else{if(m==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{zt("transaction at "+d.toString()+" failed: "+m);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=m}Wc(t,e)}},u)}function Wc(t,e){const n=q1(t,e),s=ma(n),o=K1(t,n);return bP(t,o,s),s}function bP(t,e,n){if(e.length===0)return;const s=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=Pt(n,d.path);let p=!1,g;if(K(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,g=d.abortReason,o=o.concat(dr(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=cP)p=!0,g="maxretry",o=o.concat(dr(t.serverSyncTree_,d.currentWriteId,!0));else{const y=Y1(t,d.path,u);d.currentInputSnapshot=y;const b=e[h].update(y.val());if(b!==void 0){xm("transaction failed: Data returned ",b,d.path);let w=xt(b);typeof b=="object"&&b!=null&&rs(b,".priority")||(w=w.updatePriority(y.getPriority()));const C=d.currentWriteId,T=vm(t),N=L1(w,y,T);d.currentOutputSnapshotRaw=w,d.currentOutputSnapshotResolved=N,d.currentWriteId=G1(t),u.splice(u.indexOf(C),1),o=o.concat(R1(t.serverSyncTree_,d.path,N,d.currentWriteId,d.applyLocally)),o=o.concat(dr(t.serverSyncTree_,C,!0))}else p=!0,g="nodata",o=o.concat(dr(t.serverSyncTree_,d.currentWriteId,!0))}In(t.eventQueue_,n,o),o=[],p&&(e[h].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(g==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(g),!1,null))))}$c(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)Ci(s[h]);bm(t,t.transactionQueueTree_)}function q1(t,e){let n,s=t.transactionQueueTree_;for(n=be(e);n!==null&&Si(s)===void 0;)s=gm(s,n),e=Ve(e),n=be(e);return s}function K1(t,e){const n=[];return Q1(t,e,n),n.sort((s,o)=>s.order-o.order),n}function Q1(t,e,n){const s=Si(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);Vc(e,o=>{Q1(t,o,n)})}function $c(t,e){const n=Si(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,F1(e,n.length>0?n:void 0)}Vc(e,s=>{$c(t,s)})}function X1(t,e){const n=ma(q1(t,e)),s=gm(t.transactionQueueTree_,e);return XT(s,o=>{gh(t,o)}),gh(t,s),z1(s,o=>{gh(t,o)}),n}function gh(t,e){const n=Si(e);if(n){const s=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(K(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(K(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(dr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?F1(e,void 0):n.length=l+1,In(t.eventQueue_,ma(e),o);for(let u=0;u<s.length;u++)Ci(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function NP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):zt(`Invalid query segment '${n}' in query '${t}'`)}return e}const fy=function(t,e){const n=CP(t),s=n.namespace;n.domain==="firebase.com"&&Jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ok();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xw(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new Le(n.pathString)}},CP=function(t){let e="",n="",s="",o="",l="",u=!0,h="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let p=t.indexOf("/");p===-1&&(p=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(p,g)),p<g&&(o=_P(t.substring(p,g)));const y=NP(t.substring(Math.min(t.length,g)));m=e.indexOf(":"),m>=0?(u=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const w=e.indexOf(".");s=e.substring(0,w).toLowerCase(),n=e.substring(w+1),l=s}"ns"in y&&(l=y.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:u,scheme:h,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}}class jP{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return Ce(this._path)?null:o1(this._path)}get ref(){return new is(this._repo,this._path)}get _queryIdentifier(){const e=Xx(this._queryParams),n=Yf(e);return n==="{}"?"default":n}get _queryObject(){return Xx(this._queryParams)}isEqual(e){if(e=Cr(e),!(e instanceof _m))return!1;const n=this._repo===e._repo,s=Xf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+vE(this._path)}}class is extends _m{constructor(e,n){super(e,n,new tm,!1)}get parent(){const e=l1(this._path);return e===null?null:new is(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qo{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Le(e),s=lf(this.ref,e);return new Qo(this._node.getChild(n),s,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Qo(o,lf(this.ref,s),tt)))}hasChild(e){const n=new Le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Co(t,e){return t=Cr(t),t._checkNotDeleted("ref"),e!==void 0?lf(t._root,e):t._root}function lf(t,e){return t=Cr(t),be(t._path)===null?sP("child","path",e):W1("child","path",e),new is(t._repo,dt(t._path,e))}function Vl(t,e){t=Cr(t),rP("set",t._path),nP("set",e,t._path);const n=new Dc;return pP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function kP(t){t=Cr(t);const e=new Z1(()=>{}),n=new Hc(e);return mP(t._repo,t,n).then(s=>new Qo(s,new is(t._repo,t._path),t._queryParams.getIndex()))}class Hc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new SP("value",this,new Qo(e.snapshotNode,new is(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jP(this,e,n):null}matches(e){return e instanceof Hc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function EP(t,e,n,s,o){let l;if(typeof s=="object"&&(l=void 0,o=s),typeof s=="function"&&(l=s),o&&o.onlyOnce){const d=n,m=(p,g)=>{hy(t._repo,t,h),d(p,g)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new Z1(n,l||void 0),h=new Hc(u);return xP(t._repo,t,h),()=>hy(t._repo,t,h)}function my(t,e,n,s){return EP(t,"value",e,n,s)}TT(is);DT(is);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="FIREBASE_DATABASE_EMULATOR_HOST",cf={};let PP=!1;function IP(t,e,n,s){t.repoInfo_=new Xw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function RP(t,e,n,s,o){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||Jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=fy(l,o),h=u.repoInfo,d;typeof process<"u"&&Ax&&(d=Ax[TP]),d?(l=`http://${d}?ns=${h.namespace}`,u=fy(l,o),h=u.repoInfo):u.repoInfo.secure;const m=new Yk(t.name,t.options,e);iP("Invalid Firebase Database URL",u),Ce(u.path)||Jn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=DP(h,t,m,new Gk(t.name,n));return new MP(p,t)}function AP(t,e){const n=cf[e];(!n||n[t.key]!==t)&&Jn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),yP(t),delete n[t.key]}function DP(t,e,n,s){let o=cf[e.name];o||(o={},cf[e.name]=o);let l=o[t.toURLString()];return l&&Jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new uP(t,PP,n,s),o[t.toURLString()]=l,l}class MP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new is(this._repo,Pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jn("Cannot call "+e+" on a deleted database.")}}function OP(t=Aw(),e){const n=Pw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=bw("database");s&&LP(n,...s)}return n}function LP(t,e,n,s={}){t=Cr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Jn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let l;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new zl(zl.OWNER);else if(s.mockUserToken){const u=typeof s.mockUserToken=="string"?s.mockUserToken:Nw(s.mockUserToken,t.app.options.projectId);l=new zl(u)}IP(o,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){Pk(Iw),Vo(new fi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return RP(s,o,l,n)},"PUBLIC").setMultipleInstances(!0)),Ds(Dx,Mx,t),Ds(Dx,Mx,"esm2017")}Xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FP();var BP="firebase",zP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(BP,zP,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebasestorage.googleapis.com",VP="storageBucket",UP=120*1e3,WP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends _i{constructor(e,n,s=0){super(xh(e),`Firebase Storage: ${n} (${xh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function xh(t){return"storage/"+t}function $P(){const t="An unknown error occurred, please check the error payload for server response.";return new Bn(Rn.UNKNOWN,t)}function HP(){return new Bn(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GP(){return new Bn(Rn.CANCELED,"User canceled the upload/download.")}function YP(t){return new Bn(Rn.INVALID_URL,"Invalid URL '"+t+"'.")}function qP(t){return new Bn(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function py(t){return new Bn(Rn.INVALID_ARGUMENT,t)}function eb(){return new Bn(Rn.APP_DELETED,"The Firebase app was deleted.")}function KP(t){return new Bn(Rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(s.path==="")return s;throw qP(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),d={bucket:1,path:3};function m(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${o}/o${y}`,"i"),w={bucket:1,path:3},S=n===J1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",T=new RegExp(`^https?://${S}/${o}/${C}`,"i"),j=[{regex:h,indices:d,postModify:l},{regex:b,indices:w,postModify:m},{regex:T,indices:{bucket:1,path:2},postModify:m}];for(let D=0;D<j.length;D++){const L=j[D],W=L.regex.exec(e);if(W){const z=W[L.indices.bucket];let F=W[L.indices.path];F||(F=""),s=new xn(z,F),L.postModify(s);break}}if(s==null)throw YP(e);return s}}class QP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e,n){let s=1,o=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function p(...C){m||(m=!0,e.apply(null,C))}function g(C){o=setTimeout(()=>{o=null,t(b,d())},C)}function y(){l&&clearTimeout(l)}function b(C,...T){if(m){y();return}if(C){y(),p.call(null,C,...T);return}if(d()||u){y(),p.call(null,C,...T);return}s<64&&(s*=2);let j;h===1?(h=2,j=0):j=(s+Math.random())*1e3,g(j)}let w=!1;function S(C){w||(w=!0,y(),!m&&(o!==null?(C||(h=2),clearTimeout(o),g(0)):C||(h=1)))}return g(0),l=setTimeout(()=>{u=!0,S(!0)},n),S}function ZP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){return t!==void 0}function gy(t,e,n,s){if(s<e)throw py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw py(`Invalid value for '${t}'. Expected ${n} or less.`)}function e4(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var mc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mc||(mc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,s,o,l,u,h,d,m,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Al(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===mc.NO_ERROR,d=l.getStatus();if(!h||t4(d,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===mc.ABORT;s(!1,new Al(!1,null,p));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Al(m,l))})},n=(s,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());JP(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=$P();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(o.canceled){const d=this.appDelete_?eb():GP();u(d)}else{const d=HP();u(d)}};this.canceled_?n(!1,new Al(!1,null,!0)):this.backoffId_=XP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Al{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function s4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function r4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function i4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function o4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a4(t,e,n,s,o,l,u=!0){const h=e4(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return i4(m,e),s4(m,n),r4(m,l),o4(m,s),new n4(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function c4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pc(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c4(this._location.path)}get storage(){return this._service}get parent(){const e=l4(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new pc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KP(e)}}function xy(t,e){const n=e==null?void 0:e[VP];return n==null?null:xn.makeFromBucketSpec(n,t)}function u4(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:Nw(o,t.app.options.projectId))}class d4{constructor(e,n,s,o,l){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=J1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UP,this._maxUploadRetryTime=WP,this._requests=new Set,o!=null?this._bucket=xn.makeFromBucketSpec(o,this._host):this._bucket=xy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=xy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pc(this,e)}_makeRequest(e,n,s,o,l=!0){if(this._deleted)return new QP(eb());{const u=a4(e,this._appId,s,o,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const yy="@firebase/storage",vy="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="storage";function h4(t=Aw(),e){t=Cr(t);const s=Pw(t,tb).getImmediate({identifier:e}),o=bw("storage");return o&&f4(s,...o),s}function f4(t,e,n,s={}){u4(t,e,n,s)}function m4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new d4(n,s,o,e,Iw)}function p4(){Vo(new fi(tb,m4,"PUBLIC").setMultipleInstances(!0)),Ds(yy,vy,""),Ds(yy,vy,"esm2017")}p4();const g4={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},nb=Rw(g4),So=OP(nb);h4(nb);const uf=[{id:"prod-1",name:"CBD Gummy Bears",description:"Our signature CBD gummy bears. 25mg broad-spectrum CBD per gummy. Delicious mixed fruit flavors  strawberry, orange, grape & lemon. Lab-tested, THC-free. 30 count jar.",price:34.99,category:"Gummies & Edibles",sizes:["30ct","60ct","90ct"],colors:["Mixed Fruit","Tropical","Berry Blast"],stock:150,featured:!0,images:["https://images.unsplash.com/photo-1625517236224-4dbb5b54e612?w=800&h=800&fit=crop&q=80"],createdAt:"2026-01-15T00:00:00Z"},{id:"prod-2",name:"Sour CBD Worms",description:"Tangy, sour, and packed with 30mg CBD each. These sour worms come in neon rainbow colors with a sugar-coated crunch. Perfect for on-the-go wellness. 20 count pouch.",price:29.99,category:"Gummies & Edibles",sizes:["20ct","40ct"],colors:["Rainbow","Watermelon","Blue Raspberry"],stock:200,featured:!0,images:["https://images.unsplash.com/photo-1597235635233-cfac8c1b1b97?w=800&h=800&fit=crop&q=80"],createdAt:"2026-01-15T00:00:00Z"},{id:"prod-3",name:"Honey Lavender CBD Drops",description:"Premium CBD tincture infused with organic honey and calming lavender. 1000mg full-spectrum CBD per bottle. Dropper included for precise dosing. Great for relaxation and sleep.",price:49.99,category:"Pens",sizes:["500mg","1000mg","2000mg"],colors:["Honey Lavender","Peppermint","Natural"],stock:80,featured:!0,images:["https://images.unsplash.com/photo-1611070042580-e707a0c6ff26?w=800&h=800&fit=crop&q=80"],createdAt:"2026-01-20T00:00:00Z"},{id:"prod-4",name:"Candy Coated Chocolates",description:"Bite-sized candy-coated chocolate drops infused with 10mg CBD each. Creamy milk chocolate center with a colorful candy shell. Resealable pouch, 25 pieces.",price:24.99,category:"Gummies & Edibles",sizes:["25ct","50ct"],colors:["Milk Chocolate","Dark Chocolate","White Chocolate"],stock:120,featured:!1,images:["https://images.unsplash.com/photo-1606312619070-d48b4c652a52?w=800&h=800&fit=crop&q=80"],createdAt:"2026-01-25T00:00:00Z"},{id:"prod-5",name:"Peach Ring Gummies",description:"Classic peach ring shapes infused with 20mg CBD per piece. Sweet, peachy perfection with a chewy texture. Vegan and gluten-free. 30 count jar.",price:32.99,category:"Gummies & Edibles",sizes:["30ct","60ct"],colors:["Peach","Mango","Strawberry"],stock:90,featured:!0,images:["https://images.unsplash.com/photo-1590080876796-80cd2b211c44?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-01T00:00:00Z"},{id:"prod-6",name:"CBD Lollipops",description:"Handcrafted artisan lollipops with 25mg CBD each. Made with organic cane sugar and natural flavors. Individually wrapped. Assorted fruit flavors. 10-pack.",price:19.99,category:"Gummies & Edibles",sizes:["10-pack","20-pack"],colors:["Cherry","Green Apple","Watermelon","Grape"],stock:250,featured:!1,images:["https://images.unsplash.com/photo-1581798459219-318e76aecc7b?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-01T00:00:00Z"},{id:"prod-7",name:"Mega Sour Belts Variety Box",description:"Limited edition variety box of our best-selling sour belts. Includes strawberry, blue raspberry, green apple, and watermelon. Infused with 15mg CBD each. 40 belts per box.",price:44.99,category:"Gummies & Edibles",sizes:["40ct Box","80ct Box"],colors:["Variety Pack","All Strawberry","All Blue Raspberry"],stock:45,featured:!0,images:["https://images.unsplash.com/photo-1626200419199-391ae4be7a41?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-05T00:00:00Z"},{id:"prod-8",name:"CBD Herbal Tea Sampler",description:"A curated collection of 6 herbal tea blends, each infused with 15mg CBD. Chamomile, peppermint, hibiscus, lemon ginger, turmeric chai, and berry rooibos. 18 sachets total.",price:27.99,category:"Merch",sizes:["18 Sachets","36 Sachets"],colors:["Classic Sampler","Calming Blends","Energy Blends"],stock:160,featured:!1,images:["https://images.unsplash.com/photo-1563911892437-1feda0179e1b?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-08T00:00:00Z"},{id:"prod-9",name:"Full Spectrum CBD Oil",description:"Ultra-premium full-spectrum CBD oil, 2000mg. Organic MCT coconut oil carrier. Third-party lab tested. Helps with anxiety, pain, and sleep. Natural hemp flavor with a hint of mint.",price:64.99,category:"Tinctures",sizes:["1000mg","2000mg","3000mg"],colors:["Natural","Mint","Citrus"],stock:70,featured:!0,images:["https://images.unsplash.com/photo-1616091238769-beafeec6d035?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-10T00:00:00Z"},{id:"prod-10",name:"CBD Relief Cream",description:"Fast-acting topical relief cream with 500mg CBD. Enriched with menthol, arnica, and essential oils. Perfect for sore muscles, joints, and recovery. 4oz jar.",price:39.99,category:"Topicals",sizes:["2oz","4oz","8oz"],colors:["Cooling Menthol","Warming Cinnamon","Unscented"],stock:95,featured:!1,images:["https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-12T00:00:00Z"},{id:"prod-11",name:"Delta-8 Disposable Vape",description:"Premium Delta-8 THC disposable vape pen. 1 gram capacity. Ceramic coil for smooth hits. Available in popular strain profiles. Lab tested for purity and potency.",price:29.99,category:"Vapes",sizes:["1g","2g"],colors:["Blue Dream","OG Kush","Gelato","Pineapple Express"],stock:180,featured:!0,images:["https://images.unsplash.com/photo-1560913210-81b26e020c1f?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-14T00:00:00Z"},{id:"prod-12",name:"CBD Pre-Roll Pack",description:"Hand-rolled premium CBD flower pre-rolls. 1 gram each, slow-burning rice paper. Rich terpene profile with earthy, floral notes. Lab-certified under 0.3% THC. 5-pack.",price:22.99,category:"Pre-Rolls",sizes:["3-pack","5-pack","10-pack"],colors:["Indica Blend","Sativa Blend","Hybrid Blend"],stock:110,featured:!0,images:["https://images.unsplash.com/photo-1586165368502-1bad9cc98341?w=800&h=800&fit=crop&q=80"],createdAt:"2026-02-15T00:00:00Z"}],df=[{id:"staff-1",name:"Alex Rivera",email:"alex@couchbuddies.com",phone:"555-0101",role:"onsite",pin:"1111",clockedIn:!1,clockType:null,clockHistory:[],wallet:{balance:250,transactions:[{id:"wt1",type:"payment",amount:250,note:"Weekly pay",from:"Owner Treasury",time:"2026-02-07T17:00:00Z"}]},location:null,avatar:"AR",createdAt:"2026-01-01T00:00:00Z"},{id:"staff-2",name:"Jordan Lee",email:"jordan@couchbuddies.com",phone:"555-0102",role:"delivery",pin:"2222",clockedIn:!1,clockType:null,clockHistory:[],wallet:{balance:180,transactions:[{id:"wt2",type:"payment",amount:180,note:"Weekly pay",from:"Owner Treasury",time:"2026-02-07T17:00:00Z"}]},location:null,avatar:"JL",createdAt:"2026-01-01T00:00:00Z"},{id:"staff-3",name:"Sam Chen",email:"sam@couchbuddies.com",phone:"555-0103",role:"delivery",pin:"3333",clockedIn:!1,clockType:null,clockHistory:[],wallet:{balance:320,transactions:[{id:"wt3",type:"payment",amount:320,note:"Weekly pay + tips",from:"Owner Treasury",time:"2026-02-07T17:00:00Z"}]},location:null,avatar:"SC",createdAt:"2026-01-05T00:00:00Z"},{id:"staff-4",name:"Maya Patel",email:"maya@couchbuddies.com",phone:"555-0104",role:"onsite",pin:"4444",clockedIn:!1,clockType:null,clockHistory:[],wallet:{balance:200,transactions:[{id:"wt4",type:"payment",amount:200,note:"Weekly pay",from:"Owner Treasury",time:"2026-02-07T17:00:00Z"}]},location:null,avatar:"MP",createdAt:"2026-01-10T00:00:00Z"}],en=()=>Math.random().toString(36).substr(2,9)+Date.now().toString(36),Ie=qS(ej((t,e)=>({_firebaseReady:!1,ownerProfile:{id:"owner-1",name:"Owner",email:"owner@couchbuddies.com",phone:"",businessName:"Couch Buddies",businessAddress:"",pin:"1234",avatar:"CB",createdAt:"2026-01-01T00:00:00Z"},updateOwnerProfile:n=>t(s=>{const o={...s.ownerProfile,...n};n.name&&(o.avatar=n.name.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)||"CB");const l=s.userRole==="owner"&&s.currentUser?{...s.currentUser,name:o.name,email:o.email,phone:o.phone}:s.currentUser;return{ownerProfile:o,currentUser:l}}),currentUser:null,userRole:null,loginAsCustomer:n=>t({currentUser:n,userRole:"customer"}),loginAsGuest:()=>t({currentUser:{id:"guest-"+en(),name:"Guest",email:"",isGuest:!0},userRole:"customer"}),loginAsOwner:n=>{const s=e().ownerProfile;return n===(s.pin||"1234")?(t({currentUser:{id:s.id||"owner-1",name:s.name||"Owner",email:s.email||"owner@couchbuddies.com",phone:s.phone||"",role:"owner"},userRole:"owner"}),!0):!1},loginAsStaff:(n,s)=>{const o=e().staff.find(l=>l.id===n);return o&&(s==="0000"||s===o.pin)?(t({currentUser:{...o},userRole:"staff"}),!0):!1},logout:()=>t({currentUser:null,userRole:null}),products:uf,addProduct:n=>t(s=>({products:[...s.products,{...n,id:en(),createdAt:new Date().toISOString()}]})),updateProduct:(n,s)=>t(o=>({products:o.products.map(l=>l.id===n?{...l,...s}:l)})),deleteProduct:n=>t(s=>({products:s.products.filter(o=>o.id!==n)})),cart:[],addToCart:(n,s=1,o="M",l="")=>t(u=>{var d;return u.cart.find(m=>m.productId===n.id&&m.size===o&&m.color===l)?{cart:u.cart.map(m=>m.productId===n.id&&m.size===o&&m.color===l?{...m,quantity:m.quantity+s}:m)}:{cart:[...u.cart,{id:en(),productId:n.id,name:n.name,price:n.price,image:((d=n.images)==null?void 0:d[0])||n.image,quantity:s,size:o,color:l}]}}),updateCartItem:(n,s)=>t(o=>({cart:s<=0?o.cart.filter(l=>l.id!==n):o.cart.map(l=>l.id===n?{...l,quantity:s}:l)})),removeFromCart:n=>t(s=>({cart:s.cart.filter(o=>o.id!==n)})),clearCart:()=>t({cart:[]}),orders:[],createOrder:n=>{const s={id:"ORD-"+en().toUpperCase(),...n,status:"pending",createdAt:new Date().toISOString(),timeline:[{status:"pending",time:new Date().toISOString(),note:"Order placed"}]};return t(o=>({orders:[...o.orders,s],cart:[]})),s},updateOrderStatus:(n,s,o="")=>t(l=>({orders:l.orders.map(u=>u.id===n?{...u,status:s,timeline:[...u.timeline,{status:s,time:new Date().toISOString(),note:o}]}:u)})),assignDriver:(n,s)=>t(o=>({orders:o.orders.map(l=>{var u;return l.id===n?{...l,driverId:s,status:"assigned",timeline:[...l.timeline,{status:"assigned",time:new Date().toISOString(),note:`Assigned to driver ${((u=o.staff.find(h=>h.id===s))==null?void 0:u.name)||s}`}]}:l})})),staff:df,addStaff:n=>t(s=>({staff:[...s.staff,{id:en(),clockedIn:!1,clockHistory:[],wallet:{balance:0,transactions:[]},location:null,createdAt:new Date().toISOString(),...n,avatar:n.name?n.name.split(" ").map(o=>o[0]).join("").toUpperCase():"??"}]})),updateStaff:(n,s)=>t(o=>({staff:o.staff.map(l=>l.id===n?{...l,...s}:l)})),deleteStaff:n=>t(s=>({staff:s.staff.filter(o=>o.id!==n)})),clockIn:(n,s,o)=>t(l=>({staff:l.staff.map(u=>u.id===n?{...u,clockedIn:!0,clockType:s,location:o,clockHistory:[...u.clockHistory,{type:"clock-in",staffType:s,time:new Date().toISOString(),location:o}]}:u)})),clockOut:n=>t(s=>({staff:s.staff.map(o=>o.id===n?{...o,clockedIn:!1,clockType:null,location:null,clockHistory:[...o.clockHistory,{type:"clock-out",time:new Date().toISOString()}]}:o)})),updateStaffLocation:(n,s)=>t(o=>({staff:o.staff.map(l=>l.id===n?{...l,location:s}:l)})),payStaff:(n,s,o="")=>t(l=>{var h;const u={id:en(),type:"payment",amount:s,note:o,from:"Owner Treasury",time:new Date().toISOString()};return{staff:l.staff.map(d=>d.id===n?{...d,wallet:{balance:d.wallet.balance+s,transactions:[...d.wallet.transactions,u]}}:d),treasury:{...l.treasury,balance:l.treasury.balance-s,transactions:[...l.treasury.transactions,{...u,type:"staff-payment",to:((h=l.staff.find(d=>d.id===n))==null?void 0:h.name)||n}]}}}),treasury:{balance:5e4,accounts:[{id:"acc-1",name:"Business Checking",type:"bank",last4:"4521",connected:!0},{id:"acc-2",name:"Business Debit",type:"debit",last4:"8832",connected:!0}],transactions:[{id:"t1",type:"deposit",amount:5e4,note:"Initial funding",time:"2026-01-01T00:00:00Z",from:"Bank Transfer"}]},addTreasuryAccount:n=>t(s=>({treasury:{...s.treasury,accounts:[...s.treasury.accounts,{...n,id:en(),connected:!0}]}})),removeTreasuryAccount:n=>t(s=>({treasury:{...s.treasury,accounts:s.treasury.accounts.filter(o=>o.id!==n)}})),addTreasuryFunds:(n,s)=>t(o=>({treasury:{...o.treasury,balance:o.treasury.balance+n,transactions:[...o.treasury.transactions,{id:en(),type:"deposit",amount:n,note:s,time:new Date().toISOString(),from:"Manual Deposit"}]}})),messages:[{id:"m1",senderId:"staff-1",senderName:"Alex Rivera",text:"Good morning team! Store is open.",time:"2026-02-12T09:00:00Z",channel:"general"},{id:"m2",senderId:"staff-2",senderName:"Jordan Lee",text:"On my way for morning deliveries!",time:"2026-02-12T09:05:00Z",channel:"general"}],sendMessage:n=>t(s=>({messages:[...s.messages,{id:en(),...n,time:new Date().toISOString()}]})),inStoreSales:[],createInStoreSale:n=>{const s={id:"POS-"+en().toUpperCase(),...n,status:"pending",createdAt:new Date().toISOString()};return t(o=>({inStoreSales:[...o.inStoreSales,s]})),s},completeInStoreSale:n=>t(s=>{var o,l;return{inStoreSales:s.inStoreSales.map(u=>u.id===n?{...u,status:"completed"}:u),treasury:{...s.treasury,balance:s.treasury.balance+(((o=s.inStoreSales.find(u=>u.id===n))==null?void 0:o.total)||0),transactions:[...s.treasury.transactions,{id:en(),type:"sale",amount:((l=s.inStoreSales.find(u=>u.id===n))==null?void 0:l.total)||0,note:`In-store sale ${n}`,time:new Date().toISOString(),from:"In-Store POS"}]}}}),customers:[],registerCustomer:n=>t(s=>({customers:[...s.customers,{id:en(),...n,points:0,createdAt:new Date().toISOString()}]})),resetStore:()=>{const n={products:uf,staff:df,orders:[],messages:[],inStoreSales:[],customers:[],ownerProfile:{id:"owner-1",name:"Owner",email:"owner@couchbuddies.com",phone:"",businessName:"Couch Buddies",businessAddress:"",pin:"1234",avatar:"CB",createdAt:"2026-01-01T00:00:00Z"},treasury:{balance:5e4,accounts:[{id:"acc-1",name:"Business Checking",type:"bank",last4:"4521",connected:!0},{id:"acc-2",name:"Business Debit",type:"debit",last4:"8832",connected:!0}],transactions:[{id:"t1",type:"deposit",amount:5e4,note:"Initial funding",time:"2026-01-01T00:00:00Z",from:"Bank Transfer"}]}};Vl(Co(So,"store"),JSON.parse(JSON.stringify(n))),t({...n,cart:[],currentUser:null,userRole:null})}}),{name:"couch-buddies-store",version:2,partialize:t=>({currentUser:t.currentUser,userRole:t.userRole,cart:t.cart}),migrate:(t,e)=>{if(e<2&&t)try{const n=["products","staff","orders","treasury","messages","inStoreSales","customers"],s={};let o=!1;for(const l of n)t[l]!==void 0&&(s[l]=t[l],o=!0);o&&localStorage.setItem("couch-buddies-v1-backup",JSON.stringify(s))}catch(n){console.warn("Failed to backup v1 state:",n)}return{currentUser:(t==null?void 0:t.currentUser)??null,userRole:(t==null?void 0:t.userRole)??null,cart:(t==null?void 0:t.cart)??[]}}}));var sb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wy=Me.createContext&&Me.createContext(sb),x4=["attr","size","title"];function y4(t,e){if(t==null)return{};var n=v4(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function v4(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gc.apply(this,arguments)}function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?by(Object(n),!0).forEach(function(s){w4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function w4(t,e,n){return e=b4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b4(t){var e=_4(t,"string");return typeof e=="symbol"?e:e+""}function _4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rb(t){return t&&t.map((e,n)=>Me.createElement(e.tag,xc({key:n},e.attr),rb(e.child)))}function de(t){return e=>Me.createElement(N4,gc({attr:xc({},t.attr)},e),rb(t.child))}function N4(t){var e=n=>{var{attr:s,size:o,title:l}=t,u=y4(t,x4),h=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Me.createElement("svg",gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:d,style:xc(xc({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Me.createElement("title",null,l),t.children)};return wy!==void 0?Me.createElement(wy.Consumer,null,n=>e(n)):e(sb)}function C4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function hf(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"7",x2:"7",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 17 7 17 7 7"},child:[]}]})(t)}function Gc(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function ar(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function ib(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(t)}function ob(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function S4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function j4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function Ls(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function k4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Qn(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Ul(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function jt(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function E4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Xo(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function T4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function P4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function I4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Yc(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function yh(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function _y(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Ny(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function ab(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function lb(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Zo(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function cb(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Jo(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function vn(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Nm(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function ub(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Cm(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function R4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(t)}function vr(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function xi(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function Vs(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function qc(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function Kc(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function A4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function D4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function yc(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function mr(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function ea(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function M4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(t)}function Cy(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function ta(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function O4(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function nn(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function An(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Sm(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function es(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Yt(){const{cart:t}=Ie(),[e,n]=E.useState(!1),s=t.reduce((l,u)=>l+u.quantity,0),o=[{label:"Shop All",to:"/shop"},{label:"Gummies",to:"/shop?category=Gummies+%26+Edibles"},{label:"Tinctures",to:"/shop?category=Tinctures"},{label:"Vapes",to:"/shop?category=Vapes"},{label:"Pre-Rolls",to:"/shop?category=Pre-Rolls"},{label:"Topicals",to:"/shop?category=Topicals"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-brand-500 text-black text-center py-2 text-xs sm:text-sm font-semibold tracking-wide",children:"Free Shipping on Orders $75+ | Lab-Tested & Trusted"}),a.jsxs("nav",{className:"sticky top-0 z-50 bg-black/95 backdrop-blur-md border-b border-white/5",children:[a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 h-16",children:[a.jsxs(he,{to:"/",className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-brand-500 flex items-center justify-center text-black font-black text-sm",children:"CB"}),a.jsx("span",{className:"text-lg font-bold tracking-tight hidden sm:block",children:"Couch Buddies"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[o.map(l=>a.jsx(he,{to:l.to,className:"px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:l.label},l.label)),a.jsx(he,{to:"/shop?category=Chocolates",className:"px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:"Chocolates"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(he,{to:"/auth",className:"p-2 text-gray-400 hover:text-white transition-colors hidden sm:block",children:a.jsx(An,{size:20})}),a.jsxs(he,{to:"/cart",className:"relative p-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx(ea,{size:20}),s>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-brand-500 text-black text-[10px] font-bold rounded-full flex items-center justify-center",children:s})]}),a.jsx("button",{onClick:()=>n(!e),className:"lg:hidden p-2 text-gray-400 hover:text-white",children:e?a.jsx(es,{size:20}):a.jsx(Nm,{size:20})})]})]}),e&&a.jsx("div",{className:"lg:hidden bg-black/95 border-t border-white/5 pb-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-1 pt-3",children:[o.map(l=>a.jsx(he,{to:l.to,onClick:()=>n(!1),className:"block px-4 py-3 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:l.label},l.label)),a.jsx(he,{to:"/shop?category=Chocolates",onClick:()=>n(!1),className:"block px-4 py-3 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:"Chocolates"}),a.jsxs("div",{className:"border-t border-white/10 pt-3 mt-3 space-y-1",children:[a.jsx(he,{to:"/auth",onClick:()=>n(!1),className:"block px-4 py-3 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:"Account"}),a.jsx(he,{to:"/owner/login",onClick:()=>n(!1),className:"block px-4 py-3 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:"Owner Portal"}),a.jsx(he,{to:"/staff/login",onClick:()=>n(!1),className:"block px-4 py-3 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:"Staff Portal"})]})]})})]})]})}function Dn(){return a.jsxs("footer",{className:"bg-black border-t border-white/5",children:[a.jsx("div",{className:"overflow-hidden py-4 border-b border-white/5",children:a.jsx("div",{className:"flex animate-marquee whitespace-nowrap",children:[...Array(6)].map((t,e)=>a.jsx("span",{className:"mx-8 text-sm font-semibold text-brand-400 tracking-wider uppercase",children:"Sweet Treats & Real Wellness  Lab-Tested CBD  Fast Delivery "},e))})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-8",children:[a.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-brand-500 flex items-center justify-center text-black font-black text-sm",children:"CB"}),a.jsx("span",{className:"text-lg font-bold",children:"Couch Buddies"})]}),a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mb-4",children:"Sweet treats & real wellness. Premium CBD edibles, tinctures, and more  lab-tested and shipped to your door."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold uppercase tracking-widest text-gray-300 mb-4",children:"Categories"}),a.jsxs("ul",{className:"space-y-2.5",children:[a.jsx("li",{children:a.jsx(he,{to:"/shop",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"All Products"})}),a.jsx("li",{children:a.jsx(he,{to:"/shop?category=Gummies+%26+Edibles",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Gummies & Edibles"})}),a.jsx("li",{children:a.jsx(he,{to:"/shop?category=Tinctures",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Tinctures"})}),a.jsx("li",{children:a.jsx(he,{to:"/shop?category=Vapes",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Vapes"})}),a.jsx("li",{children:a.jsx(he,{to:"/shop?category=Pre-Rolls",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Pre-Rolls"})}),a.jsx("li",{children:a.jsx(he,{to:"/shop?category=Chocolates",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Chocolates"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold uppercase tracking-widest text-gray-300 mb-4",children:"Useful Links"}),a.jsxs("ul",{className:"space-y-2.5",children:[a.jsx("li",{children:a.jsx(he,{to:"/shop",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Shop"})}),a.jsx("li",{children:a.jsx(he,{to:"/orders",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Track Order"})}),a.jsx("li",{children:a.jsx(he,{to:"/auth",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"My Account"})}),a.jsx("li",{children:a.jsx(he,{to:"/cart",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Cart"})}),a.jsx("li",{children:a.jsx(he,{to:"/owner/login",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Owner Portal"})}),a.jsx("li",{children:a.jsx(he,{to:"/staff/login",className:"text-sm text-gray-400 hover:text-brand-400 transition-colors",children:"Staff Portal"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold uppercase tracking-widest text-gray-300 mb-4",children:"Get In Touch"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(Jo,{className:"text-brand-400 mt-0.5 flex-shrink-0",size:14}),a.jsx("span",{className:"text-sm text-gray-400",children:"orders@couchbuddies.com"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(xi,{className:"text-brand-400 mt-0.5 flex-shrink-0",size:14}),a.jsx("span",{className:"text-sm text-gray-400",children:"(555) 420-BUDS"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(vn,{className:"text-brand-400 mt-0.5 flex-shrink-0",size:14}),a.jsx("span",{className:"text-sm text-gray-400",children:"Online Only  Ships Nationwide"})]})]})]})]})}),a.jsx("div",{className:"border-t border-white/5 py-5",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," Couch Buddies. All rights reserved."]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("span",{className:"text-xs text-gray-500 hover:text-gray-400 cursor-pointer transition-colors",children:"Privacy Policy"}),a.jsx("span",{className:"text-xs text-gray-500 hover:text-gray-400 cursor-pointer transition-colors",children:"Terms of Service"}),a.jsx("span",{className:"text-xs text-gray-500 hover:text-gray-400 cursor-pointer transition-colors",children:"Shipping Policy"})]})]})})]})}const jm=E.createContext({});function km(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const db=typeof window<"u",hb=db?E.useLayoutEffect:E.useEffect,Qc=E.createContext(null);function Em(t,e){t.indexOf(e)===-1&&t.push(e)}function vc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mn=(t,e,n)=>n>e?e:n<t?t:n;let Tm=()=>{};const ts={},fb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mb(t){return typeof t=="object"&&t!==null}const pb=t=>/^0[^.\s]+$/u.test(t);function gb(t){let e;return()=>(e===void 0&&(e=t()),e)}const sn=t=>t,L4=(t,e)=>n=>e(t(n)),pa=(...t)=>t.reduce(L4),na=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Pm{constructor(){this.subscriptions=[]}add(e){return Em(this.subscriptions,e),()=>vc(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wn=t=>t*1e3,tn=t=>t/1e3;function xb(t,e){return e?t*(1e3/e):0}const yb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F4=1e-7,B4=12;function z4(t,e,n,s,o){let l,u,h=0;do u=e+(n-e)/2,l=yb(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>F4&&++h<B4);return u}function ga(t,e,n,s){if(t===e&&n===s)return sn;const o=l=>z4(l,0,1,t,n);return l=>l===0||l===1?l:yb(o(l),e,s)}const vb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wb=t=>e=>1-t(1-e),bb=ga(.33,1.53,.69,.99),Im=wb(bb),_b=vb(Im),Nb=t=>(t*=2)<1?.5*Im(t):.5*(2-Math.pow(2,-10*(t-1))),Rm=t=>1-Math.sin(Math.acos(t)),Cb=wb(Rm),Sb=vb(Rm),V4=ga(.42,0,1,1),U4=ga(0,0,.58,1),jb=ga(.42,0,.58,1),W4=t=>Array.isArray(t)&&typeof t[0]!="number",kb=t=>Array.isArray(t)&&typeof t[0]=="number",$4={linear:sn,easeIn:V4,easeInOut:jb,easeOut:U4,circIn:Rm,circInOut:Sb,circOut:Cb,backIn:Im,backInOut:_b,backOut:bb,anticipate:Nb},H4=t=>typeof t=="string",Sy=t=>{if(kb(t)){Tm(t.length===4);const[e,n,s,o]=t;return ga(e,n,s,o)}else if(H4(t))return $4[t];return t},Dl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G4(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(p){u.has(p)&&(m.schedule(p),t()),p(h)}const m={schedule:(p,g=!1,y=!1)=>{const w=y&&o?n:s;return g&&u.add(p),w.has(p)||w.add(p),p},cancel:p=>{s.delete(p),u.delete(p)},process:p=>{if(h=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(d),n.clear(),o=!1,l&&(l=!1,m.process(p))}};return m}const Y4=40;function Eb(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Dl.reduce((j,D)=>(j[D]=G4(l),j),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:p,update:g,preRender:y,render:b,postRender:w}=u,S=()=>{const j=ts.useManualTiming?o.timestamp:performance.now();n=!1,ts.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(j-o.timestamp,Y4),1)),o.timestamp=j,o.isProcessing=!0,h.process(o),d.process(o),m.process(o),p.process(o),g.process(o),y.process(o),b.process(o),w.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(S))},C=()=>{n=!0,s=!0,o.isProcessing||t(S)};return{schedule:Dl.reduce((j,D)=>{const L=u[D];return j[D]=(W,z=!1,F=!1)=>(n||C(),L.schedule(W,z,F)),j},{}),cancel:j=>{for(let D=0;D<Dl.length;D++)u[Dl[D]].cancel(j)},state:o,steps:u}}const{schedule:Ue,cancel:Us,state:wt,steps:vh}=Eb(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let Wl;function q4(){Wl=void 0}const It={now:()=>(Wl===void 0&&It.set(wt.isProcessing||ts.useManualTiming?wt.timestamp:performance.now()),Wl),set:t=>{Wl=t,queueMicrotask(q4)}},Tb=t=>e=>typeof e=="string"&&e.startsWith(t),Pb=Tb("--"),K4=Tb("var(--"),Am=t=>K4(t)?Q4.test(t.split("/*")[0].trim()):!1,Q4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jy(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ji={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sa={...ji,transform:t=>Mn(0,1,t)},Ml={...ji,default:1},Ro=t=>Math.round(t*1e5)/1e5,Dm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X4(t){return t==null}const Z4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mm=(t,e)=>n=>!!(typeof n=="string"&&Z4.test(n)&&n.startsWith(t)||e&&!X4(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ib=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,h]=s.match(Dm);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},J4=t=>Mn(0,255,t),wh={...ji,transform:t=>Math.round(J4(t))},hr={test:Mm("rgb","red"),parse:Ib("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+wh.transform(t)+", "+wh.transform(e)+", "+wh.transform(n)+", "+Ro(sa.transform(s))+")"};function eI(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ff={test:Mm("#"),parse:eI,transform:hr.transform},xa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),js=xa("deg"),Pn=xa("%"),ne=xa("px"),tI=xa("vh"),nI=xa("vw"),ky={...Pn,parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)},ni={test:Mm("hsl","hue"),parse:Ib("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Pn.transform(Ro(e))+", "+Pn.transform(Ro(n))+", "+Ro(sa.transform(s))+")"},it={test:t=>hr.test(t)||ff.test(t)||ni.test(t),parse:t=>hr.test(t)?hr.parse(t):ni.test(t)?ni.parse(t):ff.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hr.transform(t):ni.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},sI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dm))==null?void 0:e.length)||0)+(((n=t.match(sI))==null?void 0:n.length)||0)>0}const Rb="number",Ab="color",iI="var",oI="var(",Ey="${}",aI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ra(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(aI,d=>(it.test(d)?(s.color.push(l),o.push(Ab),n.push(it.parse(d))):d.startsWith(oI)?(s.var.push(l),o.push(iI),n.push(d)):(s.number.push(l),o.push(Rb),n.push(parseFloat(d))),++l,Ey)).split(Ey);return{values:n,split:h,indexes:s,types:o}}function Db(t){return ra(t).values}function Mb(t){const{split:e,types:n}=ra(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const h=n[u];h===Rb?l+=Ro(o[u]):h===Ab?l+=it.transform(o[u]):l+=o[u]}return l}}const lI=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function cI(t){const e=Db(t);return Mb(t)(e.map(lI))}const bn={test:rI,parse:Db,createTransformer:Mb,getAnimatableNone:cI};function bh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=bh(d,h,t+1/3),l=bh(d,h,t),u=bh(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function wc(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,_h=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},dI=[ff,hr,ni],hI=t=>dI.find(e=>e.test(t));function Ty(t){const e=hI(t);if(!e)return!1;let n=e.parse(t);return e===ni&&(n=uI(n)),n}const Py=(t,e)=>{const n=Ty(t),s=Ty(e);if(!n||!s)return wc(t,e);const o={...n};return l=>(o.red=_h(n.red,s.red,l),o.green=_h(n.green,s.green,l),o.blue=_h(n.blue,s.blue,l),o.alpha=Qe(n.alpha,s.alpha,l),hr.transform(o))},mf=new Set(["none","hidden"]);function fI(t,e){return mf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mI(t,e){return n=>Qe(t,e,n)}function Om(t){return typeof t=="number"?mI:typeof t=="string"?Am(t)?wc:it.test(t)?Py:xI:Array.isArray(t)?Ob:typeof t=="object"?it.test(t)?Py:pI:wc}function Ob(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>Om(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function pI(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Om(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function gI(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],h=t.values[u]??0;n[o]=h,s[l]++}return n}const xI=(t,e)=>{const n=bn.createTransformer(e),s=ra(t),o=ra(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?mf.has(t)&&!o.values.length||mf.has(e)&&!s.values.length?fI(t,e):pa(Ob(gI(s,o),o.values),n):wc(t,e)};function Lb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Om(t)(t,e)}const yI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ue.update(e,n),stop:()=>Us(e),now:()=>wt.isProcessing?wt.timestamp:It.now()}},Fb=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},bc=2e4;function Lm(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<bc;)e+=n,s=t.next(e);return e>=bc?1/0:e}function vI(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Lm(s),bc);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:tn(o)}}const wI=5;function Bb(t,e,n){const s=Math.max(e-wI,0);return xb(n-t(s),e-s)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nh=.001;function bI({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:s=et.mass}){let o,l,u=1-e;u=Mn(et.minDamping,et.maxDamping,u),t=Mn(et.minDuration,et.maxDuration,tn(t)),u<1?(o=m=>{const p=m*u,g=p*t,y=p-n,b=pf(m,u),w=Math.exp(-g);return Nh-y/b*w},l=m=>{const g=m*u*t,y=g*n+n,b=Math.pow(u,2)*Math.pow(m,2)*t,w=Math.exp(-g),S=pf(Math.pow(m,2),u);return(-o(m)+Nh>0?-1:1)*((y-b)*w)/S}):(o=m=>{const p=Math.exp(-m*t),g=(m-n)*t+1;return-Nh+p*g},l=m=>{const p=Math.exp(-m*t),g=(n-m)*(t*t);return p*g});const h=5/t,d=NI(o,l,h);if(t=wn(t),isNaN(d))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const _I=12;function NI(t,e,n){let s=n;for(let o=1;o<_I;o++)s=s-t(s)/e(s);return s}function pf(t,e){return t*Math.sqrt(1-e*e)}const CI=["duration","bounce"],SI=["stiffness","damping","mass"];function Iy(t,e){return e.some(n=>t[n]!==void 0)}function jI(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!Iy(t,SI)&&Iy(t,CI))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Mn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:et.mass,stiffness:o,damping:l}}else{const n=bI(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function _c(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:p,duration:g,velocity:y,isResolvedFromDuration:b}=jI({...n,velocity:-tn(n.velocity||0)}),w=y||0,S=m/(2*Math.sqrt(d*p)),C=u-l,T=tn(Math.sqrt(d/p)),N=Math.abs(C)<5;s||(s=N?et.restSpeed.granular:et.restSpeed.default),o||(o=N?et.restDelta.granular:et.restDelta.default);let j;if(S<1){const L=pf(T,S);j=W=>{const z=Math.exp(-S*T*W);return u-z*((w+S*T*C)/L*Math.sin(L*W)+C*Math.cos(L*W))}}else if(S===1)j=L=>u-Math.exp(-T*L)*(C+(w+T*C)*L);else{const L=T*Math.sqrt(S*S-1);j=W=>{const z=Math.exp(-S*T*W),F=Math.min(L*W,300);return u-z*((w+S*T*C)*Math.sinh(F)+L*C*Math.cosh(F))/L}}const D={calculatedDuration:b&&g||null,next:L=>{const W=j(L);if(b)h.done=L>=g;else{let z=L===0?w:0;S<1&&(z=L===0?wn(w):Bb(j,L,W));const F=Math.abs(z)<=s,X=Math.abs(u-W)<=o;h.done=F&&X}return h.value=h.done?u:W,h},toString:()=>{const L=Math.min(Lm(D),bc),W=Fb(z=>D.next(L*z).value,L,30);return L+"ms "+W},toTransition:()=>{}};return D}_c.applyToOptions=t=>{const e=vI(t,100,_c);return t.ease=e.ease,t.duration=wn(e.duration),t.type="keyframes",t};function gf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},b=F=>h!==void 0&&F<h||d!==void 0&&F>d,w=F=>h===void 0?d:d===void 0||Math.abs(h-F)<Math.abs(d-F)?h:d;let S=n*e;const C=g+S,T=u===void 0?C:u(C);T!==C&&(S=T-g);const N=F=>-S*Math.exp(-F/s),j=F=>T+N(F),D=F=>{const X=N(F),ie=j(F);y.done=Math.abs(X)<=m,y.value=y.done?T:ie};let L,W;const z=F=>{b(y.value)&&(L=F,W=_c({keyframes:[y.value,w(y.value)],velocity:Bb(j,F,y.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return z(0),{calculatedDuration:null,next:F=>{let X=!1;return!W&&L===void 0&&(X=!0,D(F),z(F)),L!==void 0&&F>=L?W.next(F-L):(!X&&D(F),y)}}}function kI(t,e,n){const s=[],o=n||ts.mix||Lb,l=t.length-1;for(let u=0;u<l;u++){let h=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||sn:e;h=pa(d,h)}s.push(h)}return s}function EI(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Tm(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=kI(e,s,o),d=h.length,m=p=>{if(u&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=na(t[g],t[g+1],p);return h[g](y)};return n?p=>m(Mn(t[0],t[l-1],p)):m}function TI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=na(0,e,s);t.push(Qe(n,1,o))}}function PI(t){const e=[0];return TI(e,t.length-1),e}function II(t,e){return t.map(n=>n*e)}function RI(t,e){return t.map(()=>e||jb).splice(0,t.length-1)}function Ao({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=W4(s)?s.map(Sy):Sy(s),l={done:!1,value:e[0]},u=II(n&&n.length===e.length?n:PI(e),t),h=EI(u,e,{ease:Array.isArray(o)?o:RI(e,o)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const AI=t=>t!==null;function Fm(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(AI),h=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const DI={decay:gf,inertia:gf,tween:Ao,keyframes:Ao,spring:_c};function zb(t){typeof t.type=="string"&&(t.type=DI[t.type])}class Bm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MI=t=>t/100;class zm extends Bm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zb(e);const{type:n=Ao,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Ao;d!==Ao&&typeof h[0]!="number"&&(this.mixKeyframes=pa(MI,Lb(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Lm(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:b,type:w,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let j=this.currentTime,D=s;if(g){const F=Math.min(this.currentTime,o)/h;let X=Math.floor(F),ie=F%1;!ie&&F>=1&&(ie=1),ie===1&&X--,X=Math.min(X,g+1),!!(X%2)&&(y==="reverse"?(ie=1-ie,b&&(ie-=b/h)):y==="mirror"&&(D=u)),j=Mn(0,1,ie)*h}const L=N?{done:!1,value:p[0]}:D.next(j);l&&(L.value=l(L.value));let{done:W}=L;!N&&d!==null&&(W=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return z&&w!==gf&&(L.value=Fm(p,this.options,C,this.speed)),S&&S(L.value),z&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(this.currentTime)}set time(e){var n;e=wn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(It.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=yI,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function OI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fr=t=>t*180/Math.PI,xf=t=>{const e=fr(Math.atan2(t[1],t[0]));return yf(e)},LI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xf,rotateZ:xf,skewX:t=>fr(Math.atan(t[1])),skewY:t=>fr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yf=t=>(t=t%360,t<0&&(t+=360),t),Ry=xf,Ay=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Dy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ay,scaleY:Dy,scale:t=>(Ay(t)+Dy(t))/2,rotateX:t=>yf(fr(Math.atan2(t[6],t[5]))),rotateY:t=>yf(fr(Math.atan2(-t[2],t[0]))),rotateZ:Ry,rotate:Ry,skewX:t=>fr(Math.atan(t[4])),skewY:t=>fr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vf(t){return t.includes("scale")?1:0}function wf(t,e){if(!t||t==="none")return vf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=FI,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=LI,o=h}if(!o)return vf(e);const l=s[e],u=o[1].split(",").map(zI);return typeof l=="function"?l(u):u[l]}const BI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wf(n,e)};function zI(t){return parseFloat(t.trim())}const ki=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ei=new Set(ki),My=t=>t===ji||t===ne,VI=new Set(["x","y","z"]),UI=ki.filter(t=>!VI.has(t));function WI(t){const e=[];return UI.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ps={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wf(e,"x"),y:(t,{transform:e})=>wf(e,"y")};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const pr=new Set;let bf=!1,_f=!1,Nf=!1;function Vb(){if(_f){const t=Array.from(pr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=WI(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{var h;(h=s.getValue(l))==null||h.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_f=!1,bf=!1,pr.forEach(t=>t.complete(Nf)),pr.clear()}function Ub(){pr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_f=!0)})}function $I(){Nf=!0,Ub(),Vb(),Nf=!1}class Vm{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(pr.add(this),bf||(bf=!0,Ue.read(Ub),Ue.resolveKeyframes(Vb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}OI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),pr.delete(this)}cancel(){this.state==="scheduled"&&(pr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HI=t=>t.startsWith("--");function GI(t,e,n){HI(e)?t.style.setProperty(e,n):t.style[e]=n}const YI={};function Wb(t,e){const n=gb(t);return()=>YI[e]??n()}const qI=Wb(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),$b=Wb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Oy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function Hb(t,e){if(t)return typeof t=="function"?$b()?Fb(t,e):"ease-out":kb(t)?jo(t):Array.isArray(t)?t.map(n=>Hb(n,e)||Oy.easeOut):Oy[t]}function KI(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const p={[e]:n};d&&(p.offset=d);const g=Hb(h,o);Array.isArray(g)&&(p.easing=g);const y={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),t.animate(p,y)}function Gb(t){return typeof t=="function"&&"applyToOptions"in t}function QI({type:t,...e}){return Gb(t)&&$b()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yb extends Bm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Tm(typeof e.type!="string");const m=QI(e);this.animation=KI(n,s,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Fm(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(p):GI(n,s,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,o;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((o=(s=this.animation).commitStyles)==null||o.call(s))}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=wn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qI()?(this.animation.timeline=e,sn):n(this)}}const qb={anticipate:Nb,backInOut:_b,circInOut:Sb};function XI(t){return t in qb}function ZI(t){typeof t.ease=="string"&&XI(t.ease)&&(t.ease=qb[t.ease])}const Ch=10;class JI extends Yb{constructor(e){ZI(e),zb(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new zm({...u,autoplay:!1}),d=Math.max(Ch,It.now()-this.startTime),m=Mn(0,Ch,d-Ch);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const Ly=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bn.test(t)||t==="0")&&!t.startsWith("url("));function eR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tR(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Ly(o,e),h=Ly(l,e);return!u||!h?!1:eR(t)||(n==="spring"||Gb(n))&&s}function Cf(t){t.duration=0,t.type="keyframes"}const nR=new Set(["opacity","clipPath","filter","transform"]),sR=gb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rR(t){var p;const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return sR()&&n&&nR.has(n)&&(n!=="transform"||!m)&&!d&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const iR=40;class oR extends Bm{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:p,...g}){var w;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=It.now();const y={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:p,...g},b=(p==null?void 0:p.KeyframeResolver)||Vm;this.keyframeResolver=new b(h,(S,C,T)=>this.onKeyframesResolved(S,C,y,!T),d,m,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,s,o){var C,T;this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:p}=s;this.resolvedAt=It.now(),tR(e,l,u,h)||((ts.instantAnimations||!d)&&(p==null||p(Fm(e,s,n))),e[0]=e[e.length-1],Cf(s),s.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>iR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!m&&rR(y),w=(T=(C=y.motionValue)==null?void 0:C.owner)==null?void 0:T.current,S=b?new JI({...y,element:w}):new zm(y);S.finished.then(()=>{this.notifyFinished()}).catch(sn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$I()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Kb(t,e,n,s=0,o=1){const l=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:h-l*s}const aR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lR(t){const e=aR.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function Qb(t,e,n=1){const[s,o]=lR(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return fb(u)?parseFloat(u):u}return Am(o)?Qb(o,e,n+1):o}const cR={type:"spring",stiffness:500,damping:25,restSpeed:10},uR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dR={type:"keyframes",duration:.8},hR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fR=(t,{keyframes:e})=>e.length>2?dR:Ei.has(t)?t.startsWith("scale")?uR(e[1]):cR:hR,mR=t=>t!==null;function pR(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(mR),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function Xb(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function Um(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?Xb(n,t):n}function gR({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...p}){return!!Object.keys(p).length}const Wm=(t,e,n,s={},o,l)=>u=>{const h=Um(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-wn(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:y=>{e.set(y),h.onUpdate&&h.onUpdate(y)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};gR(h)||Object.assign(p,fR(t,p)),p.duration&&(p.duration=wn(p.duration)),p.repeatDelay&&(p.repeatDelay=wn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Cf(p),p.delay===0&&(g=!0)),(ts.instantAnimations||ts.skipAnimations||o!=null&&o.shouldSkipAnimations)&&(g=!0,Cf(p),p.delay=0),p.allowFlatten=!h.type&&!h.ease,g&&!l&&e.get()!==void 0){const y=pR(p.keyframes,h);if(y!==void 0){Ue.update(()=>{p.onUpdate(y),p.onComplete()});return}}return h.isSync?new zm(p):new oR(p)};function Fy(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function $m(t,e,n,s){if(typeof e=="function"){const[o,l]=Fy(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Fy(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ui(t,e,n){const s=t.getProps();return $m(s,e,n!==void 0?n:s.custom,t)}const Zb=new Set(["width","height","top","left","right","bottom",...ki]),By=30,xR=t=>!isNaN(parseFloat(t));class yR{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=It.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=It.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pm);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>By)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,By);return xb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yi(t,e){return new yR(t,e)}const Sf=t=>Array.isArray(t);function vR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yi(n))}function wR(t){return Sf(t)?t[t.length-1]||0:t}function bR(t,e){const n=ui(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const h=wR(l[u]);vR(t,u,h)}}const kt=t=>!!(t&&t.getVelocity);function _R(t){return!!(kt(t)&&t.add)}function jf(t,e){const n=t.getValue("willChange");if(_R(n))return n.add(e);if(!n&&ts.WillChange){const s=new ts.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Hm(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const NR="framerAppearId",Jb="data-"+Hm(NR);function e_(t){return t.props[Jb]}function CR({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function t_(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l,transitionEnd:u,...h}=e;const d=t.getDefaultTransition();l=l?Xb(l,d):d;const m=l==null?void 0:l.reduceMotion;s&&(l=s);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in h){const b=t.getValue(y,t.latestValues[y]??null),w=h[y];if(w===void 0||g&&CR(g,y))continue;const S={delay:n,...Um(l||{},y)},C=b.get();if(C!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===C&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=e_(t);if(D){const L=window.MotionHandoffAnimation(D,y,Ue);L!==null&&(S.startTime=L,T=!0)}}jf(t,y);const N=m??t.shouldReduceMotion;b.start(Wm(y,b,w,N&&Zb.has(y)?{type:!1}:S,t,T));const j=b.animation;j&&p.push(j)}if(u){const y=()=>Ue.update(()=>{u&&bR(t,u)});p.length?Promise.all(p).then(y):y()}return p}function kf(t,e,n={}){var d;const s=ui(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(t_(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return SR(t,e,m,p,g,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,p]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function SR(t,e,n=0,s=0,o=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(kf(d,e,{...u,delay:n+(typeof s=="function"?0:s)+Kb(t.variantChildren,d,s,o,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function jR(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>kf(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=kf(t,e,n);else{const o=typeof e=="function"?ui(t,e,n.custom):e;s=Promise.all(t_(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const kR={test:t=>t==="auto",parse:t=>t},n_=t=>e=>e.test(t),s_=[ji,ne,Pn,js,nI,tI,kR],zy=t=>s_.find(n_(t));function ER(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pb(t):!0}const TR=new Set(["brightness","contrast","saturate","opacity"]);function PR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Dm)||[];if(!s)return t;const o=n.replace(s,"");let l=TR.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const IR=/\b([a-z-]*)\(.*?\)/gu,Ef={...bn,getAnimatableNone:t=>{const e=t.match(IR);return e?e.map(PR).join(" "):t}},Tf={...bn,getAnimatableNone:t=>{const e=bn.parse(t);return bn.createTransformer(t)(e.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},Vy={...ji,transform:Math.round},RR={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Ml,scaleX:Ml,scaleY:Ml,scaleZ:Ml,skew:js,skewX:js,skewY:js,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:sa,originX:ky,originY:ky,originZ:ne},Gm={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,inset:ne,insetBlock:ne,insetBlockStart:ne,insetBlockEnd:ne,insetInline:ne,insetInlineStart:ne,insetInlineEnd:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,paddingBlock:ne,paddingBlockStart:ne,paddingBlockEnd:ne,paddingInline:ne,paddingInlineStart:ne,paddingInlineEnd:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,marginBlock:ne,marginBlockStart:ne,marginBlockEnd:ne,marginInline:ne,marginInlineStart:ne,marginInlineEnd:ne,fontSize:ne,backgroundPositionX:ne,backgroundPositionY:ne,...RR,zIndex:Vy,fillOpacity:sa,strokeOpacity:sa,numOctaves:Vy},AR={...Gm,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:Ef,WebkitFilter:Ef,mask:Tf,WebkitMask:Tf},r_=t=>AR[t],DR=new Set([Ef,Tf]);function i_(t,e){let n=r_(t);return DR.has(n)||(n=bn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MR=new Set(["auto","none","0"]);function OR(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!MR.has(l)&&ra(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=i_(n,o)}class LR extends Vm{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Am(g))){const y=Qb(g,n.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Zb.has(s)||e.length!==2)return;const[o,l]=e,u=zy(o),h=zy(l),d=jy(o),m=jy(l);if(d!==m&&Ps[s]){this.needsMeasurement=!0;return}if(u!==h)if(My(u)&&My(h))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else Ps[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||ER(e[o]))&&s.push(o);s.length&&OR(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ps[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ps[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const FR=new Set(["opacity","clipPath","filter","transform"]);function o_(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(n==null?void 0:n[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const a_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Pf(t){return mb(t)&&"offsetHeight"in t}const{schedule:Ym}=Eb(queueMicrotask,!1),fn={x:!1,y:!1};function l_(){return fn.x||fn.y}function BR(t){return t==="x"||t==="y"?fn[t]?null:(fn[t]=!0,()=>{fn[t]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function c_(t,e){const n=o_(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function zR(t){return!(t.pointerType==="touch"||l_())}function VR(t,e,n={}){const[s,o,l]=c_(t,n);return s.forEach(u=>{let h=!1,d=!1,m;const p=()=>{u.removeEventListener("pointerleave",w)},g=C=>{m&&(m(C),m=void 0),p()},y=C=>{h=!1,window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",y),d&&(d=!1,g(C))},b=()=>{h=!0,window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",y,o)},w=C=>{if(C.pointerType!=="touch"){if(h){d=!0;return}g(C)}},S=C=>{if(!zR(C))return;d=!1;const T=e(u,C);typeof T=="function"&&(m=T,u.addEventListener("pointerleave",w,o))};u.addEventListener("pointerenter",S,o),u.addEventListener("pointerdown",b,o)}),l}const u_=(t,e)=>e?t===e?!0:u_(t,e.parentElement):!1,qm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WR(t){return UR.has(t.tagName)||t.isContentEditable===!0}const $R=new Set(["INPUT","SELECT","TEXTAREA"]);function HR(t){return $R.has(t.tagName)||t.isContentEditable===!0}const $l=new WeakSet;function Uy(t){return e=>{e.key==="Enter"&&t(e)}}function Sh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GR=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Uy(()=>{if($l.has(n))return;Sh(n,"down");const o=Uy(()=>{Sh(n,"up")}),l=()=>Sh(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Wy(t){return qm(t)&&!l_()}const $y=new WeakSet;function YR(t,e,n={}){const[s,o,l]=c_(t,n),u=h=>{const d=h.currentTarget;if(!Wy(h)||$y.has(h))return;$l.add(d),n.stopPropagation&&$y.add(h);const m=e(d,h),p=(b,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),$l.has(d)&&$l.delete(d),Wy(b)&&typeof m=="function"&&m(b,{success:w})},g=b=>{p(b,d===window||d===document||n.useGlobalTarget||u_(d,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",y,o)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),Pf(h)&&(h.addEventListener("focus",m=>GR(m,o)),!WR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Km(t){return mb(t)&&"ownerSVGElement"in t}const Hl=new WeakMap;let ks;const d_=(t,e,n)=>(s,o)=>o&&o[0]?o[0][t+"Size"]:Km(s)&&"getBBox"in s?s.getBBox()[e]:s[n],qR=d_("inline","width","offsetWidth"),KR=d_("block","height","offsetHeight");function QR({target:t,borderBoxSize:e}){var n;(n=Hl.get(t))==null||n.forEach(s=>{s(t,{get width(){return qR(t,e)},get height(){return KR(t,e)}})})}function XR(t){t.forEach(QR)}function ZR(){typeof ResizeObserver>"u"||(ks=new ResizeObserver(XR))}function JR(t,e){ks||ZR();const n=o_(t);return n.forEach(s=>{let o=Hl.get(s);o||(o=new Set,Hl.set(s,o)),o.add(e),ks==null||ks.observe(s)}),()=>{n.forEach(s=>{const o=Hl.get(s);o==null||o.delete(e),o!=null&&o.size||ks==null||ks.unobserve(s)})}}const Gl=new Set;let si;function eA(){si=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Gl.forEach(e=>e(t))},window.addEventListener("resize",si)}function tA(t){return Gl.add(t),si||eA(),()=>{Gl.delete(t),!Gl.size&&typeof si=="function"&&(window.removeEventListener("resize",si),si=void 0)}}function Hy(t,e){return typeof t=="function"?tA(t):JR(t,e)}function nA(t){return Km(t)&&t.tagName==="svg"}const sA=[...s_,it,bn],rA=t=>sA.find(n_(t)),Gy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ri=()=>({x:Gy(),y:Gy()}),Yy=()=>({min:0,max:0}),lt=()=>({x:Yy(),y:Yy()}),iA=new WeakMap;function Xc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ia(t){return typeof t=="string"||Array.isArray(t)}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xm=["initial",...Qm];function Zc(t){return Xc(t.animate)||Xm.some(e=>ia(t[e]))}function h_(t){return!!(Zc(t)||t.variants)}function oA(t,e,n){for(const s in e){const o=e[s],l=n[s];if(kt(o))t.addValue(s,o);else if(kt(l))t.addValue(s,yi(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,yi(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const If={current:null},f_={current:!1},aA=typeof window<"u";function lA(){if(f_.current=!0,!!aA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>If.current=t.matches;t.addEventListener("change",e),e()}else If.current=!1}const qy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nc={};function m_(t){Nc=t}function cA(){return Nc}class uA{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,skipAnimations:l,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Vm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=It.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=l,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Zc(n),this.isVariantNode=h_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const w=y[b];m[b]!==void 0&&kt(w)&&w.set(m[b])}}mount(e){var n,s;if(this.hasBeenMounted)for(const o in this.initialValues)(n=this.values.get(o))==null||n.jump(this.initialValues[o]),this.latestValues[o]=this.initialValues[o];this.current=e,iA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,l)=>this.bindToMotionValue(l,o)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(f_.current||lA(),this.shouldReduceMotion=If.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&FR.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:d,ease:m,duration:p}=n.accelerate,g=new Yb({element:this.current,name:e,keyframes:h,times:d,ease:m,duration:wn(p)}),y=u(g);this.valueSubscriptions.set(e,()=>{y(),g.cancel()});return}const s=Ei.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<qy.length;s++){const o=qy[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=oA(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fb(s)||pb(s))?s=parseFloat(s):!rA(s)&&bn.test(n)&&(s=i_(e,n)),this.setBaseTarget(e,kt(s)?s.get():s)),kt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=$m(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!kt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ym.render(this.render)}}class p_ extends uA{constructor(){super(...arguments),this.KeyframeResolver=LR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}function g_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function dA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jh(t){return t===void 0||t===1}function Rf({scale:t,scaleX:e,scaleY:n}){return!jh(t)||!jh(e)||!jh(n)}function lr(t){return Rf(t)||x_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function x_(t){return Ky(t.x)||Ky(t.y)}function Ky(t){return t&&t!=="0%"}function Cc(t,e,n){const s=t-n,o=e*s;return n+o}function Qy(t,e,n,s,o){return o!==void 0&&(t=Cc(t,o,s)),Cc(t,n,s)+e}function Af(t,e=0,n=1,s,o){t.min=Qy(t.min,e,n,s,o),t.max=Qy(t.max,e,n,s,o)}function y_(t,{x:e,y:n}){Af(t.x,e.translate,e.scale,e.originPoint),Af(t.y,n.translate,n.scale,n.originPoint)}const Xy=.999999999999,Zy=1.0000000000001;function fA(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let h=0;h<o;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&oi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,y_(t,u)),s&&lr(l.latestValues)&&oi(t,l.latestValues))}e.x<Zy&&e.x>Xy&&(e.x=1),e.y<Zy&&e.y>Xy&&(e.y=1)}function ii(t,e){t.min=t.min+e,t.max=t.max+e}function Jy(t,e,n,s,o=.5){const l=Qe(t.min,t.max,o);Af(t,e,n,l,s)}function oi(t,e){Jy(t.x,e.x,e.scaleX,e.scale,e.originX),Jy(t.y,e.y,e.scaleY,e.scale,e.originY)}function v_(t,e){return g_(hA(t.getBoundingClientRect(),e))}function mA(t,e,n){const s=v_(t,n),{scroll:o}=e;return o&&(ii(s.x,o.offset.x),ii(s.y,o.offset.y)),s}const pA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gA=ki.length;function xA(t,e,n){let s="",o=!0;for(let l=0;l<gA;l++){const u=ki[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const m=parseFloat(h);d=u.startsWith("scale")?m===1:m===0}if(!d||n){const m=a_(h,Gm[u]);if(!d){o=!1;const p=pA[u]||u;s+=`${p}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Zm(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(Ei.has(d)){u=!0;continue}else if(Pb(d)){o[d]=m;continue}else{const p=a_(m,Gm[d]);d.startsWith("origin")?(h=!0,l[d]=p):s[d]=p}}if(e.transform||(u||n?s.transform=xA(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${d} ${m} ${p}`}}function w_(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o==null||o.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function ev(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=ev(t,e.target.x),s=ev(t,e.target.y);return`${n}% ${s}%`}},yA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=bn.parse(t);if(o.length>5)return s;const l=bn.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=d;const m=Qe(h,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}},Df={borderRadius:{...wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wo,borderTopRightRadius:wo,borderBottomLeftRadius:wo,borderBottomRightRadius:wo,boxShadow:yA};function b_(t,{layout:e,layoutId:n}){return Ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Df[t]||t==="opacity")}function Jm(t,e,n){var u;const s=t.style,o=e==null?void 0:e.style,l={};if(!s)return l;for(const h in s)(kt(s[h])||o&&kt(o[h])||b_(h,t)||((u=n==null?void 0:n.getValue(h))==null?void 0:u.liveStyle)!==void 0)&&(l[h]=s[h]);return l}function vA(t){return window.getComputedStyle(t)}class wA extends p_{constructor(){super(...arguments),this.type="html",this.renderInstance=w_}readValueFromInstance(e,n){var s;if(Ei.has(n))return(s=this.projection)!=null&&s.isProjecting?vf(n):BI(e,n);{const o=vA(e),l=(Pb(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return v_(e,n)}build(e,n,s){Zm(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Jm(e,n,s)}}const bA={offset:"stroke-dashoffset",array:"stroke-dasharray"},_A={offset:"strokeDashoffset",array:"strokeDasharray"};function NA(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?bA:_A;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const CA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function __(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},d,m,p){if(Zm(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox);for(const b of CA)g[b]!==void 0&&(y[b]=g[b],delete g[b]);e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&NA(g,o,l,u,!1)}const N_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),C_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SA(t,e,n,s){w_(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(N_.has(o)?o:Hm(o),e.attrs[o])}function S_(t,e,n){const s=Jm(t,e,n);for(const o in t)if(kt(t[o])||kt(e[o])){const l=ki.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class jA extends p_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ei.has(n)){const s=r_(n);return s&&s.default||0}return n=N_.has(n)?n:Hm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return S_(e,n,s)}build(e,n,s){__(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){SA(e,n,s,o)}mount(e){this.isSVGTag=C_(e.tagName),super.mount(e)}}const kA=Xm.length;function j_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?j_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kA;n++){const s=Xm[n],o=t.props[s];(ia(o)||o===!1)&&(e[s]=o)}return e}function k_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const EA=[...Qm].reverse(),TA=Qm.length;function PA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>jR(t,n,s)))}function IA(t){let e=PA(t),n=tv(),s=!0;const o=d=>(m,p)=>{var y;const g=ui(t,p,d==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:b,transitionEnd:w,...S}=g;m={...m,...S,...w}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,p=j_(t.parent)||{},g=[],y=new Set;let b={},w=1/0;for(let C=0;C<TA;C++){const T=EA[C],N=n[T],j=m[T]!==void 0?m[T]:p[T],D=ia(j),L=T===d?N.isActive:null;L===!1&&(w=C);let W=j===p[T]&&j!==m[T]&&D;if(W&&s&&t.manuallyAnimateOnMount&&(W=!1),N.protectedKeys={...b},!N.isActive&&L===null||!j&&!N.prevProp||Xc(j)||typeof j=="boolean")continue;if(T==="exit"&&N.isActive&&L!==!0){N.prevResolvedValues&&(b={...b,...N.prevResolvedValues});continue}const z=RA(N.prevProp,j);let F=z||T===d&&N.isActive&&!W&&D||C>w&&D,X=!1;const ie=Array.isArray(j)?j:[j];let xe=ie.reduce(o(T),{});L===!1&&(xe={});const{prevResolvedValues:$={}}=N,le={...$,...xe},ve=oe=>{F=!0,y.has(oe)&&(X=!0,y.delete(oe)),N.needsAnimating[oe]=!0;const Y=t.getValue(oe);Y&&(Y.liveStyle=!1)};for(const oe in le){const Y=xe[oe],J=$[oe];if(b.hasOwnProperty(oe))continue;let Q=!1;Sf(Y)&&Sf(J)?Q=!k_(Y,J):Q=Y!==J,Q?Y!=null?ve(oe):y.add(oe):Y!==void 0&&y.has(oe)?ve(oe):N.protectedKeys[oe]=!0}N.prevProp=j,N.prevResolvedValues=xe,N.isActive&&(b={...b,...xe}),s&&t.blockInitialAnimation&&(F=!1);const G=W&&z;F&&(!G||X)&&g.push(...ie.map(oe=>{const Y={type:T};if(typeof oe=="string"&&s&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:J}=t,Q=ui(J,oe);if(J.enteringChildren&&Q){const{delayChildren:R}=Q.transition||{};Y.delay=Kb(J.enteringChildren,t,R)}}return{animation:oe,options:Y}}))}if(y.size){const C={};if(typeof m.initial!="boolean"){const T=ui(t,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(C.transition=T.transition)}y.forEach(T=>{const N=t.getBaseTarget(T),j=t.getValue(T);j&&(j.liveStyle=!0),C[T]=N??null}),g.push({animation:C})}let S=!!g.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(g):Promise.resolve()}function h(d,m){var g;if(n[d].isActive===m)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(d,m)}),n[d].isActive=m;const p=u(d);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=tv()}}}function RA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!k_(e,t):!1}function rr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tv(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}function nv(t,e){t.min=e.min,t.max=e.max}function hn(t,e){nv(t.x,e.x),nv(t.y,e.y)}function sv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const E_=1e-4,AA=1-E_,DA=1+E_,T_=.01,MA=0-T_,OA=0+T_;function Rt(t){return t.max-t.min}function LA(t,e,n){return Math.abs(t-e)<=n}function rv(t,e,n,s=.5){t.origin=s,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AA&&t.scale<=DA||isNaN(t.scale))&&(t.scale=1),(t.translate>=MA&&t.translate<=OA||isNaN(t.translate))&&(t.translate=0)}function Do(t,e,n,s){rv(t.x,e.x,n.x,s?s.originX:void 0),rv(t.y,e.y,n.y,s?s.originY:void 0)}function iv(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function FA(t,e,n){iv(t.x,e.x,n.x),iv(t.y,e.y,n.y)}function ov(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function Sc(t,e,n){ov(t.x,e.x,n.x),ov(t.y,e.y,n.y)}function av(t,e,n,s,o){return t-=e,t=Cc(t,1/n,s),o!==void 0&&(t=Cc(t,1/o,s)),t}function BA(t,e=0,n=1,s=.5,o,l=t,u=t){if(Pn.test(e)&&(e=parseFloat(e),e=Qe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Qe(l.min,l.max,s);t===l&&(h-=e),t.min=av(t.min,e,n,h,o),t.max=av(t.max,e,n,h,o)}function lv(t,e,[n,s,o],l,u){BA(t,e[n],e[s],e[o],e.scale,l,u)}const zA=["x","scaleX","originX"],VA=["y","scaleY","originY"];function cv(t,e,n,s){lv(t.x,e,zA,n?n.x:void 0,s?s.x:void 0),lv(t.y,e,VA,n?n.y:void 0,s?s.y:void 0)}function uv(t){return t.translate===0&&t.scale===1}function P_(t){return uv(t.x)&&uv(t.y)}function dv(t,e){return t.min===e.min&&t.max===e.max}function UA(t,e){return dv(t.x,e.x)&&dv(t.y,e.y)}function hv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function I_(t,e){return hv(t.x,e.x)&&hv(t.y,e.y)}function fv(t){return Rt(t.x)/Rt(t.y)}function mv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function En(t){return[t("x"),t("y")]}function WA(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:g,rotateY:y,skewX:b,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),w&&(s+=`skewY(${w}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const R_=["TopLeft","TopRight","BottomLeft","BottomRight"],$A=R_.length,pv=t=>typeof t=="string"?parseFloat(t):t,gv=t=>typeof t=="number"||ne.test(t);function HA(t,e,n,s,o,l){o?(t.opacity=Qe(0,n.opacity??1,GA(s)),t.opacityExit=Qe(e.opacity??1,0,YA(s))):l&&(t.opacity=Qe(e.opacity??1,n.opacity??1,s));for(let u=0;u<$A;u++){const h=`border${R_[u]}Radius`;let d=xv(e,h),m=xv(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||gv(d)===gv(m)?(t[h]=Math.max(Qe(pv(d),pv(m),s),0),(Pn.test(m)||Pn.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,s))}function xv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GA=A_(0,.5,Cb),YA=A_(.5,.95,sn);function A_(t,e,n){return s=>s<t?0:s>e?1:n(na(t,e,s))}function qA(t,e,n){const s=kt(t)?t:yi(t);return s.start(Wm("",s,e,n)),s.animation}function oa(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const KA=(t,e)=>t.depth-e.depth;class QA{constructor(){this.children=[],this.isDirty=!1}add(e){Em(this.children,e),this.isDirty=!0}remove(e){vc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KA),this.isDirty=!1,this.children.forEach(e)}}function XA(t,e){const n=It.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Us(s),t(l-e))};return Ue.setup(s,!0),()=>Us(s)}function Yl(t){return kt(t)?t.get():t}class ZA{constructor(){this.members=[]}add(e){Em(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const o=s.instance;o&&o.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&vc(this.members,s)}e.scheduleRender()}remove(e){if(vc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const o=s.options.layoutDependency,l=e.options.layoutDependency;if(!(o!==void 0&&l!==void 0&&o===l)){const d=s.instance;d&&d.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ql={hasAnimatedSinceResize:!0,hasEverUpdated:!1},kh=["","X","Y","Z"],JA=1e3;let eD=0;function Eh(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function D_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=e_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&D_(s)}function M_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=eD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sD),this.nodes.forEach(aD),this.nodes.forEach(lD),this.nodes.forEach(rD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new QA)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Pm),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Km(u)&&!nA(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{g=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=XA(y,250),ql.hasAnimatedSinceResize&&(ql.hasAnimatedSinceResize=!1,this.nodes.forEach(wv)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||fD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=m.getProps(),T=!this.targetLayout||!I_(this.targetLayout,b),N=!g&&y;if(this.options.layoutRoot||this.resumeFrom||N||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Um(w,"layout"),onPlay:S,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,N)}else g||wv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cD),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oD),this.nodes.forEach(tD),this.nodes.forEach(nD)):this.nodes.forEach(vv),this.clearAllSnapshots();const h=It.now();wt.delta=Mn(0,1e3/60,h-wt.timestamp),wt.timestamp=h,wt.isProcessing=!0,vh.update.process(wt),vh.preRender.process(wt),vh.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ym.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iD),this.sharedNodes.forEach(uD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!P_(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||lr(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),mD(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return lt();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(pD))){const{scroll:p}=this.root;p&&(ii(h.x,p.offset.x),ii(h.y,p.offset.y))}return h}removeElementScroll(u){var d;const h=lt();if(hn(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&hn(h,u),ii(h.x,g.offset.x),ii(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const d=lt();hn(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!h&&p.options.layoutScroll&&p.scroll&&p!==p.root&&oi(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),lr(p.latestValues)&&oi(d,p.latestValues)}return lr(this.latestValues)&&oi(d,this.latestValues),d}removeTransform(u){const h=lt();hn(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!lr(m.latestValues))continue;Rf(m.latestValues)&&m.updateSnapshot();const p=lt(),g=m.measurePageBox();hn(p,g),cv(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return lr(this.latestValues)&&cv(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=wt.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),y_(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Rf(this.parent.latestValues)||x_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Sc(this.relativeTargetOrigin,h,d),hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;hn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;fA(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=lt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sv(this.prevProjectionDelta.x,this.projectionDelta.x),sv(this.prevProjectionDelta.y,this.projectionDelta.y)),Do(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!mv(this.projectionDelta.x,this.prevProjectionDelta.x)||!mv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ri(),this.projectionDelta=ri(),this.projectionDeltaWithTransform=ri()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},p={...this.latestValues},g=ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const y=lt(),b=d?d.source:void 0,w=this.layout?this.layout.source:void 0,S=b!==w,C=this.getStack(),T=!C||C.members.length<=1,N=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(hD));this.animationProgress=0;let j;this.mixTargetDelta=D=>{const L=D/1e3;bv(g.x,u.x,L),bv(g.y,u.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dD(this.relativeTarget,this.relativeTargetOrigin,y,L),j&&UA(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=lt()),hn(j,this.relativeTarget)),S&&(this.animationValues=p,HA(p,m,this.latestValues,L,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{ql.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yi(0)),this.motionValue.jump(0,!1),this.currentAnimation=qA(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:p}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&O_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||lt();const g=Rt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+g;const y=Rt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+y}hn(h,d),oi(h,p),Do(this.projectionDeltaWithTransform,this.layoutCorrected,h,p)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZA),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Eh("z",u,m,this.animationValues);for(let p=0;p<kh.length;p++)Eh(`rotate${kh[p]}`,u,m,this.animationValues),Eh(`skew${kh[p]}`,u,m,this.animationValues);u.render();for(const p in m)u.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yl(h==null?void 0:h.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!lr(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=WA(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),u.transform=g;const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Df){if(p[w]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:T}=Df[w],N=g==="none"?p[w]:S(p[w],m);if(C){const j=C.length;for(let D=0;D<j;D++)u[C[D]]=N}else T?this.options.visualElement.renderState.vars[w]=N:u[w]=N}this.options.layoutId&&(u.pointerEvents=m===this?Yl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yv),this.root.sharedNodes.clear()}}}function tD(t){t.updateLayout()}function nD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?En(g=>{const y=u?e.measuredBox[g]:e.layoutBox[g],b=Rt(y);y.min=s[g].min,y.max=y.min+b}):O_(l,e.layoutBox,s)&&En(g=>{const y=u?e.measuredBox[g]:e.layoutBox[g],b=Rt(s[g]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const h=ri();Do(h,s,e.layoutBox);const d=ri();u?Do(d,t.applyTransform(o,!0),e.measuredBox):Do(d,s,e.layoutBox);const m=!P_(h);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const w=lt();Sc(w,e.layoutBox,y.layoutBox);const S=lt();Sc(S,s,b.layoutBox),I_(w,S)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function sD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iD(t){t.clearSnapshot()}function yv(t){t.clearMeasurements()}function vv(t){t.isLayoutDirty=!1}function oD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aD(t){t.resolveTargetDelta()}function lD(t){t.calcProjection()}function cD(t){t.resetSkewAndRotation()}function uD(t){t.removeLeadSnapshot()}function bv(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _v(t,e,n,s){t.min=Qe(e.min,n.min,s),t.max=Qe(e.max,n.max,s)}function dD(t,e,n,s){_v(t.x,e.x,n.x,s),_v(t.y,e.y,n.y,s)}function hD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fD={duration:.45,ease:[.4,0,.1,1]},Nv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cv=Nv("applewebkit/")&&!Nv("chrome/")?Math.round:sn;function Sv(t){t.min=Cv(t.min),t.max=Cv(t.max)}function mD(t){Sv(t.x),Sv(t.y)}function O_(t,e,n){return t==="position"||t==="preserve-aspect"&&!LA(fv(e),fv(n),.2)}function pD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const gD=M_({attachResizeListener:(t,e)=>oa(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Th={current:void 0},L_=M_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Th.current){const t=new gD({});t.mount(window),t.setOptions({layoutScroll:!0}),Th.current=t}return Th.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ep=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xD(...t){return e=>{let n=!1;const s=t.map(o=>{const l=jv(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():jv(t[o],null)}}}}function yD(...t){return E.useCallback(xD(...t),t)}class vD extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,o=Pf(s)&&s.offsetWidth||0,l=Pf(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function wD({children:t,isPresent:e,anchorX:n,anchorY:s,root:o,pop:l}){var y;const u=E.useId(),h=E.useRef(null),d=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=E.useContext(ep),p=((y=t.props)==null?void 0:y.ref)??(t==null?void 0:t.ref),g=yD(h,p);return E.useInsertionEffect(()=>{const{width:b,height:w,top:S,left:C,right:T,bottom:N}=d.current;if(e||l===!1||!h.current||!b||!w)return;const j=n==="left"?`left: ${C}`:`right: ${T}`,D=s==="bottom"?`bottom: ${N}`:`top: ${S}`;h.current.dataset.motionPopId=u;const L=document.createElement("style");m&&(L.nonce=m);const W=o??document.head;return W.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${w}px !important;
            ${j}px !important;
            ${D}px !important;
          }
        `),()=>{W.contains(L)&&W.removeChild(L)}},[e]),a.jsx(vD,{isPresent:e,childRef:h,sizeRef:d,pop:l,children:l===!1?t:E.cloneElement(t,{ref:g})})}const bD=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:m})=>{const p=km(_D),g=E.useId();let y=!0,b=E.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:o,onExitComplete:w=>{p.set(w,!0);for(const S of p.values())if(!S)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return l&&y&&(b={...b}),E.useMemo(()=>{p.forEach((w,S)=>p.set(S,!1))},[n]),E.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),t=a.jsx(wD,{pop:u==="popLayout",isPresent:n,anchorX:h,anchorY:d,root:m,children:t}),a.jsx(Qc.Provider,{value:b,children:t})};function _D(){return new Map}function F_(t=!0){const e=E.useContext(Qc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=E.useId();E.useEffect(()=>{if(t)return o(l)},[t]);const u=E.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Ol=t=>t.key||"";function kv(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const vi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[p,g]=F_(u),y=E.useMemo(()=>kv(t),[t]),b=u&&!p?[]:y.map(Ol),w=E.useRef(!0),S=E.useRef(y),C=km(()=>new Map),T=E.useRef(new Set),[N,j]=E.useState(y),[D,L]=E.useState(y);hb(()=>{w.current=!1,S.current=y;for(let F=0;F<D.length;F++){const X=Ol(D[F]);b.includes(X)?(C.delete(X),T.current.delete(X)):C.get(X)!==!0&&C.set(X,!1)}},[D,b.length,b.join("-")]);const W=[];if(y!==N){let F=[...y];for(let X=0;X<D.length;X++){const ie=D[X],xe=Ol(ie);b.includes(xe)||(F.splice(X,0,ie),W.push(ie))}return l==="wait"&&W.length&&(F=W),L(kv(F)),j(y),null}const{forceRender:z}=E.useContext(jm);return a.jsx(a.Fragment,{children:D.map(F=>{const X=Ol(F),ie=u&&!p?!1:y===D||b.includes(X),xe=()=>{if(T.current.has(X))return;if(T.current.add(X),C.has(X))C.set(X,!0);else return;let $=!0;C.forEach(le=>{le||($=!1)}),$&&(z==null||z(),L(S.current),u&&(g==null||g()),s&&s())};return a.jsx(bD,{isPresent:ie,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:m,onExitComplete:ie?void 0:xe,anchorX:h,anchorY:d,children:F},X)})})},B_=E.createContext({strict:!1}),Ev={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Tv=!1;function ND(){if(Tv)return;const t={};for(const e in Ev)t[e]={isEnabled:n=>Ev[e].some(s=>!!n[s])};m_(t),Tv=!0}function z_(){return ND(),cA()}function CD(t){const e=z_();for(const n in t)e[n]={...e[n],...t[n]};m_(e)}const SD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function jc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SD.has(t)}let V_=t=>!jc(t);function jD(t){typeof t=="function"&&(V_=e=>e.startsWith("on")?!jc(e):t(e))}try{jD(require("@emotion/is-prop-valid").default)}catch{}function kD(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(V_(o)||n===!0&&jc(o)||!e&&!jc(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Jc=E.createContext({});function ED(t,e){if(Zc(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ia(n)?n:void 0,animate:ia(s)?s:void 0}}return t.inherit!==!1?e:{}}function TD(t){const{initial:e,animate:n}=ED(t,E.useContext(Jc));return E.useMemo(()=>({initial:e,animate:n}),[Pv(e),Pv(n)])}function Pv(t){return Array.isArray(t)?t.join(" "):t}const tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U_(t,e,n){for(const s in e)!kt(e[s])&&!b_(s,n)&&(t[s]=e[s])}function PD({transformTemplate:t},e){return E.useMemo(()=>{const n=tp();return Zm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ID(t,e){const n=t.style||{},s={};return U_(s,n,t),Object.assign(s,PD(t,e)),s}function RD(t,e){const n={},s=ID(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const W_=()=>({...tp(),attrs:{}});function AD(t,e,n,s){const o=E.useMemo(()=>{const l=W_();return __(l,e,C_(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};U_(l,t.style,t),o.style={...l,...o.style}}return o}const DD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function np(t){return typeof t!="string"||t.includes("-")?!1:!!(DD.indexOf(t)>-1||/[A-Z]/u.test(t))}function MD(t,e,n,{latestValues:s},o,l=!1,u){const d=(u??np(t)?AD:RD)(e,s,o,t),m=kD(e,typeof t=="string",l),p=t!==E.Fragment?{...m,...d,ref:n}:{},{children:g}=e,y=E.useMemo(()=>kt(g)?g.get():g,[g]);return E.createElement(t,{...p,children:y})}function OD({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:LD(n,s,o,t),renderState:e()}}function LD(t,e,n,s){const o={},l=s(t,{});for(const y in l)o[y]=Yl(l[y]);let{initial:u,animate:h}=t;const d=Zc(t),m=h_(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const g=p?h:u;if(g&&typeof g!="boolean"&&!Xc(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const w=$m(t,y[b]);if(w){const{transitionEnd:S,transition:C,...T}=w;for(const N in T){let j=T[N];if(Array.isArray(j)){const D=p?j.length-1:0;j=j[D]}j!==null&&(o[N]=j)}for(const N in S)o[N]=S[N]}}}return o}const $_=t=>(e,n)=>{const s=E.useContext(Jc),o=E.useContext(Qc),l=()=>OD(t,e,s,o);return n?l():km(l)},FD=$_({scrapeMotionValuesFromProps:Jm,createRenderState:tp}),BD=$_({scrapeMotionValuesFromProps:S_,createRenderState:W_}),zD=Symbol.for("motionComponentSymbol");function VD(t,e,n){const s=E.useRef(n);E.useInsertionEffect(()=>{s.current=n});const o=E.useRef(null);return E.useCallback(l=>{var h;l&&((h=t.onMount)==null||h.call(t,l)),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const H_=E.createContext({});function ei(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UD(t,e,n,s,o,l){var j,D;const{visualElement:u}=E.useContext(Jc),h=E.useContext(B_),d=E.useContext(Qc),m=E.useContext(ep),p=m.reducedMotion,g=m.skipAnimations,y=E.useRef(null),b=E.useRef(!1);s=s||h.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,skipAnimations:g,isSVG:l}),b.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const w=y.current,S=E.useContext(H_);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&WD(y.current,n,o,S);const C=E.useRef(!1);E.useInsertionEffect(()=>{w&&C.current&&w.update(n,d)});const T=n[Jb],N=E.useRef(!!T&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,T))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,T)));return hb(()=>{b.current=!0,w&&(C.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),N.current&&w.animationState&&w.animationState.animateChanges())}),E.useEffect(()=>{w&&(!N.current&&w.animationState&&w.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,T)}),N.current=!1),w.enteringChildren=void 0)}),w}function WD(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:G_(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||h&&ei(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:d,layoutRoot:m})}function G_(t){if(t)return t.options.allowProjection!==!1?t.projection:G_(t.parent)}function Ph(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&CD(s);const l=n?n==="svg":np(t),u=l?BD:FD;function h(m,p){let g;const y={...E.useContext(ep),...m,layoutId:$D(m)},{isStatic:b}=y,w=TD(m),S=u(m,b);if(!b&&db){HD();const C=GD(y);g=C.MeasureLayout,w.visualElement=UD(t,S,y,o,C.ProjectionNode,l)}return a.jsxs(Jc.Provider,{value:w,children:[g&&w.visualElement?a.jsx(g,{visualElement:w.visualElement,...y}):null,MD(t,m,VD(S,w.visualElement,p),S,b,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=E.forwardRef(h);return d[zD]=t,d}function $D({layoutId:t}){const e=E.useContext(jm).id;return e&&t!==void 0?e+"-"+t:t}function HD(t,e){E.useContext(B_).strict}function GD(t){const e=z_(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function YD(t,e){if(typeof Proxy>"u")return Ph;const n=new Map,s=(l,u)=>Ph(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Ph(u,void 0,t,e)),n.get(u))})}const qD=(t,e)=>e.isSVG??np(t)?new jA(e):new wA(e,{allowProjection:t!==E.Fragment});class KD extends Ws{constructor(e){super(e),e.animationState||(e.animationState=IA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let QD=0;class XD extends Ws{constructor(){super(...arguments),this.id=QD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZD={animation:{Feature:KD},exit:{Feature:XD}};function ya(t){return{point:{x:t.pageX,y:t.pageY}}}const JD=t=>e=>qm(e)&&t(e,ya(e));function Mo(t,e,n,s){return oa(t,e,JD(n),s)}const Y_=({current:t})=>t?t.ownerDocument.defaultView:null,Iv=(t,e)=>Math.abs(t-e);function e3(t,e){const n=Iv(t.x,e.x),s=Iv(t.y,e.y);return Math.sqrt(n**2+s**2)}const Rv=new Set(["auto","scroll"]);class q_{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=e3(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:C}=b,{timestamp:T}=wt;this.history.push({...C,timestamp:T});const{onStart:N,onMove:j}=this.handlers;w||(N&&N(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Ih(w,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Rh(b.type==="pointercancel"?this.lastMoveEventInfo:Ih(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,N),C&&C(b,N)},!qm(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=ya(e),m=Ih(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=wt;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Rh(m,this.history)),this.removeListeners=pa(Mo(this.contextWindow,"pointermove",this.handlePointerMove),Mo(this.contextWindow,"pointerup",this.handlePointerUp),Mo(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Rv.has(s.overflowX)||Rv.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Ue.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Us(this.updatePoint)}}function Ih(t,e){return e?{point:e(t.point)}:t}function Av(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rh({point:t},e){return{point:t,delta:Av(t,K_(e)),offset:Av(t,t3(e)),velocity:n3(e,.1)}}function t3(t){return t[0]}function K_(t){return t[t.length-1]}function n3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=K_(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>wn(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&o.timestamp-s.timestamp>wn(e)*2&&(s=t[1]);const l=tn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function s3(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Qe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Qe(n,t,s.max):Math.min(t,n)),t}function Dv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r3(t,{top:e,left:n,bottom:s,right:o}){return{x:Dv(t.x,n,o),y:Dv(t.y,e,s)}}function Mv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function i3(t,e){return{x:Mv(t.x,e.x),y:Mv(t.y,e.y)}}function o3(t,e){let n=.5;const s=Rt(t),o=Rt(e);return o>s?n=na(e.min,e.max-s,t.min):s>o&&(n=na(t.min,t.max-o,e.min)),Mn(0,1,n)}function a3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mf=.35;function l3(t=Mf){return t===!1?t=0:t===!0&&(t=Mf),{x:Ov(t,"left","right"),y:Ov(t,"top","bottom")}}function Ov(t,e,n){return{min:Lv(t,e),max:Lv(t,n)}}function Lv(t,e){return typeof t=="number"?t:t[e]||0}const c3=new WeakMap;class u3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{n&&this.snapToCursor(ya(g).point),this.stopAnimation()},u=(g,y)=>{const{drag:b,dragPropagation:w,onDragStart:S}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BR(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(T=>{let N=this.getAxisMotionValue(T).get()||0;if(Pn.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const D=j.layout.layoutBox[T];D&&(N=Rt(D)*(parseFloat(N)/100))}}this.originPoint[T]=N}),S&&Ue.update(()=>S(g,y),!1,!0),jf(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:S,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:T}=y;if(w&&this.currentDirection===null){this.currentDirection=h3(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),C&&Ue.update(()=>C(g,y),!1,!0)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new q_(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:Y_(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ue.postRender(()=>h(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ll(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=s3(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&ei(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=r3(s.layoutBox,e):this.constraints=!1,this.elastic=l3(n),o!==this.constraints&&!ei(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&En(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=a3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ei(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=mA(s,o.root,this.visualElement.getTransformPagePoint());let u=i3(o.layout.layoutBox,l);if(n){const h=n(dA(u));this.hasMutatedConstraints=!!h,h&&(u=g_(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=En(p=>{if(!Ll(p,n,this.currentDirection))return;let g=d&&d[p]||{};u&&(g={min:0,max:0});const y=o?200:1e6,b=o?40:1e7,w={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return jf(this.visualElement,e),s.start(Wm(e,s,0,n,this.visualElement,!1))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:s}=this.getProps();if(!Ll(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Qe(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ei(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};En(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();o[u]=o3({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),En(u=>{if(!Ll(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Qe(d,m,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;c3.set(this.visualElement,this);const e=this.visualElement.current,n=Mo(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps(),y=m.target,b=y!==e&&HR(y);p&&g&&!b&&this.start(m)});let s;const o=()=>{const{dragConstraints:m}=this.getProps();ei(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=d3(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Ue.read(o);const h=oa(window,"resize",()=>this.scalePositionWithinConstraints()),d=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(En(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{h(),n(),u(),d&&d(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Mf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Fv(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function d3(t,e,n){const s=Hy(t,Fv(n)),o=Hy(e,Fv(n));return()=>{s(),o()}}function Ll(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class f3 extends Ws{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new u3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ah=t=>(e,n)=>{t&&Ue.update(()=>t(e,n),!1,!0)};class m3 extends Ws{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new q_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ah(e),onStart:Ah(n),onMove:Ah(s),onEnd:(l,u)=>{delete this.session,o&&Ue.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Mo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Dh=!1;class p3 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Dh&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ql.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Dh=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ue.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ym.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Dh=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Q_(t){const[e,n]=F_(),s=E.useContext(jm);return a.jsx(p3,{...t,layoutGroup:s,switchLayoutGroup:E.useContext(H_),isPresent:e,safeToRemove:n})}const g3={pan:{Feature:m3},drag:{Feature:f3,ProjectionNode:L_,MeasureLayout:Q_}};function Bv(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ue.postRender(()=>l(e,ya(e)))}class x3 extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=VR(e,(n,s)=>(Bv(this.node,s,"Start"),o=>Bv(this.node,o,"End"))))}unmount(){}}class y3 extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pa(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zv(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ue.postRender(()=>l(e,ya(e)))}class v3 extends Ws{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=YR(e,(o,l)=>(zv(this.node,l,"Start"),(u,{success:h})=>zv(this.node,u,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const Of=new WeakMap,Mh=new WeakMap,w3=t=>{const e=Of.get(t.target);e&&e(t)},b3=t=>{t.forEach(w3)};function _3({root:t,...e}){const n=t||document;Mh.has(n)||Mh.set(n,{});const s=Mh.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(b3,{root:t,...e})),s[o]}function N3(t,e,n){const s=_3(e);return Of.set(t,n),s.observe(t),()=>{Of.delete(t),s.unobserve(t)}}const C3={some:0,all:1};class S3 extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:C3[o]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=m?p:g;y&&y(d)};return N3(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j3(e,n))&&this.startObserver()}unmount(){}}function j3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k3={inView:{Feature:S3},tap:{Feature:v3},focus:{Feature:y3},hover:{Feature:x3}},E3={layout:{ProjectionNode:L_,MeasureLayout:Q_}},T3={...ZD,...k3,...g3,...E3},Se=YD(T3,qD),Vv="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' fill='%23141414'%3E%3Crect width='400' height='400'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23333' font-family='sans-serif' font-size='14'%3ENo Image%3C/text%3E%3C/svg%3E",P3=[{name:"Gummies & Edibles",image:"https://images.unsplash.com/photo-1625517236224-4dbb5b54e612?w=600&h=700&fit=crop&q=80",query:"Gummies+%26+Edibles"},{name:"Tinctures",image:"https://images.unsplash.com/photo-1611070042580-e707a0c6ff26?w=600&h=700&fit=crop&q=80",query:"Tinctures"},{name:"Vapes",image:"https://images.unsplash.com/photo-1560913210-81b26e020c1f?w=600&h=700&fit=crop&q=80",query:"Vapes"},{name:"Pre-Rolls",image:"https://images.unsplash.com/photo-1586165368502-1bad9cc98341?w=600&h=700&fit=crop&q=80",query:"Pre-Rolls"},{name:"Chocolates",image:"https://images.unsplash.com/photo-1606312619070-d48b4c652a52?w=600&h=700&fit=crop&q=80",query:"Chocolates"},{name:"Topicals",image:"https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=600&h=700&fit=crop&q=80",query:"Topicals"}],I3=[{id:1,title:"CBD Gummies vs. THC Gummies: What You Need to Know",date:"February 15, 2026",excerpt:"Understanding the key differences between CBD and THC gummies can help you choose the right product for your wellness goals. We break down effects, legality, and dosing.",image:"https://images.unsplash.com/photo-1625517236224-4dbb5b54e612?w=800&h=500&fit=crop&q=80"},{id:2,title:"The Science Behind Full-Spectrum CBD Oil",date:"February 10, 2026",excerpt:"Full-spectrum CBD contains a range of cannabinoids beyond just CBD. Learn how the entourage effect works and why whole-plant extracts may offer enhanced benefits.",image:"https://images.unsplash.com/photo-1616091238769-beafeec6d035?w=800&h=500&fit=crop&q=80"},{id:3,title:"How to Choose the Right CBD Product for You",date:"February 5, 2026",excerpt:"From edibles to topicals, tinctures to vapes  the CBD market is vast. Here is our guide to finding the perfect product based on your lifestyle and needs.",image:"https://images.unsplash.com/photo-1611070042580-e707a0c6ff26?w=800&h=500&fit=crop&q=80"}],R3=[{q:"Are your products lab-tested?",a:"Absolutely. Every product we sell goes through rigorous third-party lab testing for potency, purity, and safety. We share certificates of analysis (COAs) for full transparency."},{q:"Is CBD legal?",a:"Yes! CBD derived from hemp (containing less than 0.3% THC) is federally legal in the United States under the 2018 Farm Bill. We ensure all our products meet these requirements."},{q:"How long does shipping take?",a:"Most orders ship within 1-2 business days and arrive in 3-5 business days via USPS or UPS. We offer free shipping on orders over $75."},{q:"Do you offer refunds?",a:"We stand behind the quality of our products. If you are not satisfied, contact us within 30 days for a full refund or exchange."},{q:"What makes Couch Buddies different?",a:"We combine premium ingredients, transparent lab testing, and a fun wellness-first approach. Our products are crafted for taste and efficacy, not just one or the other."}];function A3(){const{products:t}=Ie(),e=t.filter(o=>o.featured).slice(0,8),[n,s]=E.useState(null);return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("section",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-900/40 via-surface-900 to-surface-900"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 py-20 sm:py-32",children:a.jsxs(Se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},className:"max-w-3xl",children:[a.jsx("span",{className:"inline-block text-brand-400 text-sm font-semibold tracking-wider uppercase mb-4",children:"Premium CBD Wellness"}),a.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-black leading-[0.95] tracking-tight",children:["Sweet Treats.",a.jsx("br",{}),a.jsx("span",{className:"text-brand-400",children:"Real Wellness."})]}),a.jsx("p",{className:"text-gray-400 text-lg sm:text-xl mt-6 max-w-xl leading-relaxed",children:"Lab-tested CBD edibles, tinctures, and more. Shipped discreetly to your door. No med card required."}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-8",children:[a.jsxs(he,{to:"/shop",className:"btn-primary text-base px-8 py-4 flex items-center gap-2",children:["Shop Now ",a.jsx(ar,{})]}),a.jsx("a",{href:"#blog",className:"btn-secondary text-base px-8 py-4",children:"Read Our Blog"})]})]})})]}),a.jsx("section",{className:"py-20 relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-4",children:" Hot Picks"}),a.jsx("p",{className:"text-gray-400 max-w-lg mx-auto",children:"Our sweetest sellers. Grab them before they melt away."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((o,l)=>a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},children:a.jsx(he,{to:`/product/${o.id}`,className:"group block",children:a.jsxs("div",{className:"glass-card p-0 overflow-hidden hover:border-brand-500/30 transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"aspect-square overflow-hidden bg-surface-800",children:a.jsx("img",{src:o.images[0],alt:o.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy",onError:u=>{u.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-brand-400 transition-colors line-clamp-1",children:o.name}),a.jsxs("p",{className:"text-brand-400 font-bold text-lg mt-1",children:["$",o.price.toFixed(2)]})]})]})})},o.id))}),a.jsx("div",{className:"text-center mt-10",children:a.jsxs(he,{to:"/shop",className:"btn-secondary inline-flex items-center gap-2",children:["View All Goodies ",a.jsx(ar,{})]})})]})}),a.jsx("section",{className:"py-20 border-t border-white/5",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:nn,label:"Discreet Delivery"},{icon:yc,label:"Lab-Tested & Verified"},{icon:Cy,label:"Trusted by Thousands"}].map(o=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-brand-500/10 border border-brand-500/20 flex items-center justify-center",children:a.jsx(o.icon,{className:"text-brand-400",size:18})}),a.jsx("span",{className:"text-sm font-medium text-gray-300",children:o.label})]},o.label))})})}),a.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Curated CBD Picks"}),a.jsx("p",{className:"text-gray-400 mt-3 max-w-xl mx-auto",children:"Browse by category to find exactly what you need."})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:P3.map((o,l)=>a.jsx(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.05},children:a.jsxs(he,{to:`/shop?category=${o.query}`,className:"group block rounded-2xl overflow-hidden relative aspect-[3/4]",children:[a.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",referrerPolicy:"no-referrer"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:a.jsx("h3",{className:"text-sm font-semibold text-white",children:o.name})})]})},o.name))})]}),a.jsx("section",{className:"border-y border-white/5 bg-black/30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-4",children:"Why Couch Buddies?"}),a.jsx("p",{className:"text-gray-400 text-center mb-12 max-w-xl mx-auto",children:"Not all CBD is created equal. Here is why we are different."}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:Cy,title:"Premium Ingredients",desc:"Organic, non-GMO hemp sourced from trusted US farms."},{icon:yc,title:"Lab-Tested Quality",desc:"Every batch tested by independent labs for potency and purity."},{icon:vr,title:"Crafted With Care",desc:"Small-batch production ensures consistency and freshness."},{icon:nn,title:"Fast, Discreet Delivery",desc:"Plain packaging, shipped in 1-2 business days nationwide."}].map((o,l)=>a.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.08},className:"glass-card text-center hover:border-white/15 transition-all",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-brand-500/10 border border-brand-500/20 flex items-center justify-center mx-auto mb-4",children:a.jsx(o.icon,{className:"text-brand-400",size:22})}),a.jsx("h3",{className:"font-semibold mb-2",children:o.title}),a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:o.desc})]},o.title))})]})}),a.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-20",children:[a.jsxs("div",{className:"flex items-end justify-between mb-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Our Personal Favorites"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"The best of the best, handpicked by our team."})]}),a.jsxs(he,{to:"/shop",className:"hidden sm:flex items-center gap-2 text-brand-400 hover:text-brand-300 text-sm font-medium transition-colors",children:["Browse all ",a.jsx(ar,{size:14})]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:e.map((o,l)=>{var u,h;return a.jsx(Se.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.04},children:a.jsx(he,{to:`/product/${o.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-2xl overflow-hidden bg-surface-800 border border-white/5 hover:border-white/15 transition-all",children:[a.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[a.jsx("img",{src:((u=o.images)==null?void 0:u[0])||Vv,alt:o.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",referrerPolicy:"no-referrer",onError:d=>{d.target.dataset.f||(d.target.dataset.f="1",d.target.src=Vv)}}),o.featured&&a.jsx("span",{className:"absolute top-3 left-3 text-[10px] font-bold px-2.5 py-1 rounded-full bg-brand-500 text-black uppercase tracking-wider",children:"Staff Pick"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1",children:o.category}),a.jsx("h3",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors line-clamp-1",children:o.name}),a.jsxs("p",{className:"text-brand-400 font-bold mt-1.5",children:["$",(h=o.price)==null?void 0:h.toFixed(2)]})]})]})})},o.id)})}),a.jsx("div",{className:"text-center mt-8 sm:hidden",children:a.jsxs(he,{to:"/shop",className:"btn-secondary inline-flex items-center gap-2",children:["Browse All Products ",a.jsx(ar,{size:14})]})})]}),a.jsx("section",{className:"bg-brand-500",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-black mb-3",children:"Feel Better, Naturally."}),a.jsx("p",{className:"text-black/70 max-w-xl mx-auto mb-8",children:"Whether you are winding down, gearing up, or just vibing, we have something for your moment. Lab-tested, farm-fresh quality."}),a.jsxs(he,{to:"/shop",className:"inline-flex items-center gap-2 bg-black text-white px-8 py-4 rounded-lg font-semibold hover:bg-gray-900 transition-colors",children:["Shop Now ",a.jsx(ar,{})]})]})}),a.jsxs("section",{id:"blog",className:"max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Couch Buddies Blog"}),a.jsx("p",{className:"text-gray-400 mt-3",children:"Helpful guides, product spotlights, and wellness tips."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:I3.map((o,l)=>a.jsxs(Se.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.08},className:"group rounded-2xl overflow-hidden bg-surface-800 border border-white/5 hover:border-white/15 transition-all cursor-pointer",children:[a.jsx("div",{className:"aspect-[16/10] overflow-hidden",children:a.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",referrerPolicy:"no-referrer"})}),a.jsxs("div",{className:"p-5",children:[a.jsx("p",{className:"text-[11px] text-gray-500 uppercase tracking-wider mb-2",children:o.date}),a.jsx("h3",{className:"font-semibold text-white group-hover:text-brand-400 transition-colors leading-snug mb-2",children:o.title}),a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed line-clamp-3",children:o.excerpt}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 text-brand-400 text-sm font-medium mt-4 group-hover:gap-2.5 transition-all",children:["Read More ",a.jsx(ar,{size:14})]})]})]},o.id))})]}),a.jsxs("section",{className:"max-w-3xl mx-auto px-4 sm:px-6 pb-16 sm:pb-20",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-10",children:"FAQs"}),a.jsx("div",{className:"space-y-3",children:R3.map((o,l)=>a.jsxs("div",{className:"glass-card !p-0 overflow-hidden",children:[a.jsxs("button",{onClick:()=>s(n===l?null:l),className:"w-full flex items-center justify-between p-5 text-left",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base pr-4",children:o.q}),a.jsx(k4,{className:`flex-shrink-0 text-gray-400 transition-transform ${n===l?"rotate-180":""}`,size:18})]}),n===l&&a.jsx("div",{className:"px-5 pb-5 -mt-1",children:a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:o.a})})]},l))})]}),a.jsx(Dn,{})]})}function D3(){const{products:t}=Ie(),[e]=DS(),[n,s]=E.useState(""),o=e.get("category")||"All",[l,u]=E.useState(o),[h,d]=E.useState("featured"),[m,p]=E.useState("grid"),g=e.get("category")||"All";g!==l&&g!==o&&u(g);const y=["All",...new Set(t.map(w=>w.category))],b=E.useMemo(()=>{let w=[...t];switch(l!=="All"&&(w=w.filter(S=>S.category===l)),n&&(w=w.filter(S=>{var C;return S.name.toLowerCase().includes(n.toLowerCase())||((C=S.description)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))})),h){case"price-low":w.sort((S,C)=>S.price-C.price);break;case"price-high":w.sort((S,C)=>C.price-S.price);break;case"newest":w.sort((S,C)=>new Date(C.createdAt)-new Date(S.createdAt));break;case"featured":w.sort((S,C)=>(C.featured?1:0)-(S.featured?1:0));break}return w},[t,l,n,h]);return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 pt-8 pb-16",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:l==="All"?"Shop All":l}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Browse our full collection of premium CBD & wellness products"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Kc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",placeholder:"Search products...",value:n,onChange:w=>s(w.target.value),className:"input-field pl-11 text-sm"})]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:y.map(w=>a.jsx("button",{onClick:()=>u(w),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${l===w?"bg-brand-500 text-black":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 border border-white/5"}`,children:w},w))})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("p",{className:"text-gray-500 text-sm",children:[b.length," products"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{value:h,onChange:w=>d(w.target.value),className:"input-field w-auto text-sm py-2 pr-8",children:[a.jsx("option",{value:"featured",children:"Featured"}),a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),a.jsxs("div",{className:"hidden sm:flex gap-1 bg-white/5 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded ${m==="grid"?"bg-white/10 text-white":"text-gray-500"}`,children:a.jsx(Yc,{size:16})}),a.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded ${m==="list"?"bg-white/10 text-white":"text-gray-500"}`,children:a.jsx(ab,{size:16})})]})]})]}),m==="grid"?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:b.map((w,S)=>{var C;return a.jsx(Se.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3,delay:S*.03},children:a.jsx(he,{to:`/product/${w.id}`,className:"group block",children:a.jsxs("div",{className:"glass-card p-0 overflow-hidden hover:border-brand-500/30 transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"aspect-square overflow-hidden bg-surface-800 relative",children:[a.jsx("img",{src:w.images[0],alt:w.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy",onError:T=>{T.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3ENo Image%3C/text%3E%3C/svg%3E'}}),w.featured&&a.jsx("span",{className:"absolute top-3 left-3 badge-brand",children:"Featured"}),w.stock<20&&a.jsx("span",{className:"absolute top-3 right-3 badge-danger",children:"Low Stock"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1",children:w.category}),a.jsx("h3",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors line-clamp-1",children:w.name}),a.jsxs("p",{className:"text-brand-400 font-bold mt-1.5",children:["$",(C=w.price)==null?void 0:C.toFixed(2)]})]})]})})},w.id)})}):a.jsx("div",{className:"space-y-3",children:b.map((w,S)=>{var C;return a.jsx(Se.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:S*.03},children:a.jsx(he,{to:`/product/${w.id}`,className:"group block",children:a.jsxs("div",{className:"glass-card p-0 overflow-hidden hover:border-brand-500/30 transition-all flex",children:[a.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 flex-shrink-0 overflow-hidden bg-surface-800",children:a.jsx("img",{src:w.images[0],alt:w.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:T=>{T.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-center",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:w.category}),a.jsx("h3",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors",children:w.name}),a.jsx("p",{className:"text-gray-400 text-xs line-clamp-2 mt-1",children:w.description}),a.jsxs("p",{className:"text-brand-400 font-bold mt-2",children:["$",(C=w.price)==null?void 0:C.toFixed(2)]})]})]})})},w.id)})}),b.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("p",{className:"text-gray-400 text-lg",children:"No products found"}),a.jsx("button",{onClick:()=>{s(""),u("All")},className:"btn-secondary mt-4 text-sm",children:"Clear Filters"})]})]}),a.jsx(Dn,{})]})}let M3={data:""},O3=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||M3},L3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,F3=/\/\*[^]*?\*\/|  +/g,Uv=/\n+/g,Es=(t,e)=>{let n="",s="",o="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":s+=l[1]=="f"?Es(u,l):l+"{"+Es(u,l[1]=="k"?"":e)+"}":typeof u=="object"?s+=Es(u,e?e.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Es.p?Es.p(l,u):l+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+s},qn={},X_=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+X_(t[n]);return e}return t},B3=(t,e,n,s,o)=>{let l=X_(t),u=qn[l]||(qn[l]=(d=>{let m=0,p=11;for(;m<d.length;)p=101*p+d.charCodeAt(m++)>>>0;return"go"+p})(l));if(!qn[u]){let d=l!==t?t:(m=>{let p,g,y=[{}];for(;p=L3.exec(m.replace(F3,""));)p[4]?y.shift():p[3]?(g=p[3].replace(Uv," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(Uv," ").trim();return y[0]})(t);qn[u]=Es(o?{["@keyframes "+u]:d}:d,n?"":"."+u)}let h=n&&qn.g?qn.g:null;return n&&(qn.g=qn[u]),((d,m,p,g)=>{g?m.data=m.data.replace(g,d):m.data.indexOf(d)===-1&&(m.data=p?d+m.data:m.data+d)})(qn[u],e,s,h),u},z3=(t,e,n)=>t.reduce((s,o,l)=>{let u=e[l];if(u&&u.call){let h=u(n),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=d?"."+d:h&&typeof h=="object"?h.props?"":Es(h,""):h===!1?"":h}return s+o+(u??"")},"");function eu(t){let e=this||{},n=t.call?t(e.p):t;return B3(n.unshift?n.raw?z3(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,O3(e.target),e.g,e.o,e.k)}let Z_,Lf,Ff;eu.bind({g:1});let ns=eu.bind({k:1});function V3(t,e,n,s){Es.p=e,Z_=t,Lf=n,Ff=s}function $s(t,e){let n=this||{};return function(){let s=arguments;function o(l,u){let h=Object.assign({},l),d=h.className||o.className;n.p=Object.assign({theme:Lf&&Lf()},h),n.o=/ *go\d+/.test(d),h.className=eu.apply(n,s)+(d?" "+d:"");let m=t;return t[0]&&(m=h.as||t,delete h.as),Ff&&m[0]&&Ff(h),Z_(m,h)}return o}}var U3=t=>typeof t=="function",kc=(t,e)=>U3(t)?t(e):t,W3=(()=>{let t=0;return()=>(++t).toString()})(),J_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$3=20,sp="default",eN=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:s}=e;return eN(t,{type:t.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...t,toasts:t.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},Kl=[],tN={toasts:[],pausedAt:void 0,settings:{toastLimit:$3}},Tn={},nN=(t,e=sp)=>{Tn[e]=eN(Tn[e]||tN,t),Kl.forEach(([n,s])=>{n===e&&s(Tn[e])})},sN=t=>Object.keys(Tn).forEach(e=>nN(t,e)),H3=t=>Object.keys(Tn).find(e=>Tn[e].toasts.some(n=>n.id===t)),tu=(t=sp)=>e=>{nN(e,t)},G3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y3=(t={},e=sp)=>{let[n,s]=E.useState(Tn[e]||tN),o=E.useRef(Tn[e]);E.useEffect(()=>(o.current!==Tn[e]&&s(Tn[e]),Kl.push([e,s]),()=>{let u=Kl.findIndex(([h])=>h===e);u>-1&&Kl.splice(u,1)}),[e]);let l=n.toasts.map(u=>{var h,d,m;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((h=t[u.type])==null?void 0:h.removeDelay)||(t==null?void 0:t.removeDelay),duration:u.duration||((d=t[u.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||G3[u.type],style:{...t.style,...(m=t[u.type])==null?void 0:m.style,...u.style}}});return{...n,toasts:l}},q3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||W3()}),va=t=>(e,n)=>{let s=q3(e,t,n);return tu(s.toasterId||H3(s.id))({type:2,toast:s}),s.id},ct=(t,e)=>va("blank")(t,e);ct.error=va("error");ct.success=va("success");ct.loading=va("loading");ct.custom=va("custom");ct.dismiss=(t,e)=>{let n={type:3,toastId:t};e?tu(e)(n):sN(n)};ct.dismissAll=t=>ct.dismiss(void 0,t);ct.remove=(t,e)=>{let n={type:4,toastId:t};e?tu(e)(n):sN(n)};ct.removeAll=t=>ct.remove(void 0,t);ct.promise=(t,e,n)=>{let s=ct.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let l=e.success?kc(e.success,o):void 0;return l?ct.success(l,{id:s,...n,...n==null?void 0:n.success}):ct.dismiss(s),o}).catch(o=>{let l=e.error?kc(e.error,o):void 0;l?ct.error(l,{id:s,...n,...n==null?void 0:n.error}):ct.dismiss(s)}),t};var K3=1e3,Q3=(t,e="default")=>{let{toasts:n,pausedAt:s}=Y3(t,e),o=E.useRef(new Map).current,l=E.useCallback((g,y=K3)=>{if(o.has(g))return;let b=setTimeout(()=>{o.delete(g),u({type:4,toastId:g})},y);o.set(g,b)},[]);E.useEffect(()=>{if(s)return;let g=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let w=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(w<0){b.visible&&ct.dismiss(b.id);return}return setTimeout(()=>ct.dismiss(b.id,e),w)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,s,e]);let u=E.useCallback(tu(e),[e]),h=E.useCallback(()=>{u({type:5,time:Date.now()})},[u]),d=E.useCallback((g,y)=>{u({type:1,toast:{id:g,height:y}})},[u]),m=E.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),p=E.useCallback((g,y)=>{let{reverseOrder:b=!1,gutter:w=8,defaultPosition:S}=y||{},C=n.filter(j=>(j.position||S)===(g.position||S)&&j.height),T=C.findIndex(j=>j.id===g.id),N=C.filter((j,D)=>D<T&&j.visible).length;return C.filter(j=>j.visible).slice(...b?[N+1]:[0,N]).reduce((j,D)=>j+(D.height||0)+w,0)},[n]);return E.useEffect(()=>{n.forEach(g=>{if(g.dismissed)l(g.id,g.removeDelay);else{let y=o.get(g.id);y&&(clearTimeout(y),o.delete(g.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:d,startPause:h,endPause:m,calculateOffset:p}}},X3=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Z3=ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J3=ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eM=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Z3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${J3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tM=ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nM=$s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${tM} 1s linear infinite;
`,sM=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rM=ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iM=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oM=$s("div")`
  position: absolute;
`,aM=$s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lM=ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cM=$s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uM=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?E.createElement(cM,null,e):e:n==="blank"?null:E.createElement(aM,null,E.createElement(nM,{...s}),n!=="loading"&&E.createElement(oM,null,n==="error"?E.createElement(eM,{...s}):E.createElement(iM,{...s})))},dM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,fM="0%{opacity:0;} 100%{opacity:1;}",mM="0%{opacity:1;} 100%{opacity:0;}",pM=$s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gM=$s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xM=(t,e)=>{let n=t.includes("top")?1:-1,[s,o]=J_()?[fM,mM]:[dM(n),hM(n)];return{animation:e?`${ns(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ns(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yM=E.memo(({toast:t,position:e,style:n,children:s})=>{let o=t.height?xM(t.position||e||"top-center",t.visible):{opacity:0},l=E.createElement(uM,{toast:t}),u=E.createElement(gM,{...t.ariaProps},kc(t.message,t));return E.createElement(pM,{className:t.className,style:{...o,...n,...t.style}},typeof s=="function"?s({icon:l,message:u}):E.createElement(E.Fragment,null,l,u))});V3(E.createElement);var vM=({id:t,className:e,style:n,onHeightUpdate:s,children:o})=>{let l=E.useCallback(u=>{if(u){let h=()=>{let d=u.getBoundingClientRect().height;s(t,d)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return E.createElement("div",{ref:l,className:e,style:n},o)},wM=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:J_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},bM=eu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fl=16,_M=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:m}=Q3(n,l);return E.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Fl,left:Fl,right:Fl,bottom:Fl,pointerEvents:"none",...u},className:h,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(p=>{let g=p.position||e,y=m.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),b=wM(g,y);return E.createElement(vM,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?bM:"",style:b},p.type==="custom"?kc(p.message,p):o?o(p):E.createElement(yM,{toast:p,position:g}))}))},re=ct;function NM(){var w,S;const{id:t}=aw(),e=Fn(),{products:n,addToCart:s}=Ie(),o=n.find(C=>C.id===t),[l,u]=E.useState(""),[h,d]=E.useState(""),[m,p]=E.useState(1),[g,y]=E.useState(!1);if(!o)return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-24 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),a.jsx(he,{to:"/shop",className:"btn-primary",children:"Back to Shop"})]})]});const b=()=>{var C,T,N,j;if(((C=o.sizes)==null?void 0:C.length)>1&&!l){re.error("Please select a size");return}if(((T=o.colors)==null?void 0:T.length)>1&&!h){re.error("Please select a flavor");return}s(o,m,l||((N=o.sizes)==null?void 0:N[0])||"",h||((j=o.colors)==null?void 0:j[0])||""),y(!0),re.success("Added to cart!"),setTimeout(()=>y(!1),2e3)};return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 pt-8 pb-16",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6 text-sm",children:[a.jsx(Gc,{size:14})," Back"]}),a.jsxs(Se.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"glass-card p-0 overflow-hidden",children:a.jsx("div",{className:"aspect-square bg-surface-800",children:a.jsx("img",{src:o.images[0],alt:o.name,className:"w-full h-full object-cover",onError:C=>{C.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600"%3E%3Crect fill="%23374151" width="600" height="600"/%3E%3Ctext x="50%25" y="50%25" font-size="32" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3EImage Unavailable%3C/text%3E%3C/svg%3E'}})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] text-gray-500 uppercase tracking-widest mb-2",children:o.category}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:o.name}),a.jsxs("p",{className:"text-3xl font-bold text-brand-400 mt-3",children:["$",o.price.toFixed(2)]})]}),a.jsx("p",{className:"text-gray-400 leading-relaxed",children:o.description}),((w=o.sizes)==null?void 0:w.length)>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-300 uppercase tracking-wider mb-2",children:"Size / Count"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map(C=>a.jsx("button",{onClick:()=>u(C),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${l===C?"bg-brand-500 text-black":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:C},C))})]}),((S=o.colors)==null?void 0:S.length)>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-300 uppercase tracking-wider mb-2",children:"Flavor"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.colors.map(C=>a.jsx("button",{onClick:()=>d(C),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${h===C?"bg-brand-500 text-black":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:C},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-300 uppercase tracking-wider mb-2",children:"Quantity"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>p(Math.max(1,m-1)),className:"w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10 transition-all",children:a.jsx(Cm,{size:16})}),a.jsx("span",{className:"w-12 text-center font-semibold text-lg",children:m}),a.jsx("button",{onClick:()=>p(Math.min(o.stock,m+1)),className:"w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10 transition-all",children:a.jsx(Vs,{size:16})})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:o.stock>20?a.jsxs("span",{className:"badge-success",children:["In Stock (",o.stock,")"]}):o.stock>0?a.jsxs("span",{className:"badge-warning",children:["Low Stock (",o.stock," left)"]}):a.jsx("span",{className:"badge-danger",children:"Out of Stock"})}),a.jsx("button",{onClick:b,disabled:o.stock===0,className:`w-full py-4 rounded-lg font-semibold text-lg flex items-center justify-center gap-2 transition-all ${g?"bg-emerald-500 text-white":"btn-primary"} disabled:opacity-50 disabled:cursor-not-allowed`,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Ls,{size:20})," Added!"]}):a.jsxs(a.Fragment,{children:[a.jsx(ea,{size:20})," Add to Cart"]})}),a.jsxs("div",{className:"flex gap-6 pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsx(nn,{size:16,className:"text-brand-400"})," Free shipping on $75+"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsx(yc,{size:16,className:"text-brand-400"})," Lab tested"]})]})]})]})]}),a.jsx(Dn,{})]})}const CM="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='%231a1a2e'%3E%3Crect width='100' height='100'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23555' font-family='sans-serif' font-size='12'%3E?%3C/text%3E%3C/svg%3E";function SM(){const{cart:t,updateCartItem:e,removeFromCart:n,clearCart:s}=Ie(),o=t.reduce((d,m)=>d+m.price*m.quantity,0),l=o>=75?0:7.99,u=o*.08,h=o+l+u;return t.length===0?a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-24 pb-16 text-center",children:a.jsxs("div",{className:"glass-card max-w-md mx-auto py-16",children:[a.jsx(mr,{size:48,className:"mx-auto text-gray-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Looks like you haven't picked any treats yet!"}),a.jsxs(he,{to:"/shop",className:"btn-primary inline-flex items-center gap-2",children:["Browse Treats ",a.jsx(ar,{})]})]})}),a.jsx(Dn,{})]}):a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 pt-24 pb-16",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Shopping Cart"}),a.jsx("button",{onClick:s,className:"text-sm text-gray-400 hover:text-red-400 transition-colors",children:"Clear all"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map((d,m)=>a.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},className:"glass-card p-0 overflow-hidden",children:a.jsxs("div",{className:"flex gap-4 p-4",children:[a.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-surface-800 flex-shrink-0",children:a.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer",onError:p=>{p.target.dataset.fallback||(p.target.dataset.fallback="1",p.target.src=CM)}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:d.name}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[d.size&&a.jsx("span",{className:"text-xs text-gray-500",children:d.size}),d.color&&a.jsx("span",{className:"text-xs text-gray-500",children:d.color})]}),a.jsxs("p",{className:"text-brand-400 font-bold mt-1",children:["$",d.price.toFixed(2)]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsx("button",{onClick:()=>n(d.id),className:"text-gray-500 hover:text-red-400 transition-colors p-1",children:a.jsx(ta,{size:16})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>e(d.id,d.quantity-1),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10",children:a.jsx(Cm,{size:14})}),a.jsx("span",{className:"w-8 text-center font-medium",children:d.quantity}),a.jsx("button",{onClick:()=>e(d.id,d.quantity+1),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10",children:a.jsx(Vs,{size:14})})]})]})]})},d.id))}),a.jsx("div",{children:a.jsxs("div",{className:"glass-card sticky top-24 space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Order Summary"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsxs("span",{children:["Subtotal (",t.reduce((d,m)=>d+m.quantity,0)," items)"]}),a.jsxs("span",{children:["$",o.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:l===0?a.jsx("span",{className:"text-emerald-400",children:"Free"}):`$${l.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",u.toFixed(2)]})]}),a.jsxs("div",{className:"border-t border-white/10 pt-3 flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-brand-400",children:["$",h.toFixed(2)]})]})]}),l>0&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Add $",(75-o).toFixed(2)," more for free shipping"]}),a.jsx(he,{to:"/checkout",className:"btn-primary w-full text-center block py-4",children:"Proceed to Checkout"}),a.jsx(he,{to:"/shop",className:"btn-secondary w-full text-center block",children:"Continue Shopping"})]})})]})]}),a.jsx(Dn,{})]})}const jM="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='%231a1a2e'%3E%3Crect width='100' height='100'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23555' font-family='sans-serif' font-size='12'%3E?%3C/text%3E%3C/svg%3E",Wv=[{id:"card",name:"Credit/Debit Card",icon:Ul,color:"text-blue-400"},{id:"cashapp",name:"CashApp",icon:jt,color:"text-green-400"},{id:"paypal",name:"PayPal",icon:jt,color:"text-blue-300"},{id:"zelle",name:"Zelle",icon:M4,color:"text-purple-400"},{id:"chime",name:"Chime",icon:jt,color:"text-emerald-400"},{id:"crypto",name:"Crypto (BTC/ETH)",icon:jt,color:"text-amber-400"}];function kM(){var T;const t=Fn(),{cart:e,currentUser:n,createOrder:s}=Ie(),[o,l]=E.useState(1),[u,h]=E.useState(""),[d,m]=E.useState("delivery"),[p,g]=E.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:"",address:"",city:"",state:"",zip:""}),y=e.reduce((N,j)=>N+j.price*j.quantity,0),b=d==="pickup"||y>=75?0:7.99,w=y*.08,S=y+b+w;if(e.length===0)return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-24 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Nothing to checkout"}),a.jsx(he,{to:"/shop",className:"btn-primary",children:"Go to Shop"})]})]});const C=()=>{if(o===1){if(!p.name||!p.email){re.error("Name and email are required");return}if(d==="delivery"&&(!p.address||!p.city||!p.zip)){re.error("Please fill in your delivery address");return}l(2)}else if(o===2){if(!u){re.error("Please select a payment method");return}l(3)}else{const N=s({customerId:(n==null?void 0:n.id)||"guest",customerName:p.name,customerEmail:p.email,customerPhone:p.phone,items:e.map(j=>({productId:j.productId,name:j.name,price:j.price,quantity:j.quantity,size:j.size,color:j.color,image:j.image})),subtotal:y,shipping:b,tax:w,total:S,paymentMethod:u,deliveryMethod:d,deliveryAddress:d==="delivery"?{address:p.address,city:p.city,state:p.state,zip:p.zip}:null});re.success("Order placed successfully!"),t(`/track/${N.id}`)}};return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 pt-24 pb-16",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),a.jsx("div",{className:"flex items-center gap-4 mb-10",children:["Details","Payment","Confirm"].map((N,j)=>a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all ${o>j+1?"bg-emerald-500 text-white":o===j+1?"gradient-brand text-white":"bg-white/10 text-gray-500"}`,children:o>j+1?a.jsx(Ls,{size:16}):j+1}),a.jsx("span",{className:`text-sm font-medium ${o>=j+1?"text-white":"text-gray-500"}`,children:N}),j<2&&a.jsx("div",{className:`flex-1 h-px ${o>j+1?"bg-emerald-500":"bg-white/10"}`})]},N))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[o===1&&a.jsxs("div",{className:"glass-card space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Details"}),a.jsx("div",{className:"flex gap-3",children:["delivery","pickup"].map(N=>a.jsx("button",{onClick:()=>m(N),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-all ${d===N?"gradient-brand text-white shadow-lg":"bg-white/5 border border-white/10 text-gray-400"}`,children:N==="delivery"?" Delivery":" Pickup"},N))}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Full Name *"}),a.jsx("input",{value:p.name,onChange:N=>g({...p,name:N.target.value}),className:"input-field",placeholder:"John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),a.jsx("input",{value:p.email,onChange:N=>g({...p,email:N.target.value}),className:"input-field",placeholder:"john@example.com",type:"email"})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),a.jsx("input",{value:p.phone,onChange:N=>g({...p,phone:N.target.value}),className:"input-field",placeholder:"555-0123"})]})]}),d==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Address *"}),a.jsx("input",{value:p.address,onChange:N=>g({...p,address:N.target.value}),className:"input-field",placeholder:"123 Main St"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"City *"}),a.jsx("input",{value:p.city,onChange:N=>g({...p,city:N.target.value}),className:"input-field",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"State"}),a.jsx("input",{value:p.state,onChange:N=>g({...p,state:N.target.value}),className:"input-field",placeholder:"CA"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ZIP *"}),a.jsx("input",{value:p.zip,onChange:N=>g({...p,zip:N.target.value}),className:"input-field",placeholder:"90210"})]})]})]})]}),o===2&&a.jsxs("div",{className:"glass-card space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Payment Method"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Wv.map(N=>a.jsxs("button",{onClick:()=>h(N.id),className:`flex items-center gap-3 p-4 rounded-xl transition-all text-left ${u===N.id?"gradient-brand text-white shadow-lg shadow-brand-500/25":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:[a.jsx(N.icon,{size:24,className:u===N.id?"text-white":N.color}),a.jsx("span",{className:"font-medium",children:N.name})]},N.id))}),u==="card"&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Card Number"}),a.jsx("input",{className:"input-field",placeholder:"4242 4242 4242 4242"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Expiry"}),a.jsx("input",{className:"input-field",placeholder:"MM/YY"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CVV"}),a.jsx("input",{className:"input-field",placeholder:"123"})]})]})]}),u&&u!=="card"&&a.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:a.jsxs("p",{className:"text-gray-400 text-sm",children:[u==="cashapp"&&"You will be redirected to CashApp to complete payment.",u==="paypal"&&"You will be redirected to PayPal to complete payment.",u==="zelle"&&"Payment details will be sent to your email for Zelle transfer.",u==="chime"&&"You will receive a Chime pay request to complete the transaction.",u==="crypto"&&"A wallet address will be provided for BTC or ETH payment."]})})]}),o===3&&a.jsxs("div",{className:"glass-card space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Order Confirmation"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[a.jsx("h3",{className:"font-medium text-sm text-gray-400 mb-2",children:"Delivery"}),a.jsx("p",{className:"text-white",children:p.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:p.email}),d==="delivery"&&a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[p.address,", ",p.city,", ",p.state," ",p.zip]}),d==="pickup"&&a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"In-Store Pickup"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[a.jsx("h3",{className:"font-medium text-sm text-gray-400 mb-2",children:"Payment"}),a.jsx("p",{className:"text-white capitalize",children:(T=Wv.find(N=>N.id===u))==null?void 0:T.name})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[a.jsxs("h3",{className:"font-medium text-sm text-gray-400 mb-2",children:["Items (",e.length,")"]}),e.map(N=>a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsxs("span",{className:"text-gray-300 text-sm",children:[N.name," x",N.quantity]}),a.jsxs("span",{className:"text-white text-sm",children:["$",(N.price*N.quantity).toFixed(2)]})]},N.id))]})]})]})]},o),a.jsxs("div",{className:"flex gap-3 mt-6",children:[o>1&&a.jsx("button",{onClick:()=>l(o-1),className:"btn-secondary",children:"Back"}),a.jsx("button",{onClick:C,className:"btn-primary flex-1",children:o===3?`Place Order  $${S.toFixed(2)}`:"Continue"})]})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsxs("div",{className:"glass-card sticky top-24 space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Summary"}),e.map(N=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-surface-800 flex-shrink-0",children:a.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer",onError:j=>{j.target.dataset.fallback||(j.target.dataset.fallback="1",j.target.src=jM)}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:N.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["x",N.quantity]})]}),a.jsxs("p",{className:"text-sm font-medium",children:["$",(N.price*N.quantity).toFixed(2)]})]},N.id)),a.jsxs("div",{className:"border-t border-white/10 pt-3 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",y.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:b===0?"Free":`$${b.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",w.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-white/10 pt-2",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-brand-400",children:["$",S.toFixed(2)]})]})]})]})})]})]}),a.jsx(Dn,{})]})}function EM(t){return de({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function TM(){var y;const t=Fn(),{loginAsCustomer:e,loginAsGuest:n,currentUser:s,userRole:o}=Ie(),[l,u]=E.useState("signin"),[h,d]=E.useState({name:"",email:"",password:""});if(s&&o==="customer")return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsx("div",{className:"max-w-md mx-auto px-4 pt-24 text-center",children:a.jsxs("div",{className:"glass-card py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full gradient-brand flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:((y=s.name)==null?void 0:y.charAt(0))||"G"}),a.jsxs("h2",{className:"text-xl font-bold mb-1",children:["Welcome, ",s.name||"Guest","!"]}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:s.email||"Guest account"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(he,{to:"/shop",className:"btn-primary",children:"Continue Shopping"}),!s.isGuest&&a.jsx(he,{to:"/orders",className:"btn-secondary",children:"View Orders"})]})]})}),a.jsx(Dn,{})]});const m=()=>{const b={id:"google-"+Date.now(),name:"Google User",email:"user@gmail.com",isGuest:!1,provider:"google",avatar:"GU"};e(b),re.success("Signed in with Google!"),t("/shop")},p=()=>{if(!h.email){re.error("Email is required");return}const b={id:"email-"+Date.now(),name:h.name||h.email.split("@")[0],email:h.email,isGuest:!1,provider:"email"};e(b),re.success(`Welcome, ${b.name}!`),t("/shop")},g=()=>{n(),re.success("Continuing as guest"),t("/shop")};return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsx("div",{className:"max-w-md mx-auto px-4 pt-24 pb-16",children:a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl gradient-brand flex items-center justify-center mx-auto mb-4 text-2xl",children:""}),a.jsx("h1",{className:"font-display text-2xl font-bold",children:"Welcome to Couch Buddies"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Sign in to track orders & earn sweet rewards"})]}),a.jsxs("div",{className:"glass-card space-y-5",children:[a.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center gap-3 px-6 py-3.5 rounded-xl bg-white text-gray-900 font-semibold hover:bg-gray-100 transition-all shadow-lg",children:[a.jsx(EM,{size:22}),"Continue with Google"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-px bg-white/10"}),a.jsx("span",{className:"text-sm text-gray-500",children:"or"}),a.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),l==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),a.jsx("input",{value:h.name,onChange:b=>d({...h,name:b.target.value}),className:"input-field",placeholder:"Your name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),a.jsx("input",{value:h.email,onChange:b=>d({...h,email:b.target.value}),className:"input-field",placeholder:"you@example.com",type:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),a.jsx("input",{value:h.password,onChange:b=>d({...h,password:b.target.value}),className:"input-field",placeholder:"",type:"password"})]}),a.jsx("button",{onClick:p,className:"btn-primary w-full",children:l==="signup"?"Create Account":"Sign In"}),a.jsx("button",{onClick:()=>u(l==="signin"?"signup":"signin"),className:"w-full text-center text-sm text-gray-400 hover:text-brand-400 transition-colors",children:l==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"}),a.jsxs("div",{className:"border-t border-white/10 pt-4",children:[a.jsxs("button",{onClick:g,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[a.jsx(An,{size:16})," Continue as Guest"]}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Guest accounts cannot track orders or earn rewards"})]})]})]})}),a.jsx(Dn,{})]})}function _n(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const rN=6048e5,PM=864e5;let IM={};function nu(){return IM}function aa(t,e){var h,d,m,p;const n=nu(),s=(e==null?void 0:e.weekStartsOn)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,o=_n(t),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function Ec(t){return aa(t,{weekStartsOn:1})}function iN(t){const e=_n(t),n=e.getFullYear(),s=wr(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Ec(s),l=wr(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Ec(l);return e.getTime()>=o.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function $v(t){const e=_n(t);return e.setHours(0,0,0,0),e}function Hv(t){const e=_n(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function RM(t,e){const n=$v(t),s=$v(e),o=+n-Hv(n),l=+s-Hv(s);return Math.round((o-l)/PM)}function AM(t){const e=iN(t),n=wr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ec(n)}function DM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function MM(t){if(!DM(t)&&typeof t!="number")return!1;const e=_n(t);return!isNaN(Number(e))}function OM(t){const e=_n(t),n=wr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const LM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FM=(t,e,n)=>{let s;const o=LM[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Oh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UM={date:Oh({formats:BM,defaultWidth:"full"}),time:Oh({formats:zM,defaultWidth:"full"}),dateTime:Oh({formats:VM,defaultWidth:"full"})},WM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$M=(t,e,n,s)=>WM[t];function bo(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):u;o=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const HM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XM=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ZM={ordinalNumber:XM,era:bo({values:HM,defaultWidth:"wide"}),quarter:bo({values:GM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bo({values:YM,defaultWidth:"wide"}),day:bo({values:qM,defaultWidth:"wide"}),dayPeriod:bo({values:KM,defaultWidth:"wide",formattingValues:QM,defaultFormattingWidth:"wide"})};function _o(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],h=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?eO(h,g=>g.test(u)):JM(h,g=>g.test(u));let m;m=t.valueCallback?t.valueCallback(d):d,m=n.valueCallback?n.valueCallback(m):m;const p=e.slice(u.length);return{value:m,rest:p}}}function JM(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tO(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}const nO=/^(\d+)(th|st|nd|rd)?/i,sO=/\d+/i,rO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iO={any:[/^b/i,/^(a|c)/i]},oO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aO={any:[/1/i,/2/i,/3/i,/4/i]},lO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mO={ordinalNumber:tO({matchPattern:nO,parsePattern:sO,valueCallback:t=>parseInt(t,10)}),era:_o({matchPatterns:rO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),quarter:_o({matchPatterns:oO,defaultMatchWidth:"wide",parsePatterns:aO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_o({matchPatterns:lO,defaultMatchWidth:"wide",parsePatterns:cO,defaultParseWidth:"any"}),day:_o({matchPatterns:uO,defaultMatchWidth:"wide",parsePatterns:dO,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:hO,defaultMatchWidth:"any",parsePatterns:fO,defaultParseWidth:"any"})},pO={code:"en-US",formatDistance:FM,formatLong:UM,formatRelative:$M,localize:ZM,match:mO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gO(t){const e=_n(t);return RM(e,OM(e))+1}function xO(t){const e=_n(t),n=+Ec(e)-+AM(e);return Math.round(n/rN)+1}function oN(t,e){var p,g,y,b;const n=_n(t),s=n.getFullYear(),o=nu(),l=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(y=o.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,u=wr(t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const h=aa(u,e),d=wr(t,0);d.setFullYear(s,0,l),d.setHours(0,0,0,0);const m=aa(d,e);return n.getTime()>=h.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function yO(t,e){var h,d,m,p;const n=nu(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=oN(t,e),l=wr(t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),aa(l,e)}function vO(t,e){const n=_n(t),s=+aa(n,e)-+yO(n,e);return Math.round(s/rN)+1}function De(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Ss={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return De(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):De(n+1,2)},d(t,e){return De(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return De(t.getHours()%12||12,e.length)},H(t,e){return De(t.getHours(),e.length)},m(t,e){return De(t.getMinutes(),e.length)},s(t,e){return De(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return De(o,e.length)}},Zr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gv={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Ss.y(t,e)},Y:function(t,e,n,s){const o=oN(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return De(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):De(l,e.length)},R:function(t,e){const n=iN(t);return De(n,e.length)},u:function(t,e){const n=t.getFullYear();return De(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return De(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return De(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Ss.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return De(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=vO(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):De(o,e.length)},I:function(t,e,n){const s=xO(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):De(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ss.d(t,e)},D:function(t,e,n){const s=gO(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):De(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return De(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return De(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return De(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Zr.noon:s===0?o=Zr.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Zr.evening:s>=12?o=Zr.afternoon:s>=4?o=Zr.morning:o=Zr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ss.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ss.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):De(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):De(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ss.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ss.s(t,e)},S:function(t,e){return Ss.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return qv(s);case"XXXX":case"XX":return cr(s);case"XXXXX":case"XXX":default:return cr(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return qv(s);case"xxxx":case"xx":return cr(s);case"xxxxx":case"xxx":default:return cr(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Yv(s,":");case"OOOO":default:return"GMT"+cr(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Yv(s,":");case"zzzz":default:return"GMT"+cr(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return De(s,e.length)},T:function(t,e,n){const s=t.getTime();return De(s,e.length)}};function Yv(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+De(l,2)}function qv(t,e){return t%60===0?(t>0?"-":"+")+De(Math.abs(t)/60,2):cr(t,e)}function cr(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=De(Math.trunc(s/60),2),l=De(s%60,2);return n+o+e+l}const Kv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wO=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Kv(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Kv(s,e)).replace("{{time}}",aN(o,e))},bO={p:aN,P:wO},_O=/^D+$/,NO=/^Y+$/,CO=["D","DD","YY","YYYY"];function SO(t){return _O.test(t)}function jO(t){return NO.test(t)}function kO(t,e,n){const s=EO(t,e,n);if(console.warn(s),CO.includes(t))throw new RangeError(s)}function EO(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IO=/^'([^]*?)'?$/,RO=/''/g,AO=/[a-zA-Z]/;function On(t,e,n){var p,g,y,b;const s=nu(),o=s.locale??pO,l=s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,u=s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,h=_n(t);if(!MM(h))throw new RangeError("Invalid time value");let d=e.match(PO).map(w=>{const S=w[0];if(S==="p"||S==="P"){const C=bO[S];return C(w,o.formatLong)}return w}).join("").match(TO).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:DO(w)};if(Gv[S])return{isToken:!0,value:w};if(S.match(AO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(d=o.localize.preprocessor(h,d));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return d.map(w=>{if(!w.isToken)return w.value;const S=w.value;(jO(S)||SO(S))&&kO(S,e,String(t));const C=Gv[S[0]];return C(h,S,o.localize,m)}).join("")}function DO(t){const e=t.match(IO);return e?e[1].replace(RO,"'"):t}const MO={pending:"badge-warning",confirmed:"badge-info",assigned:"badge-info","in-transit":"badge-brand","picked-up":"badge-brand",delivered:"badge-success",completed:"badge-success",cancelled:"badge-danger"},OO={pending:Qn,confirmed:Ls,assigned:nn,"in-transit":nn,delivered:Ls,completed:Ls};function LO(){const{orders:t,currentUser:e}=Ie(),n=t.filter(s=>s.customerId===(e==null?void 0:e.id)).sort((s,o)=>new Date(o.createdAt)-new Date(s.createdAt));return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 pt-24 pb-16",children:[a.jsx("h1",{className:"font-display text-3xl font-bold mb-2",children:"My Orders"}),a.jsx("p",{className:"text-gray-400 mb-8",children:"Track and manage your purchases"}),n.length===0?a.jsxs("div",{className:"glass-card text-center py-16",children:[a.jsx(vr,{size:48,className:"mx-auto text-gray-500 mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"No orders yet"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Your orders will appear here after you make a purchase."}),a.jsx(he,{to:"/shop",className:"btn-primary",children:"Start Shopping"})]}):a.jsx("div",{className:"space-y-4",children:n.map(s=>{const o=OO[s.status]||vr;return a.jsxs("div",{className:"glass-card hover:border-brand-500/20 transition-all",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center",children:a.jsx(o,{size:20,className:"text-brand-400"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold",children:s.id}),a.jsx("span",{className:MO[s.status]||"badge-info",children:s.status.replace("-"," ")})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:On(new Date(s.createdAt),"MMM dd, yyyy  h:mm a")}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.items.length," item",s.items.length>1?"s":"","  $",s.total.toFixed(2)]})]})]}),a.jsxs(he,{to:`/track/${s.id}`,className:"btn-secondary text-sm py-2 flex items-center gap-1.5",children:[a.jsx(T4,{size:14})," Track Order"]})]}),a.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/5 overflow-x-auto",children:s.items.map((l,u)=>a.jsx("div",{className:"w-14 h-14 rounded-lg overflow-hidden bg-surface-800 flex-shrink-0",children:a.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"})},u))})]},s.id)})})]}),a.jsx(Dn,{})]})}const Bl=["pending","confirmed","assigned","picked-up","in-transit","delivered"];function FO(){var u,h;const{orderId:t}=aw(),{orders:e,staff:n}=Ie(),s=e.find(d=>d.id===t);if(!s)return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 pt-24 text-center",children:[a.jsx(vr,{size:48,className:"mx-auto text-gray-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Order Not Found"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:['The order ID "',t,'" was not found.']}),a.jsx(he,{to:"/shop",className:"btn-primary",children:"Go to Shop"})]})]});const o=Bl.indexOf(s.status),l=s.driverId?n.find(d=>d.id===s.driverId):null;return a.jsxs("div",{className:"min-h-screen bg-surface-900",children:[a.jsx(Yt,{}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 pt-24 pb-16",children:[a.jsxs(he,{to:"/orders",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[a.jsx(Gc,{})," Back to Orders"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:["Order ",s.id]}),a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Placed ",On(new Date(s.createdAt),"MMMM dd, yyyy  h:mm a")]})]}),a.jsx("span",{className:`badge text-sm py-1.5 px-4 ${s.status==="delivered"||s.status==="completed"?"badge-success":s.status==="cancelled"?"badge-danger":"badge-brand"}`,children:s.status.replace("-"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.deliveryMethod==="delivery"&&a.jsxs("div",{className:"glass-card",children:[a.jsx("h3",{className:"font-semibold mb-6",children:"Delivery Progress"}),a.jsx("div",{className:"flex items-center justify-between mb-2",children:Bl.map((d,m)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${m<=o?"gradient-brand text-white":"bg-white/10 text-gray-500"}`,children:m<=o?a.jsx(Ls,{size:14}):m+1}),m<Bl.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-1 ${m<o?"bg-brand-500":"bg-white/10"}`})]},d))}),a.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Bl.map(d=>a.jsx("span",{className:"text-center capitalize",children:d.replace("-"," ")},d))})]}),l&&a.jsxs("div",{className:"glass-card",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Your Delivery Driver"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full gradient-brand flex items-center justify-center font-bold overflow-hidden",children:l.photoURL?a.jsx("img",{src:l.photoURL,alt:l.name,className:"w-full h-full object-cover"}):l.avatar||l.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.name}),a.jsx("p",{className:"text-sm text-gray-400",children:l.phone})]}),l.location&&a.jsxs("div",{className:"ml-auto flex items-center gap-1 text-sm text-emerald-400",children:[a.jsx(vn,{size:14})," Live tracking"]})]}),l.location&&a.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-surface-900 border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsx(vn,{size:14,className:"text-brand-400"}),a.jsxs("span",{children:["Driver Location: ",(u=l.location.lat)==null?void 0:u.toFixed(4),", ",(h=l.location.lng)==null?void 0:h.toFixed(4)]})]}),a.jsx("div",{className:"mt-3 h-48 rounded-xl bg-surface-800 flex items-center justify-center text-gray-500 text-sm border border-white/5",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vn,{size:32,className:"mx-auto mb-2 text-brand-400"}),"Map View",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"(Connect Google Maps API for live view)"})]})})]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Order Timeline"}),a.jsx("div",{className:"space-y-4",children:s.timeline.slice().reverse().map((d,m)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${m===0?"bg-brand-500":"bg-white/20"}`}),m<s.timeline.length-1&&a.jsx("div",{className:"w-0.5 flex-1 bg-white/10 mt-1"})]}),a.jsxs("div",{className:"pb-4",children:[a.jsx("p",{className:"font-medium text-sm capitalize",children:d.status.replace("-"," ")}),d.note&&a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:d.note}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:On(new Date(d.time),"MMM dd  h:mm a")})]})]},m))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glass-card",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Order Details"}),a.jsx("div",{className:"space-y-3",children:s.items.map((d,m)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-surface-800 flex-shrink-0",children:a.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:d.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["x",d.quantity,"  ",d.size]})]}),a.jsxs("p",{className:"text-sm font-medium",children:["$",(d.price*d.quantity).toFixed(2)]})]},m))}),a.jsxs("div",{className:"border-t border-white/10 mt-4 pt-3 space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",s.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:s.shipping===0?"Free":`$${s.shipping.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between text-gray-400",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",s.tax.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-white/10 pt-2",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-brand-400",children:["$",s.total.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"glass-card text-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Payment"}),a.jsx("p",{className:"text-gray-400 capitalize",children:s.paymentMethod}),a.jsx("h3",{className:"font-semibold mb-3 mt-4",children:"Delivery Method"}),a.jsx("p",{className:"text-gray-400 capitalize",children:s.deliveryMethod}),s.deliveryAddress&&a.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[s.deliveryAddress.address,", ",s.deliveryAddress.city,", ",s.deliveryAddress.state," ",s.deliveryAddress.zip]})]})]})]})]}),a.jsx(Dn,{})]})}function BO(){const[t,e]=E.useState(""),{loginAsOwner:n,currentUser:s,userRole:o}=Ie(),l=Fn();if(s&&o==="owner")return l("/owner"),null;const u=h=>{h.preventDefault(),n(t)?(re.success("Welcome, Owner!"),l("/owner")):re.error("Invalid PIN. Default: 1234")};return a.jsx("div",{className:"min-h-screen bg-surface-900 flex items-center justify-center p-4",children:a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[a.jsxs(he,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-8",children:[a.jsx(Gc,{})," Back to Store"]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 flex items-center justify-center mx-auto mb-4",children:a.jsx(Zo,{size:28})}),a.jsx("h1",{className:"font-display text-2xl font-bold",children:"Owner Portal"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Enter your PIN to access the management dashboard"})]}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Owner PIN"}),a.jsx("input",{type:"password",value:t,onChange:h=>e(h.target.value),className:"input-field text-center text-2xl tracking-[0.5em] font-mono",placeholder:"",maxLength:8,autoFocus:!0})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full py-4 text-lg",children:"Access Dashboard"})]}),a.jsx("p",{className:"text-xs text-gray-600 text-center mt-6",children:"Demo PIN: 1234"})]})]})})}const zO=[{to:"/owner",icon:Yc,label:"Dashboard",end:!0},{to:"/owner/products",icon:ob,label:"Products"},{to:"/owner/staff",icon:Sm,label:"Staff"},{to:"/owner/orders",icon:ea,label:"Orders"},{to:"/owner/treasury",icon:jt,label:"Treasury"},{to:"/owner/ledger",icon:P4,label:"Ledger"},{to:"/owner/profile",icon:D4,label:"Profile"}];function VO(){const{logout:t,ownerProfile:e}=Ie(),n=Fn(),[s,o]=E.useState(!1),l=()=>{t(),n("/")};return a.jsxs("div",{className:"min-h-screen bg-surface-900 flex",children:[a.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-black/40 border-r border-white/5 flex flex-col transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[a.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-brand-500 flex items-center justify-center font-bold text-sm text-black overflow-hidden",children:e!=null&&e.photoURL?a.jsx("img",{src:e.photoURL,alt:"Owner",className:"w-full h-full object-cover"}):"CB"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm",children:"Couch Buddies"}),a.jsx("p",{className:"text-[11px] text-brand-400 font-medium",children:"Owner Portal"})]})]}),a.jsx("button",{className:"lg:hidden text-gray-400 hover:text-white",onClick:()=>o(!1),children:a.jsx(es,{size:20})})]}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:zO.map(u=>a.jsxs(mw,{to:u.to,end:u.end,onClick:()=>o(!1),className:({isActive:h})=>`sidebar-link ${h?"active":""}`,children:[a.jsx(u.icon,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:u.label})]},u.to))}),a.jsx("div",{className:"p-4 border-t border-white/5",children:a.jsxs("button",{onClick:l,className:"sidebar-link w-full text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[a.jsx(cb,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:()=>o(!1)}),a.jsxs("main",{className:"flex-1 min-w-0",children:[a.jsxs("header",{className:"sticky top-0 z-30 h-14 bg-surface-900/80 backdrop-blur-md border-b border-white/5 flex items-center px-4 sm:px-6 gap-4",children:[a.jsx("button",{className:"lg:hidden text-gray-400 hover:text-white",onClick:()=>o(!0),children:a.jsx(Nm,{size:20})}),a.jsx("h2",{className:"font-semibold text-sm text-gray-300",children:"Management Dashboard"})]}),a.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:a.jsx(hw,{})})]})]})}function UO(){const{products:t,orders:e,staff:n,treasury:s,inStoreSales:o}=Ie(),l=e.reduce((b,w)=>b+(w.total||0),0)+o.filter(b=>b.status==="completed").reduce((b,w)=>b+(w.total||0),0),u=e.filter(b=>b.status==="pending"||b.status==="assigned").length,h=n.filter(b=>b.clockedIn).length,d=t.length,m=t.filter(b=>b.stock<20).length,p=[{label:"Treasury Balance",value:`$${s.balance.toLocaleString()}`,icon:jt,color:"from-emerald-500 to-emerald-700",change:"+12%"},{label:"Total Revenue",value:`$${l.toLocaleString()}`,icon:O4,color:"from-brand-500 to-brand-700",change:"+8%"},{label:"Active Orders",value:u,icon:ea,color:"from-blue-500 to-blue-700",change:`${e.length} total`},{label:"Staff On Duty",value:`${h}/${n.length}`,icon:Sm,color:"from-accent-500 to-accent-700",change:`${n.length} total`},{label:"Products",value:d,icon:ob,color:"from-amber-500 to-amber-700",change:`${m} low stock`}],g=[...e].sort((b,w)=>new Date(w.createdAt)-new Date(b.createdAt)).slice(0,5),y=[...s.transactions].sort((b,w)=>new Date(w.time)-new Date(b.time)).slice(0,5);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Dashboard Overview"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Welcome back! Here's what's happening today."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:p.map((b,w)=>a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},className:"glass-card hover:border-white/20 transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${b.color} flex items-center justify-center`,children:a.jsx(b.icon,{size:18})}),a.jsx("span",{className:"text-xs text-gray-500",children:b.change})]}),a.jsx("p",{className:"text-2xl font-bold",children:b.value}),a.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:b.label})]},b.label))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"glass-card",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx(ea,{size:18,className:"text-brand-400"})," Recent Orders"]}),g.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"No orders yet"}):a.jsx("div",{className:"space-y-3",children:g.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:b.id}),a.jsx("p",{className:"text-xs text-gray-400",children:b.customerName||"Guest"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold text-brand-400",children:["$",(b.total||0).toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${b.status==="delivered"?"badge-success":b.status==="pending"?"badge-warning":b.status==="assigned"?"badge-info":"badge-brand"}`,children:b.status})]})]},b.id))})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx(jt,{size:18,className:"text-emerald-400"})," Treasury Activity"]}),y.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"No transactions yet"}):a.jsx("div",{className:"space-y-3",children:y.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:b.note||b.type}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.time).toLocaleDateString()})]}),a.jsxs("p",{className:`text-sm font-semibold ${b.type==="deposit"||b.type==="sale"?"text-emerald-400":"text-red-400"}`,children:[b.type==="deposit"||b.type==="sale"?"+":"-","$",b.amount.toLocaleString()]})]},b.id))})]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx(Qn,{size:18,className:"text-accent-400"})," Staff Status"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(b=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold overflow-hidden ${b.clockedIn?"bg-emerald-500/20 text-emerald-400 ring-2 ring-emerald-500/30":"bg-gray-500/20 text-gray-400"}`,children:b.photoURL?a.jsx("img",{src:b.photoURL,alt:b.name,className:"w-full h-full object-cover"}):b.avatar||b.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:b.name}),a.jsx("p",{className:"text-xs text-gray-400",children:b.clockedIn?a.jsxs("span",{className:"text-emerald-400",children:[" ",b.clockType||b.role]}):a.jsx("span",{className:"text-gray-500",children:" Off duty"})})]})]},b.id))})]})]})}function WO(){var ie,xe;const{products:t,addProduct:e,updateProduct:n,deleteProduct:s}=Ie(),[o,l]=E.useState(""),[u,h]=E.useState("All"),[d,m]=E.useState(null),[p,g]=E.useState(!1),[y,b]=E.useState("grid"),[w,S]=E.useState(-1),C=["All",...new Set(t.map($=>$.category))],T=t.filter($=>{const le=$.name.toLowerCase().includes(o.toLowerCase())||$.category.toLowerCase().includes(o.toLowerCase()),ve=u==="All"||$.category===u;return le&&ve}),N={name:"",description:"",price:"",category:"Flowers",sizes:["S","M","L","XL"],colors:["Black"],stock:"",featured:!1,images:[""]},j=()=>{m({...N}),g(!0)},D=$=>{m({...$,price:String($.price),stock:String($.stock)}),g(!0)},L=()=>{m(null),g(!1)},W=$=>{$.preventDefault();const le={...d,price:parseFloat(d.price)||0,stock:parseInt(d.stock)||0,images:d.images.filter(ve=>ve.trim()!=="")};if(!le.name||!le.price){re.error("Name and price required");return}d.id?(n(d.id,le),re.success("Product updated!")):(e(le),re.success("Product added!")),L()},z=$=>{confirm("Delete this product?")&&(s($),re.success("Product deleted"))},F=$=>{const le=document.createElement("input");le.type="file",le.accept="image/*",le.onchange=async ve=>{const G=ve.target.files[0];if(G){if(!G.type.startsWith("image/")){re.error("Please select an image file");return}if(G.size>5*1024*1024){re.error("Image must be under 5 MB");return}S($);try{const pe=await X(G,800,.75),oe=[...d.images];oe[$]=pe,m({...d,images:oe}),re.success("Image uploaded!")}catch(pe){console.error("Product image processing failed:",pe),re.error("Failed to process image")}finally{S(-1)}}},le.click()};function X($,le=800,ve=.75){return new Promise((G,pe)=>{const oe=new FileReader;oe.onload=Y=>{const J=new Image;J.onload=()=>{const Q=document.createElement("canvas");let{width:R,height:B}=J;(R>le||B>le)&&(R>B?(B=Math.round(B*le/R),R=le):(R=Math.round(R*le/B),B=le)),Q.width=R,Q.height=B,Q.getContext("2d").drawImage(J,0,0,R,B),G(Q.toDataURL("image/jpeg",ve))},J.onerror=pe,J.src=Y.target.result},oe.onerror=pe,oe.readAsDataURL($)})}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Products"}),a.jsxs("p",{className:"text-gray-400 mt-1",children:[t.length," total products"]})]}),a.jsxs("button",{onClick:j,className:"btn-primary flex items-center gap-2 w-fit",children:[a.jsx(Vs,{size:18})," Add Product"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:$=>l($.target.value),className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:C.map($=>a.jsx("button",{onClick:()=>h($),className:`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${u===$?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:$},$))}),a.jsxs("div",{className:"flex gap-1 bg-white/5 rounded-xl p-1",children:[a.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-lg ${y==="grid"?"bg-white/10 text-white":"text-gray-400"}`,children:a.jsx(Yc,{size:18})}),a.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-lg ${y==="list"?"bg-white/10 text-white":"text-gray-400"}`,children:a.jsx(ab,{size:18})})]})]}),y==="grid"?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map($=>{var le;return a.jsxs(Se.div,{layout:!0,className:"glass-card p-0 overflow-hidden group",children:[a.jsxs("div",{className:"aspect-square bg-surface-800 relative overflow-hidden",children:[a.jsx("img",{src:((le=$.images)==null?void 0:le[0])||'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3ENo Image%3C/text%3E%3C/svg%3E',alt:$.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:ve=>{ve.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3EImage Error%3C/text%3E%3C/svg%3E'}}),$.featured&&a.jsx("span",{className:"absolute top-3 left-3 badge-brand text-xs",children:"Featured"}),a.jsxs("div",{className:"absolute top-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>D($),className:"p-2 rounded-lg bg-black/50 text-white hover:bg-black/70",children:a.jsx(Xo,{size:14})}),a.jsx("button",{onClick:()=>z($.id),className:"p-2 rounded-lg bg-black/50 text-red-400 hover:bg-black/70",children:a.jsx(ta,{size:14})})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:$.category}),a.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:$.name}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("p",{className:"text-brand-400 font-bold",children:["$",$.price.toFixed(2)]}),a.jsxs("span",{className:`text-xs ${$.stock<20?"text-red-400":"text-gray-400"}`,children:[$.stock," in stock"]})]})]})]},$.id)})}):a.jsx("div",{className:"glass-card p-0 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium",children:"Product"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium hidden sm:table-cell",children:"Category"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium",children:"Price"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium hidden sm:table-cell",children:"Stock"}),a.jsx("th",{className:"text-right p-4 text-xs text-gray-400 font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:T.map($=>{var le;return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:((le=$.images)==null?void 0:le[0])||"",alt:"",className:"w-10 h-10 rounded-lg object-cover bg-surface-800",onError:ve=>{ve.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"%3E%3Crect fill="%23374151" width="40" height="40"/%3E%3C/svg%3E'}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:$.name}),$.featured&&a.jsx("span",{className:"badge-brand text-xs mt-0.5",children:"Featured"})]})]})}),a.jsx("td",{className:"p-4 text-sm text-gray-400 hidden sm:table-cell",children:$.category}),a.jsxs("td",{className:"p-4 text-sm font-semibold text-brand-400",children:["$",$.price.toFixed(2)]}),a.jsx("td",{className:`p-4 text-sm hidden sm:table-cell ${$.stock<20?"text-red-400":"text-gray-400"}`,children:$.stock}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("button",{onClick:()=>D($),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white",children:a.jsx(Xo,{size:16})}),a.jsx("button",{onClick:()=>z($.id),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-red-400",children:a.jsx(ta,{size:16})})]})]},$.id)})})]})}),a.jsx(vi,{children:p&&d&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:L,children:a.jsxs(Se.div,{className:"modal-content max-w-2xl",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:$=>$.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:d.id?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:L,className:"p-2 rounded-lg hover:bg-white/10",children:a.jsx(es,{})})]}),a.jsxs("form",{onSubmit:W,className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Product Images"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.images.map(($,le)=>a.jsx("div",{className:"aspect-square rounded-xl border-2 border-dashed border-white/10 overflow-hidden relative group cursor-pointer hover:border-brand-500/50 transition-colors",onClick:()=>w===-1&&F(le),children:w===le?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-brand-400 bg-surface-800",children:[a.jsx(lb,{size:24,className:"animate-spin"}),a.jsx("span",{className:"text-xs mt-2 text-gray-400",children:"Uploading..."})]}):$?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:$,alt:"",className:"w-full h-full object-cover",onError:ve=>{ve.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"%3E%3Crect fill="%23374151" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="%239CA3AF" text-anchor="middle" dominant-baseline="middle" font-family="Arial"%3EImage Error%3C/text%3E%3C/svg%3E'}}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx(Ny,{size:20})})]}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500",children:[a.jsx(Ny,{size:24}),a.jsx("span",{className:"text-xs mt-1",children:"Upload"})]})},le)),d.images.length<4&&a.jsx("button",{type:"button",onClick:()=>m({...d,images:[...d.images,""]}),className:"aspect-square rounded-xl border-2 border-dashed border-white/10 flex items-center justify-center text-gray-500 hover:text-white hover:border-white/30 transition-colors",children:a.jsx(Vs,{size:24})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click to upload or paste URL below"}),a.jsx("input",{type:"url",placeholder:"Or paste image URL...",value:d.images[0]||"",onChange:$=>{const le=[...d.images];le[0]=$.target.value,m({...d,images:le})},className:"input-field mt-2 text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Product Name *"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:$=>m({...d,name:$.target.value}),className:"input-field",placeholder:"Classic Tee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),a.jsx("select",{value:d.category,onChange:$=>m({...d,category:$.target.value}),className:"input-field",children:["Flowers","Pens","EdIBLES","Merch"].map($=>a.jsx("option",{value:$,className:"bg-surface-800",children:$},$))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),a.jsx("textarea",{rows:3,value:d.description,onChange:$=>m({...d,description:$.target.value}),className:"input-field resize-none",placeholder:"Product description..."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price ($) *"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:d.price,onChange:$=>m({...d,price:$.target.value}),className:"input-field",placeholder:"29.99"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Stock"}),a.jsx("input",{type:"number",value:d.stock,onChange:$=>m({...d,stock:$.target.value}),className:"input-field",placeholder:"100"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.featured,onChange:$=>m({...d,featured:$.target.checked}),className:"w-5 h-5 rounded bg-white/5 border-white/20 text-brand-500 focus:ring-brand-500"}),a.jsx("span",{className:"text-sm",children:"Featured"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sizes (comma separated)"}),a.jsx("input",{type:"text",value:((ie=d.sizes)==null?void 0:ie.join(", "))||"",onChange:$=>m({...d,sizes:$.target.value.split(",").map(le=>le.trim()).filter(Boolean)}),className:"input-field",placeholder:"S, M, L, XL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Colors (comma separated)"}),a.jsx("input",{type:"text",value:((xe=d.colors)==null?void 0:xe.join(", "))||"",onChange:$=>m({...d,colors:$.target.value.split(",").map(le=>le.trim()).filter(Boolean)}),className:"input-field",placeholder:"Black, White"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[a.jsx(qc,{size:16})," ",d.id?"Save Changes":"Add Product"]}),a.jsx("button",{type:"button",onClick:L,className:"btn-secondary",children:"Cancel"})]})]})]})})})]})}function $O(){const{staff:t,addStaff:e,updateStaff:n,deleteStaff:s,payStaff:o,treasury:l}=Ie(),[u,h]=E.useState(!1),[d,m]=E.useState(!1),[p,g]=E.useState(null),[y,b]=E.useState(null),[w,S]=E.useState(""),[C,T]=E.useState(""),[N,j]=E.useState(""),[D,L]=E.useState("all"),W=t.filter(G=>{const pe=G.name.toLowerCase().includes(N.toLowerCase())||G.email.toLowerCase().includes(N.toLowerCase()),oe=D==="all"||G.role===D;return pe&&oe}),z={name:"",email:"",phone:"",role:"onsite",pin:"0000"},F=()=>{g({...z}),h(!0)},X=G=>{g({...G}),h(!0)},ie=()=>{g(null),h(!1)},xe=G=>{b(G),S(""),T(""),m(!0)},$=G=>{if(G.preventDefault(),!p.name||!p.email){re.error("Name and email required");return}if(p.id){const pe={...p};pe.name&&(pe.avatar=pe.name.split(" ").map(oe=>oe[0]).join("").toUpperCase()),n(p.id,pe),re.success("Staff updated!")}else e(p),re.success("Staff member added!");ie()},le=G=>{G.preventDefault();const pe=parseFloat(w);if(!pe||pe<=0){re.error("Enter a valid amount");return}if(pe>l.balance){re.error("Insufficient treasury funds");return}o(y.id,pe,C||`Payment to ${y.name}`),re.success(`$${pe.toFixed(2)} paid to ${y.name}`),m(!1)},ve=(G,pe)=>{confirm(`Remove ${pe} from staff?`)&&(s(G),re.success("Staff member removed"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Staff Management"}),a.jsxs("p",{className:"text-gray-400 mt-1",children:[t.length," team members  ",t.filter(G=>G.clockedIn).length," on duty"]})]}),a.jsxs("button",{onClick:F,className:"btn-primary flex items-center gap-2 w-fit",children:[a.jsx(Vs,{size:18})," Add Staff"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search staff...",value:N,onChange:G=>j(G.target.value),className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2",children:[["all","All"],["onsite","In-Store"],["delivery","Delivery"]].map(([G,pe])=>a.jsx("button",{onClick:()=>L(G),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${D===G?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:pe},G))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:W.map(G=>{var pe,oe;return a.jsxs(Se.div,{layout:!0,className:"glass-card hover:border-white/20 transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold overflow-hidden ${G.clockedIn?"bg-emerald-500/20 text-emerald-400 ring-2 ring-emerald-500/30":"bg-surface-700 text-gray-400"}`,children:G.photoURL?a.jsx("img",{src:G.photoURL,alt:G.name,className:"w-full h-full object-cover"}):G.avatar||G.name.split(" ").map(Y=>Y[0]).join("")}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:G.name}),a.jsx("p",{className:"text-xs text-gray-400",children:G.email})]})]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${G.role==="delivery"?"badge-info":"badge-brand"}`,children:G.role==="delivery"?" Delivery":" In-Store"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-white/5",children:[a.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:[a.jsx(Qn,{size:12})," Status"]}),a.jsx("p",{className:`text-sm font-medium mt-1 ${G.clockedIn?"text-emerald-400":"text-gray-500"}`,children:G.clockedIn?`Clocked In (${G.clockType||G.role})`:"Off Duty"})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-white/5",children:[a.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:[a.jsx(jt,{size:12})," Wallet"]}),a.jsxs("p",{className:"text-sm font-semibold mt-1 text-emerald-400",children:["$",G.wallet.balance.toFixed(2)]})]})]}),G.clockedIn&&G.location&&a.jsxs("div",{className:"p-3 rounded-xl bg-white/5 mb-4 flex items-center gap-2",children:[a.jsx(vn,{size:14,className:"text-brand-400 shrink-0"}),a.jsxs("p",{className:"text-xs text-gray-400 truncate",children:[(pe=G.location.lat)==null?void 0:pe.toFixed(4),", ",(oe=G.location.lng)==null?void 0:oe.toFixed(4)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>xe(G),className:"flex-1 btn-success py-2 text-sm flex items-center justify-center gap-1",children:[a.jsx(jt,{size:14})," Pay"]}),a.jsx("button",{onClick:()=>X(G),className:"p-2 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(Xo,{size:16})}),a.jsx("button",{onClick:()=>ve(G.id,G.name),className:"p-2 rounded-xl bg-white/10 hover:bg-red-500/20 text-gray-400 hover:text-red-400 transition-colors",children:a.jsx(ta,{size:16})})]})]},G.id)})}),a.jsx(vi,{children:u&&p&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ie,children:a.jsxs(Se.div,{className:"modal-content",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:G=>G.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:p.id?"Edit Staff":"Add Staff Member"}),a.jsx("button",{onClick:ie,className:"p-2 rounded-lg hover:bg-white/10",children:a.jsx(es,{})})]}),a.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",required:!0,value:p.name,onChange:G=>g({...p,name:G.target.value}),className:"input-field",placeholder:"John Doe"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),a.jsx("input",{type:"email",required:!0,value:p.email,onChange:G=>g({...p,email:G.target.value}),className:"input-field",placeholder:"john@couchbuddies.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:p.phone,onChange:G=>g({...p,phone:G.target.value}),className:"input-field",placeholder:"555-0100"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),a.jsxs("select",{value:p.role,onChange:G=>g({...p,role:G.target.value}),className:"input-field",children:[a.jsx("option",{value:"onsite",className:"bg-surface-800",children:"In-Store"}),a.jsx("option",{value:"delivery",className:"bg-surface-800",children:"Delivery"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Login PIN"}),a.jsx("input",{type:"text",maxLength:4,value:p.pin,onChange:G=>g({...p,pin:G.target.value}),className:"input-field font-mono",placeholder:"0000"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[a.jsx(qc,{size:16})," ",p.id?"Save Changes":"Add Staff"]}),a.jsx("button",{type:"button",onClick:ie,className:"btn-secondary",children:"Cancel"})]})]})]})})}),a.jsx(vi,{children:d&&y&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),children:a.jsxs(Se.div,{className:"modal-content max-w-md",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:G=>G.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:"Pay Staff"}),a.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-lg hover:bg-white/10",children:a.jsx(es,{})})]}),a.jsxs("form",{onSubmit:le,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-accent-500/20 text-accent-400 flex items-center justify-center font-bold text-sm overflow-hidden",children:y.photoURL?a.jsx("img",{src:y.photoURL,alt:y.name,className:"w-full h-full object-cover"}):y.avatar||y.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:y.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Current balance: $",y.wallet.balance.toFixed(2)]})]})]}),a.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:["Treasury Balance: $",l.balance.toLocaleString()]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",value:w,onChange:G=>S(G.target.value),className:"input-field text-2xl font-bold",placeholder:"0.00",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Note"}),a.jsx("input",{type:"text",value:C,onChange:G=>T(G.target.value),className:"input-field",placeholder:"Weekly pay, bonus, etc."})]}),a.jsxs("button",{type:"submit",className:"btn-success w-full py-3 flex items-center justify-center gap-2",children:[a.jsx(jt,{size:18})," Send Payment"]})]})]})})})]})}const Qv=["pending","assigned","picked-up","in-transit","delivered","cancelled"],HO={pending:"badge-warning",assigned:"badge-info","picked-up":"badge-brand","in-transit":"badge-info",delivered:"badge-success",cancelled:"badge-danger"};function GO(){const{orders:t,staff:e,updateOrderStatus:n,assignDriver:s}=Ie(),[o,l]=E.useState(""),[u,h]=E.useState("all"),[d,m]=E.useState(null),p=e.filter(w=>w.role==="delivery"),g=t.filter(w=>{const S=w.id.toLowerCase().includes(o.toLowerCase())||(w.customerName||"").toLowerCase().includes(o.toLowerCase()),C=u==="all"||w.status===u;return S&&C}).sort((w,S)=>new Date(S.createdAt)-new Date(w.createdAt)),y=(w,S)=>{n(w,S,`Status changed to ${S}`),re.success(`Order ${w}  ${S}`)},b=(w,S)=>{s(w,S),re.success("Driver assigned!")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Orders"}),a.jsxs("p",{className:"text-gray-400 mt-1",children:[t.length," total orders"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Pending",count:t.filter(w=>w.status==="pending").length,color:"text-amber-400"},{label:"In Transit",count:t.filter(w=>w.status==="in-transit"||w.status==="assigned").length,color:"text-blue-400"},{label:"Delivered",count:t.filter(w=>w.status==="delivered").length,color:"text-emerald-400"},{label:"Cancelled",count:t.filter(w=>w.status==="cancelled").length,color:"text-red-400"}].map(w=>a.jsxs("div",{className:"glass-card text-center",children:[a.jsx("p",{className:`text-2xl font-bold ${w.color}`,children:w.count}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:w.label})]},w.label))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by order ID or customer...",value:o,onChange:w=>l(w.target.value),className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:["all",...Qv].map(w=>a.jsx("button",{onClick:()=>h(w),className:`px-3 py-2 rounded-xl text-xs font-medium whitespace-nowrap transition-all ${u===w?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:w==="all"?"All":w.charAt(0).toUpperCase()+w.slice(1)},w))})]}),g.length===0?a.jsxs("div",{className:"glass-card text-center py-16",children:[a.jsx(vr,{size:40,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-gray-400",children:"No orders found"})]}):a.jsx("div",{className:"space-y-4",children:g.map(w=>{var S,C;return a.jsxs(Se.div,{layout:!0,className:"glass-card hover:border-white/20 transition-all",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:w.id}),a.jsx("span",{className:HO[w.status]||"badge-info",children:w.status})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(An,{size:12})," ",w.customerName||"Guest"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qn,{size:12})," ",On(new Date(w.createdAt),"MMM d, h:mm a")]}),w.delivery==="delivery"&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(nn,{size:12})," Delivery"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-bold text-brand-400",children:["$",(w.total||0).toFixed(2)]}),a.jsxs("p",{className:"text-xs text-gray-400",children:[((S=w.items)==null?void 0:S.length)||0," items"]})]})]}),w.items&&a.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-1",children:[w.items.slice(0,4).map((T,N)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 shrink-0",children:[T.image&&a.jsx("img",{src:T.image,alt:"",className:"w-8 h-8 rounded object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium line-clamp-1",children:T.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["x",T.quantity]})]})]},N)),(((C=w.items)==null?void 0:C.length)||0)>4&&a.jsxs("span",{className:"text-xs text-gray-400 self-center px-2",children:["+",w.items.length-4," more"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-3 border-t border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Status:"}),a.jsx("select",{value:w.status,onChange:T=>y(w.id,T.target.value),className:"input-field py-1.5 px-3 text-sm w-auto",children:Qv.map(T=>a.jsx("option",{value:T,className:"bg-surface-800",children:T},T))})]}),w.delivery==="delivery"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Driver:"}),a.jsxs("select",{value:w.driverId||"",onChange:T=>b(w.id,T.target.value),className:"input-field py-1.5 px-3 text-sm w-auto",children:[a.jsx("option",{value:"",className:"bg-surface-800",children:"Assign driver..."}),p.map(T=>a.jsxs("option",{value:T.id,className:"bg-surface-800",children:[T.name," ",T.clockedIn?"(on duty)":""]},T.id))]})]}),w.shippingAddress&&a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 ml-auto",children:[a.jsx(vn,{size:12}),a.jsx("span",{className:"truncate max-w-[200px]",children:w.shippingAddress})]})]}),d===w.id&&w.timeline&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Order Timeline"}),a.jsx("div",{className:"space-y-2",children:w.timeline.map((T,N)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-400 mt-1.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",children:T.note||T.status}),a.jsx("p",{className:"text-xs text-gray-500",children:On(new Date(T.time),"MMM d, h:mm a")})]})]},N))})]}),a.jsx("button",{onClick:()=>m(d===w.id?null:w.id),className:"text-xs text-brand-400 hover:text-brand-300 mt-3 transition-colors",children:d===w.id?"Hide Timeline":"View Timeline"})]},w.id)})})]})}function YO(){const{treasury:t,addTreasuryAccount:e,removeTreasuryAccount:n,addTreasuryFunds:s}=Ie(),[o,l]=E.useState(!1),[u,h]=E.useState(!1),[d,m]=E.useState({name:"",type:"bank",last4:""}),[p,g]=E.useState(""),[y,b]=E.useState(""),w=N=>{if(N.preventDefault(),!d.name||!d.last4){re.error("Fill all fields");return}e(d),re.success("Account connected!"),l(!1),m({name:"",type:"bank",last4:""})},S=N=>{N.preventDefault();const j=parseFloat(p);if(!j||j<=0){re.error("Enter valid amount");return}s(j,y||"Manual deposit"),re.success(`$${j.toFixed(2)} added to treasury`),h(!1),g(""),b("")},C=(N,j)=>{confirm(`Disconnect ${j}?`)&&(n(N),re.success("Account disconnected"))},T=[...t.transactions].sort((N,j)=>new Date(j.time)-new Date(N.time)).slice(0,10);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Treasury Wallet"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your business funds and connected accounts"})]}),a.jsxs("div",{className:"glass-card glow-brand relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Available Balance"}),a.jsxs("p",{className:"text-4xl sm:text-5xl font-bold font-display",children:["$",t.balance.toLocaleString("en-US",{minimumFractionDigits:2})]}),a.jsx("div",{className:"flex gap-3 mt-6",children:a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(Vs,{size:16})," Add Funds"]})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:"Connected Accounts"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-sm py-2 flex items-center gap-1.5",children:[a.jsx(Vs,{size:14})," Add Account"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.accounts.map(N=>a.jsxs(Se.div,{layout:!0,className:"glass-card flex items-center gap-4 hover:border-white/20 transition-all",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${N.type==="bank"?"bg-blue-500/20 text-blue-400":"bg-emerald-500/20 text-emerald-400"}`,children:a.jsx(Ul,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:N.name}),a.jsxs("p",{className:"text-sm text-gray-400",children:[N.type==="bank"?"Bank Account":"Debit Card","  ",N.last4]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"badge-success flex items-center gap-1",children:[a.jsx(yc,{size:10})," Connected"]}),a.jsx("button",{onClick:()=>C(N.id,N.name),className:"p-2 rounded-lg hover:bg-red-500/20 text-gray-400 hover:text-red-400 transition-colors",children:a.jsx(ta,{size:14})})]})]},N.id)),t.accounts.length===0&&a.jsxs("div",{className:"glass-card col-span-full text-center py-12",children:[a.jsx(Ul,{size:32,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No accounts connected yet"}),a.jsx("button",{onClick:()=>l(!0),className:"btn-primary text-sm mt-4",children:"Connect First Account"})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-display text-xl font-bold mb-4",children:"Recent Transactions"}),a.jsx("div",{className:"glass-card p-0",children:T.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jt,{size:32,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No transactions yet"})]}):a.jsx("div",{className:"divide-y divide-white/5",children:T.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N.type==="deposit"||N.type==="sale"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:a.jsx(ib,{size:18,className:N.type==="staff-payment"?"rotate-180":""})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:N.note||N.type}),a.jsxs("p",{className:"text-xs text-gray-500",children:[N.from||N.to||"","  ",new Date(N.time).toLocaleDateString()]})]})]}),a.jsxs("p",{className:`text-sm font-bold ${N.type==="deposit"||N.type==="sale"?"text-emerald-400":"text-red-400"}`,children:[N.type==="deposit"||N.type==="sale"?"+":"-","$",N.amount.toLocaleString()]})]},N.id))})})]}),a.jsx(vi,{children:o&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),children:a.jsxs(Se.div,{className:"modal-content max-w-md",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:"Connect Account"}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-lg hover:bg-white/10",children:a.jsx(es,{})})]}),a.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Account Name"}),a.jsx("input",{type:"text",value:d.name,onChange:N=>m({...d,name:N.target.value}),className:"input-field",placeholder:"My Business Checking"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Account Type"}),a.jsxs("select",{value:d.type,onChange:N=>m({...d,type:N.target.value}),className:"input-field",children:[a.jsx("option",{value:"bank",className:"bg-surface-800",children:"Bank Account"}),a.jsx("option",{value:"debit",className:"bg-surface-800",children:"Debit Card"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last 4 Digits"}),a.jsx("input",{type:"text",maxLength:4,value:d.last4,onChange:N=>m({...d,last4:N.target.value.replace(/\D/g,"")}),className:"input-field font-mono",placeholder:"1234"})]}),a.jsxs("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(Ul,{size:16})," Connect Account"]})]})]})})}),a.jsx(vi,{children:u&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),children:a.jsxs(Se.div,{className:"modal-content max-w-md",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"font-display text-xl font-bold",children:"Add Funds"}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-white/10",children:a.jsx(es,{})})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p,onChange:N=>g(N.target.value),className:"input-field text-3xl font-bold text-center",placeholder:"0.00",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Note"}),a.jsx("input",{type:"text",value:y,onChange:N=>b(N.target.value),className:"input-field",placeholder:"e.g. Bank transfer"})]}),a.jsxs("button",{type:"submit",className:"btn-success w-full py-3 flex items-center justify-center gap-2",children:[a.jsx(jt,{size:18})," Add Funds"]})]})]})})})]})}function qO(){const{treasury:t,staff:e,orders:n,inStoreSales:s}=Ie(),[o,l]=E.useState("all"),u=[...t.transactions.map(g=>({...g,source:"Treasury"})),...e.flatMap(g=>g.wallet.transactions.map(y=>({...y,source:`Staff: ${g.name}`,direction:"out"})))].sort((g,y)=>new Date(y.time)-new Date(g.time)),h=o==="all"?u:u.filter(g=>o==="income"?g.type==="deposit"||g.type==="sale":o==="payments"?g.type==="staff-payment"||g.type==="payment":!0),d=u.filter(g=>g.type==="deposit"||g.type==="sale").reduce((g,y)=>g+y.amount,0),m=u.filter(g=>g.type==="staff-payment").reduce((g,y)=>g+y.amount,0),p=n.reduce((g,y)=>g+(y.total||0),0);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Financial Ledger"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Complete transaction history and financial overview"})]}),a.jsxs("button",{className:"btn-secondary flex items-center gap-2 w-fit text-sm",children:[a.jsx(E4,{size:16})," Export CSV"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center",children:a.jsx(jt,{size:18})}),a.jsx("span",{className:"text-sm text-gray-400",children:"Treasury"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:["$",t.balance.toLocaleString()]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 text-blue-400 flex items-center justify-center",children:a.jsx(hf,{size:18})}),a.jsx("span",{className:"text-sm text-gray-400",children:"Total Income"})]}),a.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:["+$",d.toLocaleString()]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 text-red-400 flex items-center justify-center",children:a.jsx(ib,{size:18})}),a.jsx("span",{className:"text-sm text-gray-400",children:"Staff Payments"})]}),a.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["-$",m.toLocaleString()]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-brand-500/20 text-brand-400 flex items-center justify-center",children:a.jsx(hf,{size:18})}),a.jsx("span",{className:"text-sm text-gray-400",children:"Order Revenue"})]}),a.jsxs("p",{className:"text-2xl font-bold text-brand-400",children:["$",p.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(I4,{size:18,className:"text-gray-400 self-center"}),[["all","All"],["income","Income"],["payments","Payments"]].map(([g,y])=>a.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${o===g?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:y},g))]}),a.jsx("div",{className:"glass-card p-0 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium",children:"Date"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium",children:"Description"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium hidden sm:table-cell",children:"Source"}),a.jsx("th",{className:"text-left p-4 text-xs text-gray-400 font-medium hidden md:table-cell",children:"Type"}),a.jsx("th",{className:"text-right p-4 text-xs text-gray-400 font-medium",children:"Amount"})]})}),a.jsx("tbody",{children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No transactions found"})}):h.map(g=>{const y=g.type==="deposit"||g.type==="sale";return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"p-4 text-sm text-gray-400 whitespace-nowrap",children:On(new Date(g.time),"MMM d, yyyy")}),a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"text-sm font-medium",children:g.note||g.type}),g.to&&a.jsxs("p",{className:"text-xs text-gray-500",children:["To: ",g.to]}),g.from&&a.jsxs("p",{className:"text-xs text-gray-500",children:["From: ",g.from]})]}),a.jsx("td",{className:"p-4 text-sm text-gray-400 hidden sm:table-cell",children:g.source}),a.jsx("td",{className:"p-4 hidden md:table-cell",children:a.jsx("span",{className:`badge ${y?"badge-success":"badge-danger"}`,children:g.type})}),a.jsxs("td",{className:`p-4 text-right text-sm font-bold ${y?"text-emerald-400":"text-red-400"}`,children:[y?"+":"-","$",g.amount.toLocaleString()]})]},g.id+g.source)})})]})})]})}function lN({currentPhotoURL:t,fallbackInitials:e="?",storagePath:n,onUploadComplete:s,gradientClass:o="from-brand-500 to-brand-700",editable:l=!1,size:u="lg"}){const[h,d]=E.useState(!1),m=E.useRef(null),p={sm:"w-10 h-10 text-sm",md:"w-12 h-12 text-base",lg:"w-20 h-20 text-2xl"},g=async y=>{var w;const b=(w=y.target.files)==null?void 0:w[0];if(b){if(!b.type.startsWith("image/")){re.error("Please select an image file");return}if(b.size>5*1024*1024){re.error("Image must be under 5MB");return}d(!0);try{const S=new FileReader;S.onload=C=>{const T=C.target.result;s(T),re.success("Photo updated!"),d(!1)},S.onerror=()=>{re.error("Failed to read file"),d(!1)},S.readAsDataURL(b)}catch(S){console.error("Upload failed:",S),re.error("Failed to process photo. Please try again."),d(!1)}finally{m.current&&(m.current.value="")}}};return a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:`${p[u]} rounded-2xl overflow-hidden flex items-center justify-center font-bold bg-gradient-to-br ${o} ${l?"cursor-pointer":""}`,onClick:()=>{var y;return l&&((y=m.current)==null?void 0:y.click())},children:[t?a.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.target.style.display="none"}}):a.jsx("span",{children:e}),l&&!h&&a.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:a.jsx(j4,{size:u==="lg"?24:16,className:"text-white"})}),h&&a.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-2xl flex items-center justify-center",children:a.jsx(lb,{size:u==="lg"?24:16,className:"text-white animate-spin"})})]}),l&&a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:g,className:"hidden"}),l&&a.jsx("p",{className:"text-xs text-gray-500 text-center mt-1.5",children:h?"Uploading...":"Click to change"})]})}function KO(){const{ownerProfile:t,updateOwnerProfile:e}=Ie(),[n,s]=E.useState(!1),[o,l]=E.useState({...t}),[u,h]=E.useState(!1);E.useEffect(()=>{n||l({...t})},[t,n]);const d=(g,y)=>{l(b=>({...b,[g]:y}))},m=g=>{var y,b,w,S,C;if(g.preventDefault(),!((y=o.name)!=null&&y.trim())){re.error("Name is required");return}if(!((b=o.email)!=null&&b.trim())){re.error("Email is required");return}if(!o.pin||o.pin.length<4){re.error("PIN must be at least 4 characters");return}e({name:o.name.trim(),email:o.email.trim(),phone:((w=o.phone)==null?void 0:w.trim())||"",businessName:((S=o.businessName)==null?void 0:S.trim())||"",businessAddress:((C=o.businessAddress)==null?void 0:C.trim())||"",pin:o.pin}),re.success("Profile updated successfully!"),s(!1)},p=()=>{l({...t}),s(!1)};return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"Owner Profile"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your account settings and business info"})]}),!n&&a.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(Xo,{size:16})," Edit Profile"]})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-6 border-b border-white/10",children:[a.jsx(lN,{currentPhotoURL:t.photoURL,fallbackInitials:t.avatar||"CB",storagePath:`owner-${t.id||"1"}`,onUploadComplete:g=>e({photoURL:g}),gradientClass:"from-brand-500 to-brand-700",editable:!0,size:"lg"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:t.name}),a.jsx("p",{className:"text-sm text-accent-400",children:t.businessName||"Couch Buddies"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Profile synced across all devices"})]})]}),n?a.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(An,{size:14})," Full Name"]}),a.jsx("input",{type:"text",value:o.name||"",onChange:g=>d("name",g.target.value),className:"input-field",placeholder:"Your name"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(Jo,{size:14})," Email"]}),a.jsx("input",{type:"email",value:o.email||"",onChange:g=>d("email",g.target.value),className:"input-field",placeholder:"owner@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(xi,{size:14})," Phone"]}),a.jsx("input",{type:"tel",value:o.phone||"",onChange:g=>d("phone",g.target.value),className:"input-field",placeholder:"555-0100"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Business Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(_y,{size:14})," Business Name"]}),a.jsx("input",{type:"text",value:o.businessName||"",onChange:g=>d("businessName",g.target.value),className:"input-field",placeholder:"Couch Buddies"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(vn,{size:14})," Business Address"]}),a.jsx("input",{type:"text",value:o.businessAddress||"",onChange:g=>d("businessAddress",g.target.value),className:"input-field",placeholder:"123 Main St, City, State"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Security"}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(Zo,{size:14})," Login PIN"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:u?"text":"password",value:o.pin||"",onChange:g=>d("pin",g.target.value),className:"input-field font-mono tracking-widest pr-20",placeholder:"",maxLength:8}),a.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500 hover:text-gray-300 transition-colors",children:u?"Hide":"Show"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This PIN is used to log in to the Owner Portal"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[a.jsx(qc,{size:16})," Save Changes"]}),a.jsx("button",{type:"button",onClick:p,className:"btn-ghost",children:"Cancel"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Jr,{icon:An,label:"Name",value:t.name}),a.jsx(Jr,{icon:Jo,label:"Email",value:t.email}),a.jsx(Jr,{icon:xi,label:"Phone",value:t.phone||""})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Business Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Jr,{icon:_y,label:"Business Name",value:t.businessName||""}),a.jsx(Jr,{icon:vn,label:"Address",value:t.businessAddress||""})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Security"}),a.jsx(Jr,{icon:Zo,label:"Login PIN",value:""})]})]})]})]})}function Jr({icon:t,label:e,value:n}){return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/5",children:[a.jsx(t,{size:16,className:"text-gray-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:e}),a.jsx("p",{className:"text-sm font-medium mt-0.5",children:n})]})]})}function QO(){const{staff:t,loginAsStaff:e,currentUser:n,userRole:s}=Ie(),[o,l]=E.useState(""),[u,h]=E.useState(""),d=Fn();if(n&&s==="staff")return d("/staff"),null;const m=p=>{if(p.preventDefault(),!o){re.error("Select your name");return}e(o,u)?(re.success("Welcome! You are logged in."),d("/staff")):re.error("Invalid PIN")};return a.jsx("div",{className:"min-h-screen bg-surface-900 flex items-center justify-center p-4",children:a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[a.jsxs(he,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-8",children:[a.jsx(Gc,{})," Back to Store"]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 flex items-center justify-center mx-auto mb-4",children:a.jsx(Sm,{size:28})}),a.jsx("h1",{className:"font-display text-2xl font-bold",children:"Staff Portal"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Select your name and enter your PIN"})]}),a.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Staff Member"}),a.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"input-field",children:[a.jsx("option",{value:"",className:"bg-surface-800",children:"Select your name..."}),t.map(p=>a.jsxs("option",{value:p.id,className:"bg-surface-800",children:[p.name," (",p.role==="delivery"?" Delivery":" In-Store",")"]},p.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"PIN"}),a.jsx("input",{type:"password",value:u,onChange:p=>h(p.target.value),className:"input-field text-center text-2xl tracking-[0.5em] font-mono",placeholder:"",maxLength:4})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full py-4 text-lg",children:"Sign In"})]}),a.jsx("p",{className:"text-xs text-gray-600 text-center mt-6",children:"Demo: Select any staff member, PIN matches their role (1111, 2222, etc.)"})]})]})})}function XO(){var m;const{currentUser:t,logout:e}=Ie(),n=Fn(),[s,o]=E.useState(!1),l=(t==null?void 0:t.role)==="delivery"||(t==null?void 0:t.clockType)==="delivery",u=(t==null?void 0:t.role)==="onsite"||(t==null?void 0:t.clockType)==="onsite",h=[{to:"/staff",icon:Yc,label:"Dashboard",end:!0},...l||(t==null?void 0:t.role)==="delivery"?[{to:"/staff/delivery",icon:nn,label:"Deliveries"}]:[],...u||(t==null?void 0:t.role)==="onsite"?[{to:"/staff/instore",icon:mr,label:"In-Store POS"}]:[],{to:"/staff/chat",icon:ub,label:"Team Chat"},{to:"/staff/wallet",icon:jt,label:"My Wallet"},{to:"/staff/profile",icon:An,label:"My Profile"}],d=()=>{e(),n("/")};return a.jsxs("div",{className:"min-h-screen bg-surface-900 flex",children:[a.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-black/40 border-r border-white/5 flex flex-col transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[a.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-brand-500 flex items-center justify-center font-bold text-sm text-black",children:"CB"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm",children:"Couch Buddies"}),a.jsx("p",{className:"text-[11px] text-brand-400 font-medium",children:"Staff Portal"})]})]}),a.jsx("button",{className:"lg:hidden text-gray-400 hover:text-white",onClick:()=>o(!1),children:a.jsx(es,{size:20})})]}),a.jsx("div",{className:"px-3 py-3",children:a.jsxs("div",{className:"p-3 rounded-xl bg-white/5 flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center text-xs font-bold bg-brand-500/20 text-brand-400 flex-shrink-0",children:t!=null&&t.photoURL?a.jsx("img",{src:t.photoURL,alt:t.name,className:"w-full h-full object-cover"}):(t==null?void 0:t.avatar)||((m=t==null?void 0:t.name)==null?void 0:m.charAt(0))||"?"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:t==null?void 0:t.name}),a.jsx("p",{className:"text-[11px] text-gray-400",children:t!=null&&t.clockedIn?a.jsx("span",{className:"text-emerald-400",children:" Clocked In"}):a.jsx("span",{className:"text-gray-500",children:" Off duty"})})]})]})}),a.jsx("nav",{className:"flex-1 px-3 space-y-1",children:h.map(p=>a.jsxs(mw,{to:p.to,end:p.end,onClick:()=>o(!1),className:({isActive:g})=>`sidebar-link ${g?"active":""}`,children:[a.jsx(p.icon,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:p.label})]},p.to))}),a.jsx("div",{className:"p-4 border-t border-white/5",children:a.jsxs("button",{onClick:d,className:"sidebar-link w-full text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[a.jsx(cb,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:()=>o(!1)}),a.jsxs("main",{className:"flex-1 min-w-0",children:[a.jsxs("header",{className:"sticky top-0 z-30 h-14 bg-surface-900/80 backdrop-blur-md border-b border-white/5 flex items-center px-4 sm:px-6 gap-4",children:[a.jsx("button",{className:"lg:hidden text-gray-400 hover:text-white",onClick:()=>o(!0),children:a.jsx(Nm,{size:20})}),a.jsx("h2",{className:"font-semibold text-sm text-gray-300",children:"Staff Dashboard"})]}),a.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:a.jsx(hw,{})})]})]})}function ZO(){var j,D,L,W,z;const{currentUser:t,staff:e,clockIn:n,clockOut:s,updateStaffLocation:o,orders:l,updateStaff:u}=Ie(),h=e.find(F=>F.id===(t==null?void 0:t.id))||t,[d,m]=E.useState((h==null?void 0:h.role)||"onsite"),[p,g]=E.useState(!1),[y,b]=E.useState(!1),w=l.filter(F=>F.driverId===(h==null?void 0:h.id)&&F.status!=="delivered"&&F.status!=="cancelled");E.useEffect(()=>{if(!(h!=null&&h.clockedIn))return;let F;return navigator.geolocation&&(F=navigator.geolocation.watchPosition(X=>{o(h.id,{lat:X.coords.latitude,lng:X.coords.longitude}),g(!0)},()=>{},{enableHighAccuracy:!0,maximumAge:1e4})),()=>{F!==void 0&&navigator.geolocation.clearWatch(F)}},[h==null?void 0:h.clockedIn]);const S=()=>{if(b(!0),!navigator.geolocation){re.error("GPS not available on this device"),b(!1);return}navigator.geolocation.getCurrentPosition(F=>{const X={lat:F.coords.latitude,lng:F.coords.longitude};n(h.id,d,X),u(h.id,{clockedIn:!0,clockType:d,location:X}),g(!0),b(!1),re.success(`Clocked in as ${d==="delivery"?"Delivery":"In-Store"}!`)},F=>{b(!1),re.error("Please enable GPS/Location to clock in")},{enableHighAccuracy:!0,timeout:1e4})},C=()=>{s(h.id),u(h.id,{clockedIn:!1,clockType:null,location:null}),re.success("Clocked out successfully")},T=((h==null?void 0:h.clockHistory)||[]).filter(F=>{const X=new Date(F.time).toDateString(),ie=new Date().toDateString();return X===ie});let N=0;for(let F=0;F<T.length;F+=2){const X=T[F],ie=T[F+1];if((X==null?void 0:X.type)==="clock-in"){const xe=ie?new Date(ie.time):new Date;N+=(xe-new Date(X.time))/36e5}}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:["Hey, ",(j=h==null?void 0:h.name)==null?void 0:j.split(" ")[0],"! "]}),a.jsx("p",{className:"text-gray-400 mt-1",children:h!=null&&h.clockedIn?`You're clocked in as ${(h==null?void 0:h.clockType)||(h==null?void 0:h.role)}`:"Clock in to start your shift"})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`glass-card ${h!=null&&h.clockedIn?"border-emerald-500/30 glow-brand":""}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qn,{size:20,className:h!=null&&h.clockedIn?"text-emerald-400":"text-gray-400"}),a.jsx("h2",{className:"font-semibold text-lg",children:"Time Clock"})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Today: ",N.toFixed(1),"h worked"]}),(h==null?void 0:h.clockedIn)&&(h==null?void 0:h.location)&&a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[a.jsx(vn,{size:12,className:"text-emerald-400"}),"GPS: ",(D=h.location.lat)==null?void 0:D.toFixed(4),", ",(L=h.location.lng)==null?void 0:L.toFixed(4)]})]}),h!=null&&h.clockedIn?a.jsxs("button",{onClick:C,className:"btn-danger py-3 px-6 flex items-center gap-2",children:[a.jsx(Qn,{size:18})," Clock Out"]}):a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>m("onsite"),className:`flex-1 sm:flex-auto px-4 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all ${d==="onsite"?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[a.jsx(mr,{size:16})," In-Store"]}),a.jsxs("button",{onClick:()=>m("delivery"),className:`flex-1 sm:flex-auto px-4 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all ${d==="delivery"?"bg-brand-500 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[a.jsx(nn,{size:16})," Delivery"]})]}),a.jsx("button",{onClick:S,disabled:y,className:"btn-success py-3 px-6 flex items-center justify-center gap-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Getting GPS..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qn,{size:18})," Clock In"]})})]})]}),!(h!=null&&h.clockedIn)&&a.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-start gap-2",children:[a.jsx(C4,{size:16,className:"text-amber-400 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs text-amber-300",children:"GPS location is required for clock-in. Your browser will ask for permission."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsxs(he,{to:"/staff/wallet",className:"glass-card hover:border-white/20 transition-all group",children:[a.jsx(jt,{size:20,className:"text-emerald-400 mb-2"}),a.jsxs("p",{className:"text-xl font-bold",children:["$",((z=(W=h==null?void 0:h.wallet)==null?void 0:W.balance)==null?void 0:z.toFixed(2))||"0.00"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 group-hover:text-white transition-colors",children:"My Wallet"})]}),a.jsxs(he,{to:"/staff/chat",className:"glass-card hover:border-white/20 transition-all group",children:[a.jsx(ub,{size:20,className:"text-blue-400 mb-2"}),a.jsx("p",{className:"text-xl font-bold",children:"Chat"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 group-hover:text-white transition-colors",children:"Team Messages"})]}),((h==null?void 0:h.role)==="delivery"||(h==null?void 0:h.clockType)==="delivery")&&a.jsxs(he,{to:"/staff/delivery",className:"glass-card hover:border-white/20 transition-all group",children:[a.jsx(nn,{size:20,className:"text-brand-400 mb-2"}),a.jsx("p",{className:"text-xl font-bold",children:w.length}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 group-hover:text-white transition-colors",children:"Active Orders"})]}),((h==null?void 0:h.role)==="onsite"||(h==null?void 0:h.clockType)==="onsite")&&a.jsxs(he,{to:"/staff/instore",className:"glass-card hover:border-white/20 transition-all group",children:[a.jsx(mr,{size:20,className:"text-accent-400 mb-2"}),a.jsx("p",{className:"text-xl font-bold",children:"POS"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 group-hover:text-white transition-colors",children:"In-Store Sales"})]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx(Qn,{size:18,className:"text-brand-400"})," Recent Clock History"]}),((h==null?void 0:h.clockHistory)||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"No clock history yet"}):a.jsx("div",{className:"space-y-2",children:[...(h==null?void 0:h.clockHistory)||[]].reverse().slice(0,10).map((F,X)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${F.type==="clock-in"?"bg-emerald-400":"bg-red-400"}`}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-medium",children:[F.type==="clock-in"?"Clocked In":"Clocked Out",F.staffType&&a.jsxs("span",{className:"text-gray-400",children:[" (",F.staffType,")"]})]})})]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(F.time).toLocaleString()})]},X))})]})]})}const JO=["general","deliveries","store","announcements"];function eL(){const{currentUser:t,messages:e,sendMessage:n,staff:s}=Ie(),[o,l]=E.useState("general"),[u,h]=E.useState(""),d=E.useRef(null),m=e.filter(y=>y.channel===o).sort((y,b)=>new Date(y.time)-new Date(b.time));E.useEffect(()=>{var y;(y=d.current)==null||y.scrollIntoView({behavior:"smooth"})},[m.length]);const p=y=>{y.preventDefault(),u.trim()&&(n({senderId:t.id,senderName:t.name,text:u.trim(),channel:o}),h(""))},g=s.filter(y=>y.clockedIn);return a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[calc(100vh-12rem)]",children:[a.jsxs("div",{className:"lg:w-64 shrink-0 flex flex-row lg:flex-col gap-4",children:[a.jsxs("div",{className:"glass-card flex-1 lg:flex-none",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Channels"}),a.jsx("div",{className:"space-y-1",children:JO.map(y=>a.jsxs("button",{onClick:()=>l(y),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${o===y?"bg-brand-500/20 text-brand-400 border border-brand-500/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[a.jsx(yh,{size:14}),y]},y))})]}),a.jsxs("div",{className:"glass-card flex-1 lg:flex-none hidden lg:block",children:[a.jsxs("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:["Online  ",g.length]}),a.jsxs("div",{className:"space-y-2",children:[g.map(y=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:y.name})]},y.id)),s.filter(y=>!y.clockedIn).map(y=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"}),a.jsx("span",{className:"text-sm text-gray-500",children:y.name})]},y.id))]})]})]}),a.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 min-h-0",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/5 flex items-center gap-2",children:[a.jsx(yh,{size:18,className:"text-brand-400"}),a.jsx("h2",{className:"font-semibold",children:o}),a.jsxs("span",{className:"text-xs text-gray-400 ml-auto",children:[m.length," messages"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m.length===0?a.jsxs("div",{className:"text-center text-gray-500 text-sm py-12",children:[a.jsx(yh,{size:32,className:"mx-auto mb-3 text-gray-600"}),a.jsxs("p",{children:["No messages in #",o," yet"]}),a.jsx("p",{className:"text-xs mt-1",children:"Start the conversation!"})]}):m.map(y=>{var w;const b=y.senderId===t.id;return a.jsxs("div",{className:`flex gap-3 ${b?"flex-row-reverse":""}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${b?"bg-brand-500/20 text-brand-400":"bg-accent-500/20 text-accent-400"}`,children:((w=y.senderName)==null?void 0:w.split(" ").map(S=>S[0]).join(""))||a.jsx(An,{size:14})}),a.jsxs("div",{className:`max-w-[75%] ${b?"text-right":""}`,children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-medium ${b?"text-brand-400":"text-accent-400"}`,children:b?"You":y.senderName}),a.jsx("span",{className:"text-xs text-gray-600",children:On(new Date(y.time),"h:mm a")})]}),a.jsx("div",{className:`inline-block px-4 py-2.5 rounded-2xl text-sm ${b?"bg-brand-500/20 text-white rounded-tr-md":"bg-white/5 text-gray-200 rounded-tl-md"}`,children:y.text})]})]},y.id)}),a.jsx("div",{ref:d})]}),a.jsx("form",{onSubmit:p,className:"p-4 border-t border-white/5",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:u,onChange:y=>h(y.target.value),placeholder:`Message #${o}...`,className:"input-field flex-1",autoFocus:!0}),a.jsx("button",{type:"submit",disabled:!u.trim(),className:"btn-primary px-4 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(A4,{size:18})})]})})]})]})}function tL(){var o,l,u;const{currentUser:t,staff:e}=Ie(),n=e.find(h=>h.id===(t==null?void 0:t.id))||t,s=[...((o=n==null?void 0:n.wallet)==null?void 0:o.transactions)||[]].sort((h,d)=>new Date(d.time)-new Date(h.time));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"My Wallet"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"View your earnings and payment history"})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card glow-brand relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Available Balance"}),a.jsxs("p",{className:"text-4xl sm:text-5xl font-bold font-display text-emerald-400",children:["$",((u=(l=n==null?void 0:n.wallet)==null?void 0:l.balance)==null?void 0:u.toFixed(2))||"0.00"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Payments are made by the owner through the treasury system"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"glass-card",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total Earned"}),a.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.reduce((h,d)=>h+d.amount,0).toFixed(2)]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Payments Received"}),a.jsx("p",{className:"text-xl font-bold",children:s.length})]}),a.jsxs("div",{className:"glass-card",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Last Payment"}),a.jsx("p",{className:"text-xl font-bold",children:s.length>0?On(new Date(s[0].time),"MMM d"):"None"})]})]}),a.jsxs("div",{className:"glass-card",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx(Qn,{size:18,className:"text-brand-400"})," Payment History"]}),s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jt,{size:32,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No payments received yet"})]}):a.jsx("div",{className:"space-y-3",children:s.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center",children:a.jsx(hf,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:h.note||"Payment"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["From: ",h.from||"Owner","  ",On(new Date(h.time),"MMM d, yyyy h:mm a")]})]})]}),a.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["+$",h.amount.toFixed(2)]})]},h.id))})]})]})}function nL(){var C,T;const{currentUser:t,staff:e,orders:n,updateOrderStatus:s}=Ie(),o=e.find(N=>N.id===(t==null?void 0:t.id))||t,[l,u]=E.useState(null),h=n.filter(N=>N.driverId===(o==null?void 0:o.id)),d=h.filter(N=>!["delivered","cancelled"].includes(N.status)),m=n.filter(N=>N.status==="pending"&&N.delivery==="delivery"&&!N.driverId),p=h.filter(N=>N.status==="delivered"),g=N=>{s(N,"assigned",`Accepted by ${o.name}`),re.success("Order accepted!")},y=N=>{s(N,"picked-up",`Picked up by ${o.name}`),re.success("Marked as picked up!")},b=N=>{s(N,"in-transit",`${o.name} is on the way`),re.success("On the way!")},w=N=>{s(N,"delivered",`Delivered by ${o.name}`),re.success("Order delivered! ")},S=N=>{s(N,"pending",`Declined by ${o.name}`),re("Order returned to queue")};return o!=null&&o.clockedIn?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold flex items-center gap-3",children:[a.jsx(nn,{className:"text-brand-400"})," Delivery Mode"]}),a.jsxs("p",{className:"text-gray-400 mt-1",children:[d.length," active  ",p.length," completed today"]})]}),(o==null?void 0:o.location)&&a.jsxs("div",{className:"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center gap-2",children:[a.jsx(R4,{size:16,className:"text-emerald-400"}),a.jsx("span",{className:"text-sm text-emerald-300",children:"GPS Active"}),a.jsxs("span",{className:"text-xs text-gray-400 ml-auto",children:[(C=o.location.lat)==null?void 0:C.toFixed(4),", ",(T=o.location.lng)==null?void 0:T.toFixed(4)]})]}),m.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[a.jsx(vr,{size:18,className:"text-amber-400"})," Available Orders"]}),a.jsx("div",{className:"space-y-3",children:m.map(N=>{var j;return a.jsxs(Se.div,{layout:!0,className:"glass-card border-amber-500/20",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold",children:N.id}),a.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[a.jsx(An,{size:12})," ",N.customerName||"Guest"]}),N.shippingAddress&&a.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-0.5",children:[a.jsx(vn,{size:12})," ",N.shippingAddress]})]}),a.jsxs("p",{className:"text-lg font-bold text-brand-400",children:["$",(N.total||0).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-3",children:[a.jsxs("span",{children:[((j=N.items)==null?void 0:j.length)||0," items"]}),a.jsx("span",{children:""}),a.jsx("span",{children:On(new Date(N.createdAt),"h:mm a")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>g(N.id),className:"flex-1 btn-success py-2.5 text-sm flex items-center justify-center gap-1.5",children:[a.jsx(Ls,{size:16})," Accept"]}),a.jsxs("button",{onClick:()=>S(N.id),className:"btn-danger py-2.5 px-4 text-sm flex items-center gap-1.5",children:[a.jsx(es,{size:16})," Deny"]})]})]},N.id)})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[a.jsx(nn,{size:18,className:"text-brand-400"})," My Active Orders"]}),d.length===0?a.jsxs("div",{className:"glass-card text-center py-12",children:[a.jsx(vr,{size:32,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No active deliveries"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accept orders from the queue above"})]}):a.jsx("div",{className:"space-y-4",children:d.map(N=>a.jsxs(Se.div,{layout:!0,className:"glass-card border-brand-500/20",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-bold",children:N.id}),a.jsx("span",{className:`badge ${N.status==="assigned"?"badge-warning":N.status==="picked-up"?"badge-info":N.status==="in-transit"?"badge-brand":"badge-success"}`,children:N.status})]}),N.customerPhone&&a.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[a.jsx(xi,{size:12})," ",N.customerPhone]}),N.shippingAddress&&a.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-0.5",children:[a.jsx(vn,{size:12})," ",N.shippingAddress]})]}),a.jsxs("p",{className:"text-lg font-bold text-brand-400",children:["$",(N.total||0).toFixed(2)]})]}),a.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-1",children:(N.items||[]).map((j,D)=>a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 shrink-0",children:a.jsxs("span",{className:"text-xs font-medium",children:[j.name," x",j.quantity]})},D))}),a.jsxs("div",{className:"flex gap-2",children:[N.status==="assigned"&&a.jsx("button",{onClick:()=>y(N.id),className:"flex-1 btn-primary py-2.5 text-sm",children:" Mark Picked Up"}),N.status==="picked-up"&&a.jsx("button",{onClick:()=>b(N.id),className:"flex-1 btn-primary py-2.5 text-sm",children:" Start Delivery"}),N.status==="in-transit"&&a.jsx("button",{onClick:()=>w(N.id),className:"flex-1 btn-success py-2.5 text-sm",children:" Mark Delivered"})]})]},N.id))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-lg mb-3 text-gray-400",children:"Completed Today"}),a.jsx("div",{className:"space-y-2",children:p.slice(0,5).map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:N.id}),a.jsx("p",{className:"text-xs text-gray-400",children:N.customerName||"Guest"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold text-emerald-400",children:["$",(N.total||0).toFixed(2)]}),a.jsx("span",{className:"badge-success",children:"Delivered"})]})]},N.id))})]})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx(nn,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Clocked In"}),a.jsx("p",{className:"text-gray-400",children:"Clock in from the Dashboard to access delivery mode"})]})}var sL=Object.defineProperty,Tc=Object.getOwnPropertySymbols,cN=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,Xv=(t,e,n)=>e in t?sL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bf=(t,e)=>{for(var n in e||(e={}))cN.call(e,n)&&Xv(t,n,e[n]);if(Tc)for(var n of Tc(e))uN.call(e,n)&&Xv(t,n,e[n]);return t},zf=(t,e)=>{var n={};for(var s in t)cN.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Tc)for(var s of Tc(t))e.indexOf(s)<0&&uN.call(t,s)&&(n[s]=t[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var br;(t=>{const e=class Ne{constructor(d,m,p,g){if(this.version=d,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],d<Ne.MIN_VERSION||d>Ne.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let y=[];for(let w=0;w<this.size;w++)y.push(!1);for(let w=0;w<this.size;w++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(p);if(this.drawCodewords(b),g==-1){let w=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const C=this.getPenaltyScore();C<w&&(g=S,w=C),this.applyMask(S)}}o(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(d,m){const p=t.QrSegment.makeSegments(d);return Ne.encodeSegments(p,m)}static encodeBinary(d,m){const p=t.QrSegment.makeBytes(d);return Ne.encodeSegments([p],m)}static encodeSegments(d,m,p=1,g=40,y=-1,b=!0){if(!(Ne.MIN_VERSION<=p&&p<=g&&g<=Ne.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let w,S;for(w=p;;w++){const j=Ne.getNumDataCodewords(w,m)*8,D=u.getTotalBits(d,w);if(D<=j){S=D;break}if(w>=g)throw new RangeError("Data too long")}for(const j of[Ne.Ecc.MEDIUM,Ne.Ecc.QUARTILE,Ne.Ecc.HIGH])b&&S<=Ne.getNumDataCodewords(w,j)*8&&(m=j);let C=[];for(const j of d){n(j.mode.modeBits,4,C),n(j.numChars,j.mode.numCharCountBits(w),C);for(const D of j.getData())C.push(D)}o(C.length==S);const T=Ne.getNumDataCodewords(w,m)*8;o(C.length<=T),n(0,Math.min(4,T-C.length),C),n(0,(8-C.length%8)%8,C),o(C.length%8==0);for(let j=236;C.length<T;j^=253)n(j,8,C);let N=[];for(;N.length*8<C.length;)N.push(0);return C.forEach((j,D)=>N[D>>>3]|=j<<7-(D&7)),new Ne(w,m,N,y)}getModule(d,m){return 0<=d&&d<this.size&&0<=m&&m<this.size&&this.modules[m][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),m=d.length;for(let p=0;p<m;p++)for(let g=0;g<m;g++)p==0&&g==0||p==0&&g==m-1||p==m-1&&g==0||this.drawAlignmentPattern(d[p],d[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const m=this.errorCorrectionLevel.formatBits<<3|d;let p=m;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const g=(m<<10|p)^21522;o(g>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,s(g,y));this.setFunctionModule(8,7,s(g,6)),this.setFunctionModule(8,8,s(g,7)),this.setFunctionModule(7,8,s(g,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,s(g,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,s(g,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,s(g,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const m=this.version<<12|d;o(m>>>18==0);for(let p=0;p<18;p++){const g=s(m,p),y=this.size-11+p%3,b=Math.floor(p/3);this.setFunctionModule(y,b,g),this.setFunctionModule(b,y,g)}}drawFinderPattern(d,m){for(let p=-4;p<=4;p++)for(let g=-4;g<=4;g++){const y=Math.max(Math.abs(g),Math.abs(p)),b=d+g,w=m+p;0<=b&&b<this.size&&0<=w&&w<this.size&&this.setFunctionModule(b,w,y!=2&&y!=4)}}drawAlignmentPattern(d,m){for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)this.setFunctionModule(d+g,m+p,Math.max(Math.abs(g),Math.abs(p))!=1)}setFunctionModule(d,m,p){this.modules[m][d]=p,this.isFunction[m][d]=!0}addEccAndInterleave(d){const m=this.version,p=this.errorCorrectionLevel;if(d.length!=Ne.getNumDataCodewords(m,p))throw new RangeError("Invalid argument");const g=Ne.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m],y=Ne.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m],b=Math.floor(Ne.getNumRawDataModules(m)/8),w=g-b%g,S=Math.floor(b/g);let C=[];const T=Ne.reedSolomonComputeDivisor(y);for(let j=0,D=0;j<g;j++){let L=d.slice(D,D+S-y+(j<w?0:1));D+=L.length;const W=Ne.reedSolomonComputeRemainder(L,T);j<w&&L.push(0),C.push(L.concat(W))}let N=[];for(let j=0;j<C[0].length;j++)C.forEach((D,L)=>{(j!=S-y||L>=w)&&N.push(D[j])});return o(N.length==b),N}drawCodewords(d){if(d.length!=Math.floor(Ne.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let g=0;g<this.size;g++)for(let y=0;y<2;y++){const b=p-y,S=(p+1&2)==0?this.size-1-g:g;!this.isFunction[S][b]&&m<d.length*8&&(this.modules[S][b]=s(d[m>>>3],7-(m&7)),m++)}}o(m==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let p=0;p<this.size;p++){let g;switch(d){case 0:g=(p+m)%2==0;break;case 1:g=m%2==0;break;case 2:g=p%3==0;break;case 3:g=(p+m)%3==0;break;case 4:g=(Math.floor(p/3)+Math.floor(m/2))%2==0;break;case 5:g=p*m%2+p*m%3==0;break;case 6:g=(p*m%2+p*m%3)%2==0;break;case 7:g=((p+m)%2+p*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][p]&&g&&(this.modules[m][p]=!this.modules[m][p])}}getPenaltyScore(){let d=0;for(let y=0;y<this.size;y++){let b=!1,w=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[y][C]==b?(w++,w==5?d+=Ne.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,S),b||(d+=this.finderPenaltyCountPatterns(S)*Ne.PENALTY_N3),b=this.modules[y][C],w=1);d+=this.finderPenaltyTerminateAndCount(b,w,S)*Ne.PENALTY_N3}for(let y=0;y<this.size;y++){let b=!1,w=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][y]==b?(w++,w==5?d+=Ne.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,S),b||(d+=this.finderPenaltyCountPatterns(S)*Ne.PENALTY_N3),b=this.modules[C][y],w=1);d+=this.finderPenaltyTerminateAndCount(b,w,S)*Ne.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let b=0;b<this.size-1;b++){const w=this.modules[y][b];w==this.modules[y][b+1]&&w==this.modules[y+1][b]&&w==this.modules[y+1][b+1]&&(d+=Ne.PENALTY_N2)}let m=0;for(const y of this.modules)m=y.reduce((b,w)=>b+(w?1:0),m);const p=this.size*this.size,g=Math.ceil(Math.abs(m*20-p*10)/p)-1;return o(0<=g&&g<=9),d+=g*Ne.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let g=this.size-7;p.length<d;g-=m)p.splice(1,0,g);return p}}static getNumRawDataModules(d){if(d<Ne.MIN_VERSION||d>Ne.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;m-=(25*p-10)*p-55,d>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(d,m){return Math.floor(Ne.getNumRawDataModules(d)/8)-Ne.ECC_CODEWORDS_PER_BLOCK[m.ordinal][d]*Ne.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let m=[];for(let g=0;g<d-1;g++)m.push(0);m.push(1);let p=1;for(let g=0;g<d;g++){for(let y=0;y<m.length;y++)m[y]=Ne.reedSolomonMultiply(m[y],p),y+1<m.length&&(m[y]^=m[y+1]);p=Ne.reedSolomonMultiply(p,2)}return m}static reedSolomonComputeRemainder(d,m){let p=m.map(g=>0);for(const g of d){const y=g^p.shift();p.push(0),m.forEach((b,w)=>p[w]^=Ne.reedSolomonMultiply(b,y))}return p}static reedSolomonMultiply(d,m){if(d>>>8||m>>>8)throw new RangeError("Byte out of range");let p=0;for(let g=7;g>=0;g--)p=p<<1^(p>>>7)*285,p^=(m>>>g&1)*d;return o(p>>>8==0),p}finderPenaltyCountPatterns(d){const m=d[1];o(m<=this.size*3);const p=m>0&&d[2]==m&&d[3]==m*3&&d[4]==m&&d[5]==m;return(p&&d[0]>=m*4&&d[6]>=m?1:0)+(p&&d[6]>=m*4&&d[0]>=m?1:0)}finderPenaltyTerminateAndCount(d,m,p){return d&&(this.finderPenaltyAddHistory(m,p),m=0),m+=this.size,this.finderPenaltyAddHistory(m,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,m){m[0]==0&&(d+=this.size),m.pop(),m.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(h,d,m){if(d<0||d>31||h>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)m.push(h>>>p&1)}function s(h,d){return(h>>>d&1)!=0}function o(h){if(!h)throw new Error("Assertion error")}const l=class Je{constructor(d,m,p){if(this.mode=d,this.numChars=m,this.bitData=p,m<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let m=[];for(const p of d)n(p,8,m);return new Je(Je.Mode.BYTE,d.length,m)}static makeNumeric(d){if(!Je.isNumeric(d))throw new RangeError("String contains non-numeric characters");let m=[];for(let p=0;p<d.length;){const g=Math.min(d.length-p,3);n(parseInt(d.substring(p,p+g),10),g*3+1,m),p+=g}return new Je(Je.Mode.NUMERIC,d.length,m)}static makeAlphanumeric(d){if(!Je.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],p;for(p=0;p+2<=d.length;p+=2){let g=Je.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;g+=Je.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),n(g,11,m)}return p<d.length&&n(Je.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,m),new Je(Je.Mode.ALPHANUMERIC,d.length,m)}static makeSegments(d){return d==""?[]:Je.isNumeric(d)?[Je.makeNumeric(d)]:Je.isAlphanumeric(d)?[Je.makeAlphanumeric(d)]:[Je.makeBytes(Je.toUtf8ByteArray(d))]}static makeEci(d){let m=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,m);else if(d<16384)n(2,2,m),n(d,14,m);else if(d<1e6)n(6,3,m),n(d,21,m);else throw new RangeError("ECI assignment value out of range");return new Je(Je.Mode.ECI,0,m)}static isNumeric(d){return Je.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Je.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,m){let p=0;for(const g of d){const y=g.mode.numCharCountBits(m);if(g.numChars>=1<<y)return 1/0;p+=4+y+g.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let m=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?m.push(d.charCodeAt(p)):(m.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=l;t.QrSegment=l})(br||(br={}));(t=>{(e=>{const n=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(br||(br={}));(t=>{(e=>{const n=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(br||(br={}));var ai=br;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rL={L:ai.QrCode.Ecc.LOW,M:ai.QrCode.Ecc.MEDIUM,Q:ai.QrCode.Ecc.QUARTILE,H:ai.QrCode.Ecc.HIGH},dN=128,hN="L",fN="#FFFFFF",mN="#000000",pN=!1,gN=1,iL=4,oL=0,aL=.1;function xN(t,e=0){const n=[];return t.forEach(function(s,o){let l=null;s.forEach(function(u,h){if(!u&&l!==null){n.push(`M${l+e} ${o+e}h${h-l}v1H${l+e}z`),l=null;return}if(h===s.length-1){if(!u)return;l===null?n.push(`M${h+e},${o+e} h1v1H${h+e}z`):n.push(`M${l+e},${o+e} h${h+1-l}v1H${l+e}z`);return}u&&l===null&&(l=h)})}),n.join("")}function yN(t,e){return t.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((o,l)=>l<e.x||l>=e.x+e.w?o:!1))}function lL(t,e,n,s){if(s==null)return null;const o=t.length+n*2,l=Math.floor(e*aL),u=o/e,h=(s.width||l)*u,d=(s.height||l)*u,m=s.x==null?t.length/2-h/2:s.x*u,p=s.y==null?t.length/2-d/2:s.y*u,g=s.opacity==null?1:s.opacity;let y=null;if(s.excavate){let w=Math.floor(m),S=Math.floor(p),C=Math.ceil(h+m-w),T=Math.ceil(d+p-S);y={x:w,y:S,w:C,h:T}}const b=s.crossOrigin;return{x:m,y:p,h:d,w:h,excavation:y,opacity:g,crossOrigin:b}}function cL(t,e){return e!=null?Math.max(Math.floor(e),0):t?iL:oL}function vN({value:t,level:e,minVersion:n,includeMargin:s,marginSize:o,imageSettings:l,size:u,boostLevel:h}){let d=Me.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((S,C)=>(S.push(...ai.QrSegment.makeSegments(C)),S),[]);return ai.QrCode.encodeSegments(w,rL[e],n,void 0,void 0,h)},[t,e,n,h]);const{cells:m,margin:p,numCells:g,calculatedImageSettings:y}=Me.useMemo(()=>{let b=d.getModules();const w=cL(s,o),S=b.length+w*2,C=lL(b,u,w,l);return{cells:b,margin:w,numCells:S,calculatedImageSettings:C}},[d,u,l,s,o]);return{qrcode:d,margin:p,cells:m,numCells:g,calculatedImageSettings:y}}var uL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),dL=Me.forwardRef(function(e,n){const s=e,{value:o,size:l=dN,level:u=hN,bgColor:h=fN,fgColor:d=mN,includeMargin:m=pN,minVersion:p=gN,boostLevel:g,marginSize:y,imageSettings:b}=s,S=zf(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=S,T=zf(S,["style"]),N=b==null?void 0:b.src,j=Me.useRef(null),D=Me.useRef(null),L=Me.useCallback(ve=>{j.current=ve,typeof n=="function"?n(ve):n&&(n.current=ve)},[n]),[W,z]=Me.useState(!1),{margin:F,cells:X,numCells:ie,calculatedImageSettings:xe}=vN({value:o,level:u,minVersion:p,boostLevel:g,includeMargin:m,marginSize:y,imageSettings:b,size:l});Me.useEffect(()=>{if(j.current!=null){const ve=j.current,G=ve.getContext("2d");if(!G)return;let pe=X;const oe=D.current,Y=xe!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;Y&&xe.excavation!=null&&(pe=yN(X,xe.excavation));const J=window.devicePixelRatio||1;ve.height=ve.width=l*J;const Q=l/ie*J;G.scale(Q,Q),G.fillStyle=h,G.fillRect(0,0,ie,ie),G.fillStyle=d,uL?G.fill(new Path2D(xN(pe,F))):X.forEach(function(R,B){R.forEach(function(ge,ye){ge&&G.fillRect(ye+F,B+F,1,1)})}),xe&&(G.globalAlpha=xe.opacity),Y&&G.drawImage(oe,xe.x+F,xe.y+F,xe.w,xe.h)}}),Me.useEffect(()=>{z(!1)},[N]);const $=Bf({height:l,width:l},C);let le=null;return N!=null&&(le=Me.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{z(!0)},ref:D,crossOrigin:xe==null?void 0:xe.crossOrigin})),Me.createElement(Me.Fragment,null,Me.createElement("canvas",Bf({style:$,height:l,width:l,ref:L,role:"img"},T)),le)});dL.displayName="QRCodeCanvas";var wN=Me.forwardRef(function(e,n){const s=e,{value:o,size:l=dN,level:u=hN,bgColor:h=fN,fgColor:d=mN,includeMargin:m=pN,minVersion:p=gN,boostLevel:g,title:y,marginSize:b,imageSettings:w}=s,S=zf(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:T,numCells:N,calculatedImageSettings:j}=vN({value:o,level:u,minVersion:p,boostLevel:g,includeMargin:m,marginSize:b,imageSettings:w,size:l});let D=T,L=null;w!=null&&j!=null&&(j.excavation!=null&&(D=yN(T,j.excavation)),L=Me.createElement("image",{href:w.src,height:j.h,width:j.w,x:j.x+C,y:j.y+C,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const W=xN(D,C);return Me.createElement("svg",Bf({height:l,width:l,viewBox:`0 0 ${N} ${N}`,ref:n,role:"img"},S),!!y&&Me.createElement("title",null,y),Me.createElement("path",{fill:h,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),Me.createElement("path",{fill:d,d:W,shapeRendering:"crispEdges"}),L)});wN.displayName="QRCodeSVG";function hL(){var D,L,W;const{currentUser:t,staff:e,products:n,createInStoreSale:s,completeInStoreSale:o,inStoreSales:l}=Ie(),u=e.find(z=>z.id===(t==null?void 0:t.id))||t,[h,d]=E.useState([]),[m,p]=E.useState(null),[g,y]=E.useState(""),b=n.filter(z=>z.name.toLowerCase().includes(g.toLowerCase())||z.category.toLowerCase().includes(g.toLowerCase())),w=z=>{var X;const F=h.find(ie=>ie.productId===z.id);d(F?h.map(ie=>ie.productId===z.id?{...ie,quantity:ie.quantity+1}:ie):[...h,{productId:z.id,name:z.name,price:z.price,quantity:1,image:(X=z.images)==null?void 0:X[0]}])},S=(z,F)=>{d(h.map(X=>{if(X.productId===z){const ie=X.quantity+F;return ie<=0?null:{...X,quantity:ie}}return X}).filter(Boolean))},C=h.reduce((z,F)=>z+F.price*F.quantity,0),T=()=>{if(h.length===0){re.error("Add items to the cart first");return}const z=s({items:h,total:C,staffId:u.id,staffName:u.name,paymentMethod:"qr-code"});p(z)},N=z=>{o(z),re.success("Sale completed! "),p(null),d([])},j=[...l].filter(z=>z.staffId===(u==null?void 0:u.id)).sort((z,F)=>new Date(F.createdAt)-new Date(z.createdAt)).slice(0,5);return u!=null&&u.clockedIn?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold flex items-center gap-3",children:[a.jsx(mr,{className:"text-accent-400"})," In-Store POS"]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Ring up in-store purchases with QR code payment"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsx("input",{type:"text",value:g,onChange:z=>y(z.target.value),placeholder:"Search products...",className:"input-field"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-[50vh] overflow-y-auto pr-1",children:b.map(z=>{var F;return a.jsxs("button",{onClick:()=>w(z),className:"glass-card p-0 overflow-hidden text-left group hover:border-brand-500/30 transition-all",children:[a.jsx("div",{className:"aspect-square bg-surface-800 overflow-hidden",children:a.jsx("img",{src:((F=z.images)==null?void 0:F[0])||"",alt:z.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-xs font-medium line-clamp-1",children:z.name}),a.jsxs("p",{className:"text-xs text-brand-400 font-bold",children:["$",z.price.toFixed(2)]})]})]},z.id)})})]}),a.jsxs("div",{className:"glass-card flex flex-col",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Current Sale"}),h.length===0?a.jsx("div",{className:"flex-1 flex items-center justify-center text-center py-8",children:a.jsxs("div",{children:[a.jsx(mr,{size:32,className:"mx-auto text-gray-600 mb-3"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Tap products to add"})]})}):a.jsx("div",{className:"flex-1 space-y-2 mb-4",children:h.map(z=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-white/5",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:z.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["$",z.price.toFixed(2)," ea"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>S(z.productId,-1),className:"p-1 rounded bg-white/10 hover:bg-white/20",children:a.jsx(Cm,{size:12})}),a.jsx("span",{className:"w-6 text-center text-sm font-bold",children:z.quantity}),a.jsx("button",{onClick:()=>S(z.productId,1),className:"p-1 rounded bg-white/10 hover:bg-white/20",children:a.jsx(Vs,{size:12})})]}),a.jsxs("p",{className:"text-sm font-semibold w-16 text-right",children:["$",(z.price*z.quantity).toFixed(2)]})]},z.productId))}),a.jsxs("div",{className:"border-t border-white/5 pt-4",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsx("span",{className:"text-gray-400",children:"Total"}),a.jsxs("span",{className:"text-2xl font-bold text-brand-400",children:["$",C.toFixed(2)]})]}),a.jsx("button",{onClick:T,disabled:h.length===0,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate QR Code"}),h.length>0&&a.jsx("button",{onClick:()=>d([]),className:"w-full text-center text-sm text-red-400 hover:text-red-300 mt-2 py-1",children:"Clear Cart"})]})]})]}),a.jsx(vi,{children:m&&a.jsx(Se.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx(Se.div,{className:"modal-content max-w-sm text-center",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},children:a.jsxs("div",{className:"p-8",children:[a.jsx("h2",{className:"font-display text-xl font-bold mb-2",children:"Scan to Pay"}),a.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Customer scans this QR code to complete their $",(D=m.total)==null?void 0:D.toFixed(2)," purchase"]}),a.jsx("div",{className:"bg-white p-6 rounded-2xl inline-block mb-6",children:a.jsx(wN,{value:JSON.stringify({type:"couch-buddies-payment",saleId:m.id,total:m.total,items:((L=m.items)==null?void 0:L.length)||0,staff:u==null?void 0:u.name}),size:200,level:"H",includeMargin:!0,fgColor:"#0A0E17"})}),a.jsxs("div",{className:"text-sm text-gray-400 mb-6",children:[a.jsxs("p",{children:["Sale ID: ",m.id]}),a.jsxs("p",{children:["Amount: $",(W=m.total)==null?void 0:W.toFixed(2)]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>N(m.id),className:"flex-1 btn-success py-3 flex items-center justify-center gap-2",children:[a.jsx(Ls,{size:18})," Payment Received"]}),a.jsx("button",{onClick:()=>p(null),className:"btn-secondary py-3 px-4",children:"Cancel"})]})]})})})}),j.length>0&&a.jsxs("div",{className:"glass-card",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"My Recent Sales"}),a.jsx("div",{className:"space-y-2",children:j.map(z=>{var F,X;return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:z.id}),a.jsxs("p",{className:"text-xs text-gray-400",children:[((F=z.items)==null?void 0:F.length)||0," items"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold text-emerald-400",children:["$",(X=z.total)==null?void 0:X.toFixed(2)]}),a.jsx("span",{className:z.status==="completed"?"badge-success":"badge-warning",children:z.status})]})]},z.id)})})]})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx(mr,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Clocked In"}),a.jsx("p",{className:"text-gray-400",children:"Clock in from the Dashboard to use In-Store POS"})]})}function fL(){var b;const{currentUser:t,staff:e,updateStaff:n}=Ie(),s=e.find(w=>w.id===(t==null?void 0:t.id))||t,[o,l]=E.useState(!1),[u,h]=E.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",pin:(s==null?void 0:s.pin)||""}),[d,m]=E.useState(!1);E.useEffect(()=>{!o&&s&&h({name:s.name||"",email:s.email||"",phone:s.phone||"",pin:s.pin||""})},[s,o]);const p=(w,S)=>{h(C=>({...C,[w]:S}))},g=w=>{var C,T,N;if(w.preventDefault(),!((C=u.name)!=null&&C.trim())){re.error("Name is required");return}if(!((T=u.email)!=null&&T.trim())){re.error("Email is required");return}if(!u.pin||u.pin.length<4){re.error("PIN must be at least 4 characters");return}const S={name:u.name.trim(),email:u.email.trim(),phone:((N=u.phone)==null?void 0:N.trim())||"",pin:u.pin,avatar:u.name.trim().split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2)||"??"};n(s.id,S),Ie.setState(j=>({currentUser:{...j.currentUser,...S}})),re.success("Profile updated successfully!"),l(!1)},y=()=>{h({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",pin:(s==null?void 0:s.pin)||""}),l(!1)};return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold",children:"My Profile"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Update your personal info and login PIN"})]}),!o&&a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(Xo,{size:16})," Edit Profile"]})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-6 border-b border-white/10",children:[a.jsx(lN,{currentPhotoURL:s==null?void 0:s.photoURL,fallbackInitials:(s==null?void 0:s.avatar)||((b=s==null?void 0:s.name)==null?void 0:b.charAt(0))||"?",storagePath:`staff-${(s==null?void 0:s.id)||"unknown"}`,onUploadComplete:w=>{n(s.id,{photoURL:w}),Ie.setState(S=>({currentUser:{...S.currentUser,photoURL:w}}))},gradientClass:s!=null&&s.clockedIn?"from-emerald-500 to-emerald-700":"from-brand-500 to-brand-700",editable:!0,size:"lg"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:s==null?void 0:s.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${(s==null?void 0:s.role)==="delivery"?"bg-blue-500/20 text-blue-400":"bg-accent-500/20 text-accent-400"}`,children:(s==null?void 0:s.role)==="delivery"?"Delivery":"In-Store"}),(s==null?void 0:s.clockedIn)&&a.jsx("span",{className:"text-xs text-emerald-400",children:" On Duty"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Changes sync across all devices"})]})]}),o?a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(An,{size:14})," Full Name"]}),a.jsx("input",{type:"text",value:u.name,onChange:w=>p("name",w.target.value),className:"input-field",placeholder:"Your name"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(Jo,{size:14})," Email"]}),a.jsx("input",{type:"email",value:u.email,onChange:w=>p("email",w.target.value),className:"input-field",placeholder:"you@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(xi,{size:14})," Phone"]}),a.jsx("input",{type:"tel",value:u.phone,onChange:w=>p("phone",w.target.value),className:"input-field",placeholder:"555-0100"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Security"}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1.5",children:[a.jsx(Zo,{size:14})," Login PIN"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:d?"text":"password",value:u.pin,onChange:w=>p("pin",w.target.value),className:"input-field font-mono tracking-widest pr-20",placeholder:"",maxLength:8}),a.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500 hover:text-gray-300 transition-colors",children:d?"Hide":"Show"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Used to log in to the Staff Portal"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[a.jsx(qc,{size:16})," Save Changes"]}),a.jsx("button",{type:"button",onClick:y,className:"btn-ghost",children:"Cancel"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(No,{icon:An,label:"Name",value:(s==null?void 0:s.name)||""}),a.jsx(No,{icon:Jo,label:"Email",value:(s==null?void 0:s.email)||""}),a.jsx(No,{icon:xi,label:"Phone",value:(s==null?void 0:s.phone)||""}),a.jsx(No,{icon:S4,label:"Role",value:(s==null?void 0:s.role)==="delivery"?"Delivery Driver":"In-Store Staff"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Security"}),a.jsx(No,{icon:Zo,label:"Login PIN",value:""})]})]})]})]})}function No({icon:t,label:e,value:n}){return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/5",children:[a.jsx(t,{size:16,className:"text-gray-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:e}),a.jsx("p",{className:"text-sm font-medium mt-0.5",children:n})]})]})}function Zv({children:t,requiredRole:e}){const{currentUser:n,userRole:s}=Ie();if(!n||s!==e){const o=e==="owner"?"/owner/login":e==="staff"?"/staff/login":"/auth";return a.jsx(dw,{to:o,replace:!0})}return t}function mL(){return a.jsxs(wS,{children:[a.jsx(Oe,{path:"/",element:a.jsx(A3,{})}),a.jsx(Oe,{path:"/shop",element:a.jsx(D3,{})}),a.jsx(Oe,{path:"/product/:id",element:a.jsx(NM,{})}),a.jsx(Oe,{path:"/cart",element:a.jsx(SM,{})}),a.jsx(Oe,{path:"/checkout",element:a.jsx(kM,{})}),a.jsx(Oe,{path:"/auth",element:a.jsx(TM,{})}),a.jsx(Oe,{path:"/orders",element:a.jsx(LO,{})}),a.jsx(Oe,{path:"/track/:orderId",element:a.jsx(FO,{})}),a.jsx(Oe,{path:"/owner/login",element:a.jsx(BO,{})}),a.jsxs(Oe,{path:"/owner",element:a.jsx(Zv,{requiredRole:"owner",children:a.jsx(VO,{})}),children:[a.jsx(Oe,{index:!0,element:a.jsx(UO,{})}),a.jsx(Oe,{path:"products",element:a.jsx(WO,{})}),a.jsx(Oe,{path:"staff",element:a.jsx($O,{})}),a.jsx(Oe,{path:"orders",element:a.jsx(GO,{})}),a.jsx(Oe,{path:"treasury",element:a.jsx(YO,{})}),a.jsx(Oe,{path:"ledger",element:a.jsx(qO,{})}),a.jsx(Oe,{path:"profile",element:a.jsx(KO,{})})]}),a.jsx(Oe,{path:"/staff/login",element:a.jsx(QO,{})}),a.jsxs(Oe,{path:"/staff",element:a.jsx(Zv,{requiredRole:"staff",children:a.jsx(XO,{})}),children:[a.jsx(Oe,{index:!0,element:a.jsx(ZO,{})}),a.jsx(Oe,{path:"chat",element:a.jsx(eL,{})}),a.jsx(Oe,{path:"wallet",element:a.jsx(tL,{})}),a.jsx(Oe,{path:"delivery",element:a.jsx(nL,{})}),a.jsx(Oe,{path:"instore",element:a.jsx(hL,{})}),a.jsx(Oe,{path:"profile",element:a.jsx(fL,{})})]}),a.jsx(Oe,{path:"*",element:a.jsx(dw,{to:"/",replace:!0})})]})}const Oo=["products","staff","orders","treasury","messages","inStoreSales","customers","ownerProfile"],bN={products:uf,staff:df,orders:[],treasury:{balance:5e4,accounts:[{id:"acc-1",name:"Business Checking",type:"bank",last4:"4521",connected:!0},{id:"acc-2",name:"Business Debit",type:"debit",last4:"8832",connected:!0}],transactions:[{id:"t1",type:"deposit",amount:5e4,note:"Initial funding",time:"2026-01-01T00:00:00Z",from:"Bank Transfer"}]},messages:[{id:"m1",senderId:"staff-1",senderName:"Alex Rivera",text:"Good morning team! Store is open.",time:"2026-02-12T09:00:00Z",channel:"general"},{id:"m2",senderId:"staff-2",senderName:"Jordan Lee",text:"On my way for morning deliveries!",time:"2026-02-12T09:05:00Z",channel:"general"}],inStoreSales:[],customers:[],ownerProfile:{id:"owner-1",name:"Owner",email:"owner@couchbuddies.com",phone:"",businessName:"Couch Buddies",businessAddress:"",pin:"1234",avatar:"CB",createdAt:"2026-01-01T00:00:00Z"}};function Lh(t){return t==null?null:JSON.parse(JSON.stringify(t))}function pL(t,e){return e??{products:[],staff:[],orders:[],messages:[],inStoreSales:[],customers:[],treasury:{balance:0,accounts:[],transactions:[]},ownerProfile:{id:"owner-1",name:"Owner",email:"owner@couchbuddies.com",phone:"",businessName:"Couch Buddies",businessAddress:"",pin:"1234",avatar:"CB",createdAt:"2026-01-01T00:00:00Z"}}[t]??null}function Jv(){try{let t=null;const e=localStorage.getItem("couch-buddies-v1-backup");if(e&&(t=JSON.parse(e),console.log("[FirebaseSync] Found v1 backup in localStorage")),!t){const o=localStorage.getItem("couch-buddies-store");if(o){const l=JSON.parse(o);t=l==null?void 0:l.state}}if(!t||!Oo.some(o=>{const l=t[o];return l?!!(Array.isArray(l)&&l.length>0||typeof l=="object"&&!Array.isArray(l)&&Object.keys(l).length>0):!1}))return null;const s={};for(const o of Oo)s[o]=t[o]!==void 0&&t[o]!==null?t[o]:bN[o];return console.log("[FirebaseSync] Recovered existing configurations from localStorage"),s}catch(t){return console.warn("[FirebaseSync] Could not parse localStorage data:",t),null}}let Fh=!1;function gL(){const t=E.useRef(!1);return E.useEffect(()=>{if(t.current)return;t.current=!0;const e=[],n=Co(So,"store");kP(n).then(l=>{var u,h;if(l.exists()){const d=Jv();if(d){const m=l.val();let p=!1;const g=Array.isArray(d.products)?d.products.length:0,y=Array.isArray(m.products)?m.products.length:0,b=Array.isArray(d.staff)?d.staff.length:0,w=Array.isArray(m.staff)?m.staff.length:0,S=Array.isArray(d.orders)?d.orders.length:0,C=Array.isArray(m.orders)?m.orders.length:0;if((g>y||b>w||S>C)&&(p=!0),p){console.log("[FirebaseSync] localStorage has richer data  merging into Firebase");const T={};for(const N of Oo){const j=d[N],D=m[N];if(Array.isArray(j)&&Array.isArray(D)){const L=new Map;for(const W of D)W!=null&&W.id&&L.set(W.id,W);for(const W of j)W!=null&&W.id&&L.set(W.id,W);T[N]=[...L.values()]}else if(N==="treasury"){const L=((u=j==null?void 0:j.transactions)==null?void 0:u.length)||0,W=((h=D==null?void 0:D.transactions)==null?void 0:h.length)||0;T[N]=L>W?j:D}else T[N]=D??j}Vl(n,Lh(T))}}}else{const d=Jv(),m=d||bN;console.log(`[FirebaseSync] Seeding Firebase with ${d?"recovered localStorage data":"default seed data"}`),Vl(n,Lh(m))}}).catch(l=>{console.error("[FirebaseSync] Failed to check/seed database:",l)});for(const l of Oo){const u=Co(So,`store/${l}`),h=my(u,d=>{const m=pL(l,d.val());Fh=!0,Ie.setState({[l]:m}),Fh=!1},d=>{console.error(`[FirebaseSync] Listener error for "${l}":`,d)});e.push(h)}const s=my(Co(So,"store/products"),()=>{Ie.setState({_firebaseReady:!0}),s()},{onlyOnce:!0}),o=Ie.subscribe((l,u)=>{if(!Fh)for(const h of Oo)l[h]!==u[h]&&Vl(Co(So,`store/${h}`),Lh(l[h]))});return()=>{e.forEach(l=>l()),o()}},[]),null}EC.createRoot(document.getElementById("root")).render(a.jsx(Me.StrictMode,{children:a.jsxs(TS,{children:[a.jsx(gL,{}),a.jsx(mL,{}),a.jsx(_M,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1F2937",color:"#fff",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}));
